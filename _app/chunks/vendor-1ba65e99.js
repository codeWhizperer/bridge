var Xu=Object.defineProperty,Yu=Object.defineProperties;var Qu=Object.getOwnPropertyDescriptors;var T0=Object.getOwnPropertySymbols;var eh=Object.prototype.hasOwnProperty,th=Object.prototype.propertyIsEnumerable;var k0=(r,e,t)=>e in r?Xu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Bt=(r,e)=>{for(var t in e||(e={}))eh.call(e,t)&&k0(r,t,e[t]);if(T0)for(var t of T0(e))th.call(e,t)&&k0(r,t,e[t]);return r},eo=(r,e)=>Yu(r,Qu(e));function ht(){}const sn=r=>r;function to(r,e){for(const t in e)r[t]=e[t];return r}function M0(r){return r()}function P0(){return Object.create(null)}function Cr(r){r.forEach(M0)}function fi(r){return typeof r=="function"}function ks(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let ro;function i5(r,e){return ro||(ro=document.createElement("a")),ro.href=e,r===ro.href}function rh(r){return Object.keys(r).length===0}function nh(r,...e){if(r==null)return ht;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function N0(r,e,t){r.$$.on_destroy.push(nh(e,t))}function o5(r,e,t,n){if(r){const i=I0(r,e,t,n);return r[0](i)}}function I0(r,e,t,n){return r[1]&&n?to(t.ctx.slice(),r[1](n(e))):t.ctx}function s5(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let a=0;a<s;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function a5(r,e,t,n,i,o){if(i){const s=I0(e,t,n,o);r.p(s,i)}}function f5(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function c5(r){return r==null?"":r}const B0=typeof window!="undefined";let ci=B0?()=>window.performance.now():()=>Date.now(),Ms=B0?r=>requestAnimationFrame(r):ht;const Mn=new Set;function R0(r){Mn.forEach(e=>{e.c(r)||(Mn.delete(e),e.f())}),Mn.size!==0&&Ms(R0)}function li(r){let e;return Mn.size===0&&Ms(R0),{promise:new Promise(t=>{Mn.add(e={c:r,f:t})}),abort(){Mn.delete(e)}}}let no=!1;function ih(){no=!0}function oh(){no=!1}function sh(r,e,t,n){for(;r<e;){const i=r+(e-r>>1);t(i)<=n?r=i+1:e=i}return r}function ah(r){if(r.hydrate_init)return;r.hydrate_init=!0;let e=r.childNodes;if(r.nodeName==="HEAD"){const c=[];for(let f=0;f<e.length;f++){const l=e[f];l.claim_order!==void 0&&c.push(l)}e=c}const t=new Int32Array(e.length+1),n=new Int32Array(e.length);t[0]=-1;let i=0;for(let c=0;c<e.length;c++){const f=e[c].claim_order,l=(i>0&&e[t[i]].claim_order<=f?i+1:sh(1,i,y=>e[t[y]].claim_order,f))-1;n[c]=t[l]+1;const b=l+1;t[b]=c,i=Math.max(b,i)}const o=[],s=[];let a=e.length-1;for(let c=t[i]+1;c!=0;c=n[c-1]){for(o.push(e[c-1]);a>=c;a--)s.push(e[a]);a--}for(;a>=0;a--)s.push(e[a]);o.reverse(),s.sort((c,f)=>c.claim_order-f.claim_order);for(let c=0,f=0;c<s.length;c++){for(;f<o.length&&s[c].claim_order>=o[f].claim_order;)f++;const l=f<o.length?o[f]:null;r.insertBefore(s[c],l)}}function fh(r,e){r.appendChild(e)}function C0(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function ch(r){const e=pr("style");return lh(C0(r),e),e}function lh(r,e){fh(r.head||r,e)}function an(r,e){if(no){for(ah(r),(r.actual_end_child===void 0||r.actual_end_child!==null&&r.actual_end_child.parentElement!==r)&&(r.actual_end_child=r.firstChild);r.actual_end_child!==null&&r.actual_end_child.claim_order===void 0;)r.actual_end_child=r.actual_end_child.nextSibling;e!==r.actual_end_child?(e.claim_order!==void 0||e.parentNode!==r)&&r.insertBefore(e,r.actual_end_child):r.actual_end_child=e.nextSibling}else(e.parentNode!==r||e.nextSibling!==null)&&r.appendChild(e)}function uh(r,e,t){r.insertBefore(e,t||null)}function fn(r,e,t){no&&!t?an(r,e):(e.parentNode!==r||e.nextSibling!=t)&&r.insertBefore(e,t||null)}function bt(r){r.parentNode.removeChild(r)}function l5(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function pr(r){return document.createElement(r)}function io(r){return document.createTextNode(r)}function Ps(){return io(" ")}function oo(){return io("")}function Ns(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function br(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function cn(r){return Array.from(r.childNodes)}function O0(r){r.claim_info===void 0&&(r.claim_info={last_index:0,total_claimed:0})}function F0(r,e,t,n,i=!1){O0(r);const o=(()=>{for(let s=r.claim_info.last_index;s<r.length;s++){const a=r[s];if(e(a)){const c=t(a);return c===void 0?r.splice(s,1):r[s]=c,i||(r.claim_info.last_index=s),a}}for(let s=r.claim_info.last_index-1;s>=0;s--){const a=r[s];if(e(a)){const c=t(a);return c===void 0?r.splice(s,1):r[s]=c,i?c===void 0&&r.claim_info.last_index--:r.claim_info.last_index=s,a}}return n()})();return o.claim_order=r.claim_info.total_claimed,r.claim_info.total_claimed+=1,o}function hh(r,e,t,n){return F0(r,i=>i.nodeName===e,i=>{const o=[];for(let s=0;s<i.attributes.length;s++){const a=i.attributes[s];t[a.name]||o.push(a.name)}o.forEach(s=>i.removeAttribute(s))},()=>n(e))}function Pn(r,e,t){return hh(r,e,t,pr)}function $0(r,e){return F0(r,t=>t.nodeType===3,t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n},()=>io(e),!0)}function Is(r){return $0(r," ")}function L0(r,e,t){for(let n=t;n<r.length;n+=1){const i=r[n];if(i.nodeType===8&&i.textContent.trim()===e)return n}return r.length}function dh(r){const e=L0(r,"HTML_TAG_START",0),t=L0(r,"HTML_TAG_END",e);if(e===t)return new Bs;O0(r);const n=r.splice(e,t+1);bt(n[0]),bt(n[n.length-1]);const i=n.slice(1,n.length-1);for(const o of i)o.claim_order=r.claim_info.total_claimed,r.claim_info.total_claimed+=1;return new Bs(i)}function u5(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function h5(r,e){r.value=e==null?"":e}function d5(r,e,t,n){r.style.setProperty(e,t,n?"important":"")}function so(r,e,t){r.classList[t?"add":"remove"](e)}function U0(r,e,t=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(r,t,!1,e),n}class xh{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=pr(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)uh(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(bt)}}class Bs extends xh{constructor(e){super();this.e=this.n=null,this.l=e}c(e){this.l?this.n=this.l:super.c(e)}i(e){for(let t=0;t<this.n.length;t+=1)fn(this.t,this.n[t],e)}}const Rs=new Set;let ao=0;function ph(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function ui(r,e,t,n,i,o,s,a=0){const c=16.666/n;let f=`{
`;for(let w=0;w<=1;w+=c){const I=e+(t-e)*o(w);f+=w*100+`%{${s(I,1-I)}}
`}const l=f+`100% {${s(t,1-t)}}
}`,b=`__svelte_${ph(l)}_${a}`,y=C0(r);Rs.add(y);const v=y.__svelte_stylesheet||(y.__svelte_stylesheet=ch(r).sheet),_=y.__svelte_rules||(y.__svelte_rules={});_[b]||(_[b]=!0,v.insertRule(`@keyframes ${b} ${l}`,v.cssRules.length));const S=r.style.animation||"";return r.style.animation=`${S?`${S}, `:""}${b} ${n}ms linear ${i}ms 1 both`,ao+=1,b}function hi(r,e){const t=(r.style.animation||"").split(", "),n=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=t.length-n.length;i&&(r.style.animation=n.join(", "),ao-=i,ao||bh())}function bh(){Ms(()=>{ao||(Rs.forEach(r=>{const e=r.__svelte_stylesheet;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);r.__svelte_rules={}}),Rs.clear())})}function gh(r,e,t,n){if(!e)return ht;const i=r.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return ht;const{delay:o=0,duration:s=300,easing:a=sn,start:c=ci()+o,end:f=c+s,tick:l=ht,css:b}=t(r,{from:e,to:i},n);let y=!0,v=!1,_;function S(){b&&(_=ui(r,0,1,s,o,a,b)),o||(v=!0)}function w(){b&&hi(r,_),y=!1}return li(I=>{if(!v&&I>=c&&(v=!0),v&&I>=f&&(l(1,0),w()),!y)return!1;if(v){const U=I-c,H=0+1*a(U/s);l(H,1-H)}return!0}),S(),l(0,1),w}function mh(r){const e=getComputedStyle(r);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,i=r.getBoundingClientRect();r.style.position="absolute",r.style.width=t,r.style.height=n,D0(r,i)}}function D0(r,e){const t=r.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(r),i=n.transform==="none"?"":n.transform;r.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let fo;function co(r){fo=r}function di(){if(!fo)throw new Error("Function called outside component initialization");return fo}function x5(r){di().$$.on_mount.push(r)}function p5(r){di().$$.after_update.push(r)}function yh(r){di().$$.on_destroy.push(r)}function b5(){const r=di();return(e,t)=>{const n=r.$$.callbacks[e];if(n){const i=U0(e,t);n.slice().forEach(o=>{o.call(r,i)})}}}function g5(r,e){di().$$.context.set(r,e)}function m5(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const xi=[],j0=[],lo=[],Cs=[],vh=Promise.resolve();let Os=!1;function wh(){Os||(Os=!0,vh.then(G0))}function ln(r){lo.push(r)}function y5(r){Cs.push(r)}let Fs=!1;const $s=new Set;function G0(){if(!Fs){Fs=!0;do{for(let r=0;r<xi.length;r+=1){const e=xi[r];co(e),_h(e.$$)}for(co(null),xi.length=0;j0.length;)j0.pop()();for(let r=0;r<lo.length;r+=1){const e=lo[r];$s.has(e)||($s.add(e),e())}lo.length=0}while(xi.length);for(;Cs.length;)Cs.pop()();Os=!1,Fs=!1,$s.clear()}}function _h(r){if(r.fragment!==null){r.update(),Cr(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(ln)}}let pi;function Ls(){return pi||(pi=Promise.resolve(),pi.then(()=>{pi=null})),pi}function un(r,e,t){r.dispatchEvent(U0(`${e?"intro":"outro"}${t}`))}const uo=new Set;let Jt;function Us(){Jt={r:0,c:[],p:Jt}}function Ds(){Jt.r||Cr(Jt.c),Jt=Jt.p}function Or(r,e){r&&r.i&&(uo.delete(r),r.i(e))}function hn(r,e,t,n){if(r&&r.o){if(uo.has(r))return;uo.add(r),Jt.c.push(()=>{uo.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}}const js={duration:0};function Eh(r,e,t){let n=e(r,t),i=!1,o,s,a=0;function c(){o&&hi(r,o)}function f(){const{delay:b=0,duration:y=300,easing:v=sn,tick:_=ht,css:S}=n||js;S&&(o=ui(r,0,1,y,b,v,S,a++)),_(0,1);const w=ci()+b,I=w+y;s&&s.abort(),i=!0,ln(()=>un(r,!0,"start")),s=li(U=>{if(i){if(U>=I)return _(1,0),un(r,!0,"end"),c(),i=!1;if(U>=w){const H=v((U-w)/y);_(H,1-H)}}return i})}let l=!1;return{start(){l||(l=!0,hi(r),fi(n)?(n=n(),Ls().then(f)):f())},invalidate(){l=!1},end(){i&&(c(),i=!1)}}}function Ah(r,e,t){let n=e(r,t),i=!0,o;const s=Jt;s.r+=1;function a(){const{delay:c=0,duration:f=300,easing:l=sn,tick:b=ht,css:y}=n||js;y&&(o=ui(r,1,0,f,c,l,y));const v=ci()+c,_=v+f;ln(()=>un(r,!1,"start")),li(S=>{if(i){if(S>=_)return b(0,1),un(r,!1,"end"),--s.r||Cr(s.c),!1;if(S>=v){const w=l((S-v)/f);b(1-w,w)}}return i})}return fi(n)?Ls().then(()=>{n=n(),a()}):a(),{end(c){c&&n.tick&&n.tick(1,0),i&&(o&&hi(r,o),i=!1)}}}function v5(r,e,t,n){let i=e(r,t),o=n?0:1,s=null,a=null,c=null;function f(){c&&hi(r,c)}function l(y,v){const _=y.b-o;return v*=Math.abs(_),{a:o,b:y.b,d:_,duration:v,start:y.start,end:y.start+v,group:y.group}}function b(y){const{delay:v=0,duration:_=300,easing:S=sn,tick:w=ht,css:I}=i||js,U={start:ci()+v,b:y};y||(U.group=Jt,Jt.r+=1),s||a?a=U:(I&&(f(),c=ui(r,o,y,_,v,S,I)),y&&w(0,1),s=l(U,_),ln(()=>un(r,y,"start")),li(H=>{if(a&&H>a.start&&(s=l(a,_),a=null,un(r,s.b,"start"),I&&(f(),c=ui(r,o,s.b,s.duration,0,S,i.css))),s){if(H>=s.end)w(o=s.b,1-o),un(r,s.b,"end"),a||(s.b?f():--s.group.r||Cr(s.group.c)),s=null;else if(H>=s.start){const J=H-s.start;o=s.a+s.d*S(J/s.duration),w(o,1-o)}}return!!(s||a)}))}return{run(y){fi(i)?Ls().then(()=>{i=i(),b(y)}):b(y)},end(){f(),s=a=null}}}function Sh(r,e){hn(r,1,1,()=>{e.delete(r.key)})}function Th(r,e){r.f(),Sh(r,e)}function kh(r,e,t,n,i,o,s,a,c,f,l,b){let y=r.length,v=o.length,_=y;const S={};for(;_--;)S[r[_].key]=_;const w=[],I=new Map,U=new Map;for(_=v;_--;){const Q=b(i,o,_),te=t(Q);let re=s.get(te);re?n&&re.p(Q,e):(re=f(te,Q),re.c()),I.set(te,w[_]=re),te in S&&U.set(te,Math.abs(_-S[te]))}const H=new Set,J=new Set;function V(Q){Or(Q,1),Q.m(a,l),s.set(Q.key,Q),l=Q.first,v--}for(;y&&v;){const Q=w[v-1],te=r[y-1],re=Q.key,ne=te.key;Q===te?(l=Q.first,y--,v--):I.has(ne)?!s.has(re)||H.has(re)?V(Q):J.has(ne)?y--:U.get(re)>U.get(ne)?(J.add(re),V(Q)):(H.add(ne),y--):(c(te,s),y--)}for(;y--;){const Q=r[y];I.has(Q.key)||c(Q,s)}for(;v;)V(w[v-1]);return w}function Mh(r,e){const t={},n={},i={$$scope:1};let o=r.length;for(;o--;){const s=r[o],a=e[o];if(a){for(const c in s)c in a||(n[c]=1);for(const c in a)i[c]||(t[c]=a[c],i[c]=1);r[o]=a}else for(const c in s)i[c]=1}for(const s in n)s in t||(t[s]=void 0);return t}function Ph(r){return typeof r=="object"&&r!==null?r:{}}function w5(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function Gs(r){r&&r.c()}function z0(r,e){r&&r.l(e)}function ho(r,e,t,n){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=r.$$;i&&i.m(e,t),n||ln(()=>{const c=o.map(M0).filter(fi);s?s.push(...c):Cr(c),r.$$.on_mount=[]}),a.forEach(ln)}function xo(r,e){const t=r.$$;t.fragment!==null&&(Cr(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Nh(r,e){r.$$.dirty[0]===-1&&(xi.push(r),wh(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function q0(r,e,t,n,i,o,s,a=[-1]){const c=fo;co(r);const f=r.$$={fragment:null,ctx:null,props:o,update:ht,not_equal:i,bound:P0(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:P0(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};s&&s(f.root);let l=!1;if(f.ctx=t?t(r,e.props||{},(b,y,...v)=>{const _=v.length?v[0]:y;return f.ctx&&i(f.ctx[b],f.ctx[b]=_)&&(!f.skip_bound&&f.bound[b]&&f.bound[b](_),l&&Nh(r,b)),y}):[],f.update(),l=!0,Cr(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){ih();const b=cn(e.target);f.fragment&&f.fragment.l(b),b.forEach(bt)}else f.fragment&&f.fragment.c();e.intro&&Or(r.$$.fragment),ho(r,e.target,e.anchor,e.customElement),oh(),G0()}co(c)}class H0{$destroy(){xo(this,1),this.$destroy=ht}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!rh(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nn=[];function V0(r,e=ht){let t;const n=new Set;function i(a){if(ks(r,a)&&(r=a,t)){const c=!Nn.length;for(const f of n)f[1](),Nn.push(f,r);if(c){for(let f=0;f<Nn.length;f+=2)Nn[f][0](Nn[f+1]);Nn.length=0}}}function o(a){i(a(r))}function s(a,c=ht){const f=[a,c];return n.add(f),n.size===1&&(t=e(i)||ht),a(r),()=>{n.delete(f),n.size===0&&(t(),t=null)}}return{set:i,update:o,subscribe:s}}function K0(r){const e=r-1;return e*e*e+1}function Ih(r,{delay:e=0,duration:t=400,easing:n=sn}={}){const i=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:o=>`opacity: ${o*i}`}}function Bh(r,{delay:e=0,duration:t=400,easing:n=K0,x:i=0,y:o=0,opacity:s=0}={}){const a=getComputedStyle(r),c=+a.opacity,f=a.transform==="none"?"":a.transform,l=c*(1-s);return{delay:e,duration:t,easing:n,css:(b,y)=>`
			transform: ${f} translate(${(1-b)*i}px, ${(1-b)*o}px);
			opacity: ${c-l*y}`}}function Rh(r,{from:e,to:t},n={}){const i=getComputedStyle(r),o=i.transform==="none"?"":i.transform,[s,a]=i.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*s/t.width-(t.left+s),f=e.top+e.height*a/t.height-(t.top+a),{delay:l=0,duration:b=v=>Math.sqrt(v)*120,easing:y=K0}=n;return{delay:l,duration:fi(b)?b(Math.sqrt(c*c+f*f)):b,easing:y,css:(v,_)=>{const S=_*c,w=_*f,I=v+_*e.width/t.width,U=v+_*e.height/t.height;return`transform: ${o} translate(${S}px, ${w}px) scale(${I}, ${U});`}}}const Ch={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256},theme:{}},Oh=()=>{const{subscribe:r,update:e}=V0([]);let t=0;const n={},i=f=>f instanceof Object;return{subscribe:r,push:(f,l={})=>{const b=Bt({target:"default"},i(f)?f:eo(Bt({},l),{msg:f})),y=n[b.target]||{},v=eo(Bt(Bt(Bt({},Ch),y),b),{theme:Bt(Bt({},y.theme),b.theme),id:++t});return e(_=>v.reversed?[..._,v]:[v,..._]),t},pop:f=>{e(l=>{if(!l.length||f===0)return[];if(i(f))return l.filter(y=>f(y));const b=f||Math.max(...l.map(y=>y.id));return l.filter(y=>y.id!==b)})},set:(f,l={})=>{const b=i(f)?Bt({},f):eo(Bt({},l),{id:f});e(y=>{const v=y.findIndex(_=>_.id===b.id);return v>-1&&(y[v]=Bt(Bt({},y[v]),b)),y})},_init:(f="default",l={})=>(n[f]=l,n)}},zs=Oh();function W0(r){return Object.prototype.toString.call(r)==="[object Date]"}function qs(r,e){if(r===e||r!==r)return()=>r;const t=typeof r;if(t!==typeof e||Array.isArray(r)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(r)){const n=e.map((i,o)=>qs(r[o],i));return i=>n.map(o=>o(i))}if(t==="object"){if(!r||!e)throw new Error("Object cannot be null");if(W0(r)&&W0(e)){r=r.getTime(),e=e.getTime();const o=e-r;return s=>new Date(r+s*o)}const n=Object.keys(e),i={};return n.forEach(o=>{i[o]=qs(r[o],e[o])}),o=>{const s={};return n.forEach(a=>{s[a]=i[a](o)}),s}}if(t==="number"){const n=e-r;return i=>r+i*n}throw new Error(`Cannot interpolate ${t} values`)}function Fh(r,e={}){const t=V0(r);let n,i=r;function o(s,a){if(r==null)return t.set(r=s),Promise.resolve();i=s;let c=n,f=!1,{delay:l=0,duration:b=400,easing:y=sn,interpolate:v=qs}=to(to({},e),a);if(b===0)return c&&(c.abort(),c=null),t.set(r=i),Promise.resolve();const _=ci()+l;let S;return n=li(w=>{if(w<_)return!0;f||(S=v(r,s),typeof b=="function"&&(b=b(r,s)),f=!0),c&&(c.abort(),c=null);const I=w-_;return I>b?(t.set(r=s),!1):(t.set(r=S(y(I/b))),!0)}),n.promise}return{set:o,update:(s,a)=>o(s(i,r),a),subscribe:t.subscribe}}function $h(r){let e,t=r[0].msg+"",n;return{c(){e=new Bs,n=oo(),this.h()},l(i){e=dh(i),n=oo(),this.h()},h(){e.a=n},m(i,o){e.m(t,i,o),fn(i,n,o)},p(i,o){o&1&&t!==(t=i[0].msg+"")&&e.p(t)},i:ht,o:ht,d(i){i&&bt(n),i&&e.d()}}}function Lh(r){let e,t,n;const i=[r[6]()];var o=r[0].component.src;function s(a){let c={};for(let f=0;f<i.length;f+=1)c=to(c,i[f]);return{props:c}}return o&&(e=new o(s())),{c(){e&&Gs(e.$$.fragment),t=oo()},l(a){e&&z0(e.$$.fragment,a),t=oo()},m(a,c){e&&ho(e,a,c),fn(a,t,c),n=!0},p(a,c){const f=c&64?Mh(i,[Ph(a[6]())]):{};if(o!==(o=a[0].component.src)){if(e){Us();const l=e;hn(l.$$.fragment,1,0,()=>{xo(l,1)}),Ds()}o?(e=new o(s()),Gs(e.$$.fragment),Or(e.$$.fragment,1),ho(e,t.parentNode,t)):e=null}else o&&e.$set(f)},i(a){n||(e&&Or(e.$$.fragment,a),n=!0)},o(a){e&&hn(e.$$.fragment,a),n=!1},d(a){a&&bt(t),e&&xo(e,a)}}}function J0(r){let e,t,n,i;return{c(){e=pr("div"),t=io("\u2715"),this.h()},l(o){e=Pn(o,"DIV",{class:!0,role:!0,tabindex:!0});var s=cn(e);t=$0(s,"\u2715"),s.forEach(bt),this.h()},h(){br(e,"class","_toastBtn pe svelte-j9nwjb"),br(e,"role","button"),br(e,"tabindex","-1")},m(o,s){fn(o,e,s),an(e,t),n||(i=Ns(e,"click",r[3]),n=!0)},p:ht,d(o){o&&bt(e),n=!1,i()}}}function Uh(r){let e,t,n,i,o,s,a,c,f,l;const b=[Lh,$h],y=[];function v(S,w){return S[0].component?0:1}n=v(r),i=y[n]=b[n](r);let _=r[0].dismissable&&J0(r);return{c(){e=pr("div"),t=pr("div"),i.c(),o=Ps(),_&&_.c(),s=Ps(),a=pr("progress"),this.h()},l(S){e=Pn(S,"DIV",{class:!0});var w=cn(e);t=Pn(w,"DIV",{class:!0});var I=cn(t);i.l(I),I.forEach(bt),o=Is(w),_&&_.l(w),s=Is(w),a=Pn(w,"PROGRESS",{class:!0}),cn(a).forEach(bt),w.forEach(bt),this.h()},h(){br(t,"class","_toastMsg svelte-j9nwjb"),so(t,"pe",r[0].component),br(a,"class","_toastBar svelte-j9nwjb"),a.value=r[1],br(e,"class","_toastItem svelte-j9nwjb"),so(e,"pe",r[0].pausable)},m(S,w){fn(S,e,w),an(e,t),y[n].m(t,null),an(e,o),_&&_.m(e,null),an(e,s),an(e,a),c=!0,f||(l=[Ns(e,"mouseenter",r[4]),Ns(e,"mouseleave",r[5])],f=!0)},p(S,[w]){let I=n;n=v(S),n===I?y[n].p(S,w):(Us(),hn(y[I],1,1,()=>{y[I]=null}),Ds(),i=y[n],i?i.p(S,w):(i=y[n]=b[n](S),i.c()),Or(i,1),i.m(t,null)),w&1&&so(t,"pe",S[0].component),S[0].dismissable?_?_.p(S,w):(_=J0(S),_.c(),_.m(e,s)):_&&(_.d(1),_=null),(!c||w&2)&&(a.value=S[1]),w&1&&so(e,"pe",S[0].pausable)},i(S){c||(Or(i),c=!0)},o(S){hn(i),c=!1},d(S){S&&bt(e),y[n].d(),_&&_.d(),f=!1,Cr(l)}}}function Dh(r,e,t){let n,{item:i}=e;const o=Fh(i.initial,{duration:i.duration,easing:sn});N0(r,o,_=>t(1,n=_));const s=()=>zs.pop(i.id),a=()=>{(n===1||n===0)&&s()};let c=i.initial,f=c,l=!1;const b=()=>{i.pausable&&!l&&n!==c&&(o.set(n,{duration:0}),l=!0)},y=()=>{if(l){const _=i.duration,S=_-_*((n-f)/(c-f));o.set(c,{duration:S}).then(a),l=!1}},v=()=>{const{props:_={},sendIdTo:S}=i.component;return S&&(_[S]=i.id),_};return yh(()=>{typeof i.onpop=="function"&&i.onpop(i.id)}),r.$$set=_=>{"item"in _&&t(0,i=_.item)},r.$$.update=()=>{r.$$.dirty&1&&typeof i.progress!="undefined"&&t(0,i.next=i.progress,i),r.$$.dirty&131&&c!==i.next&&(t(7,c=i.next),f=n,l=!1,o.set(c).then(a))},[i,n,o,s,b,y,v,c]}class jh extends H0{constructor(e){super();q0(this,e,Dh,Uh,ks,{item:0})}}function Z0(r,e,t){const n=r.slice();return n[5]=e[t],n}function X0(r,e){let t,n,i,o,s,a,c,f=ht,l;return n=new jh({props:{item:e[5]}}),{key:r,first:null,c(){t=pr("li"),Gs(n.$$.fragment),i=Ps(),this.h()},l(b){t=Pn(b,"LI",{style:!0});var y=cn(t);z0(n.$$.fragment,y),i=Is(y),y.forEach(bt),this.h()},h(){br(t,"style",o=e[1](e[5].theme)),this.first=t},m(b,y){fn(b,t,y),ho(n,t,null),an(t,i),l=!0},p(b,y){e=b;const v={};y&1&&(v.item=e[5]),n.$set(v),(!l||y&1&&o!==(o=e[1](e[5].theme)))&&br(t,"style",o)},r(){c=t.getBoundingClientRect()},f(){mh(t),f(),D0(t,c)},a(){f(),f=gh(t,c,Rh,{duration:200})},i(b){l||(Or(n.$$.fragment,b),ln(()=>{a&&a.end(1),s=Eh(t,Bh,e[5].intro),s.start()}),l=!0)},o(b){hn(n.$$.fragment,b),s&&s.invalidate(),a=Ah(t,Ih,{}),l=!1},d(b){b&&bt(t),xo(n),b&&a&&a.end()}}}function Gh(r){let e,t=[],n=new Map,i,o=r[0];const s=a=>a[5].id;for(let a=0;a<o.length;a+=1){let c=Z0(r,o,a),f=s(c);n.set(f,t[a]=X0(f,c))}return{c(){e=pr("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=Pn(a,"UL",{class:!0});var c=cn(e);for(let f=0;f<t.length;f+=1)t[f].l(c);c.forEach(bt),this.h()},h(){br(e,"class","_toastContainer svelte-7xr3c1")},m(a,c){fn(a,e,c);for(let f=0;f<t.length;f+=1)t[f].m(e,null);i=!0},p(a,[c]){if(c&3){o=a[0],Us();for(let f=0;f<t.length;f+=1)t[f].r();t=kh(t,c,s,1,a,o,n,e,Th,X0,null,Z0);for(let f=0;f<t.length;f+=1)t[f].a();Ds()}},i(a){if(!i){for(let c=0;c<o.length;c+=1)Or(t[c]);i=!0}},o(a){for(let c=0;c<t.length;c+=1)hn(t[c]);i=!1},d(a){a&&bt(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function zh(r,e,t){let n;N0(r,zs,c=>t(4,n=c));let{options:i={}}=e,{target:o="default"}=e,s;const a=c=>Object.keys(c).reduce((f,l)=>`${f}${l}:${c[l]};`,"");return r.$$set=c=>{"options"in c&&t(2,i=c.options),"target"in c&&t(3,o=c.target)},r.$$.update=()=>{r.$$.dirty&12&&zs._init(o,i),r.$$.dirty&24&&t(0,s=n.filter(c=>c.target===o))},[s,a,i,o,n]}class _5 extends H0{constructor(e){super();q0(this,e,zh,Gh,ks,{options:2,target:3})}}var rt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function qh(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(t){var n=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:function(){return r[t]}})}),e}var Y0={exports:{}};(function(r){(function(e,t){function n(N,u){if(!N)throw new Error(u||"Assertion failed")}function i(N,u){N.super_=u;var g=function(){};g.prototype=u.prototype,N.prototype=new g,N.prototype.constructor=N}function o(N,u,g){if(o.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((u==="le"||u==="be")&&(g=u,u=10),this._init(N||0,u||10,g||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=require("buffer").Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,g){return u.cmp(g)>0?u:g},o.min=function(u,g){return u.cmp(g)<0?u:g},o.prototype._init=function(u,g,A){if(typeof u=="number")return this._initNumber(u,g,A);if(typeof u=="object")return this._initArray(u,g,A);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),u=u.toString().replace(/\s+/g,"");var T=0;u[0]==="-"&&(T++,this.negative=1),T<u.length&&(g===16?this._parseHex(u,T,A):(this._parseBase(u,g,T),A==="le"&&this._initArray(this.toArray(),g,A)))},o.prototype._initNumber=function(u,g,A){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),g,A)},o.prototype._initArray=function(u,g,A){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var k,B,$=0;if(A==="be")for(T=u.length-1,k=0;T>=0;T-=3)B=u[T]|u[T-1]<<8|u[T-2]<<16,this.words[k]|=B<<$&67108863,this.words[k+1]=B>>>26-$&67108863,$+=24,$>=26&&($-=26,k++);else if(A==="le")for(T=0,k=0;T<u.length;T+=3)B=u[T]|u[T+1]<<8|u[T+2]<<16,this.words[k]|=B<<$&67108863,this.words[k+1]=B>>>26-$&67108863,$+=24,$>=26&&($-=26,k++);return this.strip()};function a(N,u){var g=N.charCodeAt(u);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}function c(N,u,g){var A=a(N,g);return g-1>=u&&(A|=a(N,g-1)<<4),A}o.prototype._parseHex=function(u,g,A){this.length=Math.ceil((u.length-g)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var k=0,B=0,$;if(A==="be")for(T=u.length-1;T>=g;T-=2)$=c(u,g,T)<<k,this.words[B]|=$&67108863,k>=18?(k-=18,B+=1,this.words[B]|=$>>>26):k+=8;else{var P=u.length-g;for(T=P%2==0?g+1:g;T<u.length;T+=2)$=c(u,g,T)<<k,this.words[B]|=$&67108863,k>=18?(k-=18,B+=1,this.words[B]|=$>>>26):k+=8}this.strip()};function f(N,u,g,A){for(var T=0,k=Math.min(N.length,g),B=u;B<k;B++){var $=N.charCodeAt(B)-48;T*=A,$>=49?T+=$-49+10:$>=17?T+=$-17+10:T+=$}return T}o.prototype._parseBase=function(u,g,A){this.words=[0],this.length=1;for(var T=0,k=1;k<=67108863;k*=g)T++;T--,k=k/g|0;for(var B=u.length-A,$=B%T,P=Math.min(B,B-$)+A,d=0,m=A;m<P;m+=T)d=f(u,m,m+T,g),this.imuln(k),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if($!==0){var R=1;for(d=f(u,m,u.length,g),m=0;m<$;m++)R*=g;this.imuln(R),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},o.prototype.copy=function(u){u.words=new Array(this.length);for(var g=0;g<this.length;g++)u.words[g]=this.words[g];u.length=this.length,u.negative=this.negative,u.red=this.red},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,g){u=u||10,g=g|0||1;var A;if(u===16||u==="hex"){A="";for(var T=0,k=0,B=0;B<this.length;B++){var $=this.words[B],P=(($<<T|k)&16777215).toString(16);k=$>>>24-T&16777215,k!==0||B!==this.length-1?A=l[6-P.length]+P+A:A=P+A,T+=2,T>=26&&(T-=26,B--)}for(k!==0&&(A=k.toString(16)+A);A.length%g!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(u===(u|0)&&u>=2&&u<=36){var d=b[u],m=y[u];A="";var R=this.clone();for(R.negative=0;!R.isZero();){var j=R.modn(m).toString(u);R=R.idivn(m),R.isZero()?A=j+A:A=l[d-j.length]+j+A}for(this.isZero()&&(A="0"+A);A.length%g!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(u,g){return n(typeof s!="undefined"),this.toArrayLike(s,u,g)},o.prototype.toArray=function(u,g){return this.toArrayLike(Array,u,g)},o.prototype.toArrayLike=function(u,g,A){var T=this.byteLength(),k=A||Math.max(1,T);n(T<=k,"byte array longer than desired length"),n(k>0,"Requested array length <= 0"),this.strip();var B=g==="le",$=new u(k),P,d,m=this.clone();if(B){for(d=0;!m.isZero();d++)P=m.andln(255),m.iushrn(8),$[d]=P;for(;d<k;d++)$[d]=0}else{for(d=0;d<k-T;d++)$[d]=0;for(d=0;!m.isZero();d++)P=m.andln(255),m.iushrn(8),$[k-d-1]=P}return $},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var g=u,A=0;return g>=4096&&(A+=13,g>>>=13),g>=64&&(A+=7,g>>>=7),g>=8&&(A+=4,g>>>=4),g>=2&&(A+=2,g>>>=2),A+g},o.prototype._zeroBits=function(u){if(u===0)return 26;var g=u,A=0;return(g&8191)==0&&(A+=13,g>>>=13),(g&127)==0&&(A+=7,g>>>=7),(g&15)==0&&(A+=4,g>>>=4),(g&3)==0&&(A+=2,g>>>=2),(g&1)==0&&A++,A},o.prototype.bitLength=function(){var u=this.words[this.length-1],g=this._countBits(u);return(this.length-1)*26+g};function v(N){for(var u=new Array(N.bitLength()),g=0;g<u.length;g++){var A=g/26|0,T=g%26;u[g]=(N.words[A]&1<<T)>>>T}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,g=0;g<this.length;g++){var A=this._zeroBits(this.words[g]);if(u+=A,A!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var g=0;g<u.length;g++)this.words[g]=this.words[g]|u.words[g];return this.strip()},o.prototype.ior=function(u){return n((this.negative|u.negative)==0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var g;this.length>u.length?g=u:g=this;for(var A=0;A<g.length;A++)this.words[A]=this.words[A]&u.words[A];return this.length=g.length,this.strip()},o.prototype.iand=function(u){return n((this.negative|u.negative)==0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var g,A;this.length>u.length?(g=this,A=u):(g=u,A=this);for(var T=0;T<A.length;T++)this.words[T]=g.words[T]^A.words[T];if(this!==g)for(;T<g.length;T++)this.words[T]=g.words[T];return this.length=g.length,this.strip()},o.prototype.ixor=function(u){return n((this.negative|u.negative)==0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var g=Math.ceil(u/26)|0,A=u%26;this._expand(g),A>0&&g--;for(var T=0;T<g;T++)this.words[T]=~this.words[T]&67108863;return A>0&&(this.words[T]=~this.words[T]&67108863>>26-A),this.strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,g){n(typeof u=="number"&&u>=0);var A=u/26|0,T=u%26;return this._expand(A+1),g?this.words[A]=this.words[A]|1<<T:this.words[A]=this.words[A]&~(1<<T),this.strip()},o.prototype.iadd=function(u){var g;if(this.negative!==0&&u.negative===0)return this.negative=0,g=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,g=this.isub(u),u.negative=1,g._normSign();var A,T;this.length>u.length?(A=this,T=u):(A=u,T=this);for(var k=0,B=0;B<T.length;B++)g=(A.words[B]|0)+(T.words[B]|0)+k,this.words[B]=g&67108863,k=g>>>26;for(;k!==0&&B<A.length;B++)g=(A.words[B]|0)+k,this.words[B]=g&67108863,k=g>>>26;if(this.length=A.length,k!==0)this.words[this.length]=k,this.length++;else if(A!==this)for(;B<A.length;B++)this.words[B]=A.words[B];return this},o.prototype.add=function(u){var g;return u.negative!==0&&this.negative===0?(u.negative=0,g=this.sub(u),u.negative^=1,g):u.negative===0&&this.negative!==0?(this.negative=0,g=u.sub(this),this.negative=1,g):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var g=this.iadd(u);return u.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var A=this.cmp(u);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,k;A>0?(T=this,k=u):(T=u,k=this);for(var B=0,$=0;$<k.length;$++)g=(T.words[$]|0)-(k.words[$]|0)+B,B=g>>26,this.words[$]=g&67108863;for(;B!==0&&$<T.length;$++)g=(T.words[$]|0)+B,B=g>>26,this.words[$]=g&67108863;if(B===0&&$<T.length&&T!==this)for(;$<T.length;$++)this.words[$]=T.words[$];return this.length=Math.max(this.length,$),T!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function _(N,u,g){g.negative=u.negative^N.negative;var A=N.length+u.length|0;g.length=A,A=A-1|0;var T=N.words[0]|0,k=u.words[0]|0,B=T*k,$=B&67108863,P=B/67108864|0;g.words[0]=$;for(var d=1;d<A;d++){for(var m=P>>>26,R=P&67108863,j=Math.min(d,u.length-1),F=Math.max(0,d-N.length+1);F<=j;F++){var p=d-F|0;T=N.words[p]|0,k=u.words[F]|0,B=T*k+R,m+=B/67108864|0,R=B&67108863}g.words[d]=R|0,P=m|0}return P!==0?g.words[d]=P|0:g.length--,g.strip()}var S=function(u,g,A){var T=u.words,k=g.words,B=A.words,$=0,P,d,m,R=T[0]|0,j=R&8191,F=R>>>13,p=T[1]|0,L=p&8191,G=p>>>13,K=T[2]|0,W=K&8191,X=K>>>13,oe=T[3]|0,ie=oe&8191,ue=oe>>>13,ce=T[4]|0,de=ce&8191,Ne=ce>>>13,Ut=T[5]|0,Ie=Ut&8191,Be=Ut>>>13,Wt=T[6]|0,Ae=Wt&8191,ge=Wt>>>13,Dt=T[7]|0,Re=Dt&8191,_e=Dt>>>13,xr=T[8]|0,E=xr&8191,h=xr>>>13,x=T[9]|0,M=x&8191,C=x>>>13,D=k[0]|0,z=D&8191,se=D>>>13,Se=k[1]|0,le=Se&8191,he=Se>>>13,ve=k[2]|0,$e=ve&8191,Le=ve>>>13,Yr=k[3]|0,Ue=Yr&8191,De=Yr>>>13,Qr=k[4]|0,je=Qr&8191,Ge=Qr>>>13,en=k[5]|0,ze=en&8191,qe=en>>>13,tn=k[6]|0,He=tn&8191,Ve=tn>>>13,rn=k[7]|0,Ke=rn&8191,We=rn>>>13,nn=k[8]|0,Je=nn&8191,Ze=nn>>>13,on=k[9]|0,Xe=on&8191,Ye=on>>>13;A.negative=u.negative^g.negative,A.length=19,P=Math.imul(j,z),d=Math.imul(j,se),d=d+Math.imul(F,z)|0,m=Math.imul(F,se);var kr=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,P=Math.imul(L,z),d=Math.imul(L,se),d=d+Math.imul(G,z)|0,m=Math.imul(G,se),P=P+Math.imul(j,le)|0,d=d+Math.imul(j,he)|0,d=d+Math.imul(F,le)|0,m=m+Math.imul(F,he)|0;var Mr=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,P=Math.imul(W,z),d=Math.imul(W,se),d=d+Math.imul(X,z)|0,m=Math.imul(X,se),P=P+Math.imul(L,le)|0,d=d+Math.imul(L,he)|0,d=d+Math.imul(G,le)|0,m=m+Math.imul(G,he)|0,P=P+Math.imul(j,$e)|0,d=d+Math.imul(j,Le)|0,d=d+Math.imul(F,$e)|0,m=m+Math.imul(F,Le)|0;var Pr=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,P=Math.imul(ie,z),d=Math.imul(ie,se),d=d+Math.imul(ue,z)|0,m=Math.imul(ue,se),P=P+Math.imul(W,le)|0,d=d+Math.imul(W,he)|0,d=d+Math.imul(X,le)|0,m=m+Math.imul(X,he)|0,P=P+Math.imul(L,$e)|0,d=d+Math.imul(L,Le)|0,d=d+Math.imul(G,$e)|0,m=m+Math.imul(G,Le)|0,P=P+Math.imul(j,Ue)|0,d=d+Math.imul(j,De)|0,d=d+Math.imul(F,Ue)|0,m=m+Math.imul(F,De)|0;var Nr=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,P=Math.imul(de,z),d=Math.imul(de,se),d=d+Math.imul(Ne,z)|0,m=Math.imul(Ne,se),P=P+Math.imul(ie,le)|0,d=d+Math.imul(ie,he)|0,d=d+Math.imul(ue,le)|0,m=m+Math.imul(ue,he)|0,P=P+Math.imul(W,$e)|0,d=d+Math.imul(W,Le)|0,d=d+Math.imul(X,$e)|0,m=m+Math.imul(X,Le)|0,P=P+Math.imul(L,Ue)|0,d=d+Math.imul(L,De)|0,d=d+Math.imul(G,Ue)|0,m=m+Math.imul(G,De)|0,P=P+Math.imul(j,je)|0,d=d+Math.imul(j,Ge)|0,d=d+Math.imul(F,je)|0,m=m+Math.imul(F,Ge)|0;var Ir=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,P=Math.imul(Ie,z),d=Math.imul(Ie,se),d=d+Math.imul(Be,z)|0,m=Math.imul(Be,se),P=P+Math.imul(de,le)|0,d=d+Math.imul(de,he)|0,d=d+Math.imul(Ne,le)|0,m=m+Math.imul(Ne,he)|0,P=P+Math.imul(ie,$e)|0,d=d+Math.imul(ie,Le)|0,d=d+Math.imul(ue,$e)|0,m=m+Math.imul(ue,Le)|0,P=P+Math.imul(W,Ue)|0,d=d+Math.imul(W,De)|0,d=d+Math.imul(X,Ue)|0,m=m+Math.imul(X,De)|0,P=P+Math.imul(L,je)|0,d=d+Math.imul(L,Ge)|0,d=d+Math.imul(G,je)|0,m=m+Math.imul(G,Ge)|0,P=P+Math.imul(j,ze)|0,d=d+Math.imul(j,qe)|0,d=d+Math.imul(F,ze)|0,m=m+Math.imul(F,qe)|0;var Br=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,P=Math.imul(Ae,z),d=Math.imul(Ae,se),d=d+Math.imul(ge,z)|0,m=Math.imul(ge,se),P=P+Math.imul(Ie,le)|0,d=d+Math.imul(Ie,he)|0,d=d+Math.imul(Be,le)|0,m=m+Math.imul(Be,he)|0,P=P+Math.imul(de,$e)|0,d=d+Math.imul(de,Le)|0,d=d+Math.imul(Ne,$e)|0,m=m+Math.imul(Ne,Le)|0,P=P+Math.imul(ie,Ue)|0,d=d+Math.imul(ie,De)|0,d=d+Math.imul(ue,Ue)|0,m=m+Math.imul(ue,De)|0,P=P+Math.imul(W,je)|0,d=d+Math.imul(W,Ge)|0,d=d+Math.imul(X,je)|0,m=m+Math.imul(X,Ge)|0,P=P+Math.imul(L,ze)|0,d=d+Math.imul(L,qe)|0,d=d+Math.imul(G,ze)|0,m=m+Math.imul(G,qe)|0,P=P+Math.imul(j,He)|0,d=d+Math.imul(j,Ve)|0,d=d+Math.imul(F,He)|0,m=m+Math.imul(F,Ve)|0;var Rr=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,P=Math.imul(Re,z),d=Math.imul(Re,se),d=d+Math.imul(_e,z)|0,m=Math.imul(_e,se),P=P+Math.imul(Ae,le)|0,d=d+Math.imul(Ae,he)|0,d=d+Math.imul(ge,le)|0,m=m+Math.imul(ge,he)|0,P=P+Math.imul(Ie,$e)|0,d=d+Math.imul(Ie,Le)|0,d=d+Math.imul(Be,$e)|0,m=m+Math.imul(Be,Le)|0,P=P+Math.imul(de,Ue)|0,d=d+Math.imul(de,De)|0,d=d+Math.imul(Ne,Ue)|0,m=m+Math.imul(Ne,De)|0,P=P+Math.imul(ie,je)|0,d=d+Math.imul(ie,Ge)|0,d=d+Math.imul(ue,je)|0,m=m+Math.imul(ue,Ge)|0,P=P+Math.imul(W,ze)|0,d=d+Math.imul(W,qe)|0,d=d+Math.imul(X,ze)|0,m=m+Math.imul(X,qe)|0,P=P+Math.imul(L,He)|0,d=d+Math.imul(L,Ve)|0,d=d+Math.imul(G,He)|0,m=m+Math.imul(G,Ve)|0,P=P+Math.imul(j,Ke)|0,d=d+Math.imul(j,We)|0,d=d+Math.imul(F,Ke)|0,m=m+Math.imul(F,We)|0;var ps=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(ps>>>26)|0,ps&=67108863,P=Math.imul(E,z),d=Math.imul(E,se),d=d+Math.imul(h,z)|0,m=Math.imul(h,se),P=P+Math.imul(Re,le)|0,d=d+Math.imul(Re,he)|0,d=d+Math.imul(_e,le)|0,m=m+Math.imul(_e,he)|0,P=P+Math.imul(Ae,$e)|0,d=d+Math.imul(Ae,Le)|0,d=d+Math.imul(ge,$e)|0,m=m+Math.imul(ge,Le)|0,P=P+Math.imul(Ie,Ue)|0,d=d+Math.imul(Ie,De)|0,d=d+Math.imul(Be,Ue)|0,m=m+Math.imul(Be,De)|0,P=P+Math.imul(de,je)|0,d=d+Math.imul(de,Ge)|0,d=d+Math.imul(Ne,je)|0,m=m+Math.imul(Ne,Ge)|0,P=P+Math.imul(ie,ze)|0,d=d+Math.imul(ie,qe)|0,d=d+Math.imul(ue,ze)|0,m=m+Math.imul(ue,qe)|0,P=P+Math.imul(W,He)|0,d=d+Math.imul(W,Ve)|0,d=d+Math.imul(X,He)|0,m=m+Math.imul(X,Ve)|0,P=P+Math.imul(L,Ke)|0,d=d+Math.imul(L,We)|0,d=d+Math.imul(G,Ke)|0,m=m+Math.imul(G,We)|0,P=P+Math.imul(j,Je)|0,d=d+Math.imul(j,Ze)|0,d=d+Math.imul(F,Je)|0,m=m+Math.imul(F,Ze)|0;var bs=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(bs>>>26)|0,bs&=67108863,P=Math.imul(M,z),d=Math.imul(M,se),d=d+Math.imul(C,z)|0,m=Math.imul(C,se),P=P+Math.imul(E,le)|0,d=d+Math.imul(E,he)|0,d=d+Math.imul(h,le)|0,m=m+Math.imul(h,he)|0,P=P+Math.imul(Re,$e)|0,d=d+Math.imul(Re,Le)|0,d=d+Math.imul(_e,$e)|0,m=m+Math.imul(_e,Le)|0,P=P+Math.imul(Ae,Ue)|0,d=d+Math.imul(Ae,De)|0,d=d+Math.imul(ge,Ue)|0,m=m+Math.imul(ge,De)|0,P=P+Math.imul(Ie,je)|0,d=d+Math.imul(Ie,Ge)|0,d=d+Math.imul(Be,je)|0,m=m+Math.imul(Be,Ge)|0,P=P+Math.imul(de,ze)|0,d=d+Math.imul(de,qe)|0,d=d+Math.imul(Ne,ze)|0,m=m+Math.imul(Ne,qe)|0,P=P+Math.imul(ie,He)|0,d=d+Math.imul(ie,Ve)|0,d=d+Math.imul(ue,He)|0,m=m+Math.imul(ue,Ve)|0,P=P+Math.imul(W,Ke)|0,d=d+Math.imul(W,We)|0,d=d+Math.imul(X,Ke)|0,m=m+Math.imul(X,We)|0,P=P+Math.imul(L,Je)|0,d=d+Math.imul(L,Ze)|0,d=d+Math.imul(G,Je)|0,m=m+Math.imul(G,Ze)|0,P=P+Math.imul(j,Xe)|0,d=d+Math.imul(j,Ye)|0,d=d+Math.imul(F,Xe)|0,m=m+Math.imul(F,Ye)|0;var gs=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(gs>>>26)|0,gs&=67108863,P=Math.imul(M,le),d=Math.imul(M,he),d=d+Math.imul(C,le)|0,m=Math.imul(C,he),P=P+Math.imul(E,$e)|0,d=d+Math.imul(E,Le)|0,d=d+Math.imul(h,$e)|0,m=m+Math.imul(h,Le)|0,P=P+Math.imul(Re,Ue)|0,d=d+Math.imul(Re,De)|0,d=d+Math.imul(_e,Ue)|0,m=m+Math.imul(_e,De)|0,P=P+Math.imul(Ae,je)|0,d=d+Math.imul(Ae,Ge)|0,d=d+Math.imul(ge,je)|0,m=m+Math.imul(ge,Ge)|0,P=P+Math.imul(Ie,ze)|0,d=d+Math.imul(Ie,qe)|0,d=d+Math.imul(Be,ze)|0,m=m+Math.imul(Be,qe)|0,P=P+Math.imul(de,He)|0,d=d+Math.imul(de,Ve)|0,d=d+Math.imul(Ne,He)|0,m=m+Math.imul(Ne,Ve)|0,P=P+Math.imul(ie,Ke)|0,d=d+Math.imul(ie,We)|0,d=d+Math.imul(ue,Ke)|0,m=m+Math.imul(ue,We)|0,P=P+Math.imul(W,Je)|0,d=d+Math.imul(W,Ze)|0,d=d+Math.imul(X,Je)|0,m=m+Math.imul(X,Ze)|0,P=P+Math.imul(L,Xe)|0,d=d+Math.imul(L,Ye)|0,d=d+Math.imul(G,Xe)|0,m=m+Math.imul(G,Ye)|0;var ms=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(ms>>>26)|0,ms&=67108863,P=Math.imul(M,$e),d=Math.imul(M,Le),d=d+Math.imul(C,$e)|0,m=Math.imul(C,Le),P=P+Math.imul(E,Ue)|0,d=d+Math.imul(E,De)|0,d=d+Math.imul(h,Ue)|0,m=m+Math.imul(h,De)|0,P=P+Math.imul(Re,je)|0,d=d+Math.imul(Re,Ge)|0,d=d+Math.imul(_e,je)|0,m=m+Math.imul(_e,Ge)|0,P=P+Math.imul(Ae,ze)|0,d=d+Math.imul(Ae,qe)|0,d=d+Math.imul(ge,ze)|0,m=m+Math.imul(ge,qe)|0,P=P+Math.imul(Ie,He)|0,d=d+Math.imul(Ie,Ve)|0,d=d+Math.imul(Be,He)|0,m=m+Math.imul(Be,Ve)|0,P=P+Math.imul(de,Ke)|0,d=d+Math.imul(de,We)|0,d=d+Math.imul(Ne,Ke)|0,m=m+Math.imul(Ne,We)|0,P=P+Math.imul(ie,Je)|0,d=d+Math.imul(ie,Ze)|0,d=d+Math.imul(ue,Je)|0,m=m+Math.imul(ue,Ze)|0,P=P+Math.imul(W,Xe)|0,d=d+Math.imul(W,Ye)|0,d=d+Math.imul(X,Xe)|0,m=m+Math.imul(X,Ye)|0;var ys=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(ys>>>26)|0,ys&=67108863,P=Math.imul(M,Ue),d=Math.imul(M,De),d=d+Math.imul(C,Ue)|0,m=Math.imul(C,De),P=P+Math.imul(E,je)|0,d=d+Math.imul(E,Ge)|0,d=d+Math.imul(h,je)|0,m=m+Math.imul(h,Ge)|0,P=P+Math.imul(Re,ze)|0,d=d+Math.imul(Re,qe)|0,d=d+Math.imul(_e,ze)|0,m=m+Math.imul(_e,qe)|0,P=P+Math.imul(Ae,He)|0,d=d+Math.imul(Ae,Ve)|0,d=d+Math.imul(ge,He)|0,m=m+Math.imul(ge,Ve)|0,P=P+Math.imul(Ie,Ke)|0,d=d+Math.imul(Ie,We)|0,d=d+Math.imul(Be,Ke)|0,m=m+Math.imul(Be,We)|0,P=P+Math.imul(de,Je)|0,d=d+Math.imul(de,Ze)|0,d=d+Math.imul(Ne,Je)|0,m=m+Math.imul(Ne,Ze)|0,P=P+Math.imul(ie,Xe)|0,d=d+Math.imul(ie,Ye)|0,d=d+Math.imul(ue,Xe)|0,m=m+Math.imul(ue,Ye)|0;var vs=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(vs>>>26)|0,vs&=67108863,P=Math.imul(M,je),d=Math.imul(M,Ge),d=d+Math.imul(C,je)|0,m=Math.imul(C,Ge),P=P+Math.imul(E,ze)|0,d=d+Math.imul(E,qe)|0,d=d+Math.imul(h,ze)|0,m=m+Math.imul(h,qe)|0,P=P+Math.imul(Re,He)|0,d=d+Math.imul(Re,Ve)|0,d=d+Math.imul(_e,He)|0,m=m+Math.imul(_e,Ve)|0,P=P+Math.imul(Ae,Ke)|0,d=d+Math.imul(Ae,We)|0,d=d+Math.imul(ge,Ke)|0,m=m+Math.imul(ge,We)|0,P=P+Math.imul(Ie,Je)|0,d=d+Math.imul(Ie,Ze)|0,d=d+Math.imul(Be,Je)|0,m=m+Math.imul(Be,Ze)|0,P=P+Math.imul(de,Xe)|0,d=d+Math.imul(de,Ye)|0,d=d+Math.imul(Ne,Xe)|0,m=m+Math.imul(Ne,Ye)|0;var ws=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(ws>>>26)|0,ws&=67108863,P=Math.imul(M,ze),d=Math.imul(M,qe),d=d+Math.imul(C,ze)|0,m=Math.imul(C,qe),P=P+Math.imul(E,He)|0,d=d+Math.imul(E,Ve)|0,d=d+Math.imul(h,He)|0,m=m+Math.imul(h,Ve)|0,P=P+Math.imul(Re,Ke)|0,d=d+Math.imul(Re,We)|0,d=d+Math.imul(_e,Ke)|0,m=m+Math.imul(_e,We)|0,P=P+Math.imul(Ae,Je)|0,d=d+Math.imul(Ae,Ze)|0,d=d+Math.imul(ge,Je)|0,m=m+Math.imul(ge,Ze)|0,P=P+Math.imul(Ie,Xe)|0,d=d+Math.imul(Ie,Ye)|0,d=d+Math.imul(Be,Xe)|0,m=m+Math.imul(Be,Ye)|0;var _s=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(_s>>>26)|0,_s&=67108863,P=Math.imul(M,He),d=Math.imul(M,Ve),d=d+Math.imul(C,He)|0,m=Math.imul(C,Ve),P=P+Math.imul(E,Ke)|0,d=d+Math.imul(E,We)|0,d=d+Math.imul(h,Ke)|0,m=m+Math.imul(h,We)|0,P=P+Math.imul(Re,Je)|0,d=d+Math.imul(Re,Ze)|0,d=d+Math.imul(_e,Je)|0,m=m+Math.imul(_e,Ze)|0,P=P+Math.imul(Ae,Xe)|0,d=d+Math.imul(Ae,Ye)|0,d=d+Math.imul(ge,Xe)|0,m=m+Math.imul(ge,Ye)|0;var Es=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(Es>>>26)|0,Es&=67108863,P=Math.imul(M,Ke),d=Math.imul(M,We),d=d+Math.imul(C,Ke)|0,m=Math.imul(C,We),P=P+Math.imul(E,Je)|0,d=d+Math.imul(E,Ze)|0,d=d+Math.imul(h,Je)|0,m=m+Math.imul(h,Ze)|0,P=P+Math.imul(Re,Xe)|0,d=d+Math.imul(Re,Ye)|0,d=d+Math.imul(_e,Xe)|0,m=m+Math.imul(_e,Ye)|0;var As=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(As>>>26)|0,As&=67108863,P=Math.imul(M,Je),d=Math.imul(M,Ze),d=d+Math.imul(C,Je)|0,m=Math.imul(C,Ze),P=P+Math.imul(E,Xe)|0,d=d+Math.imul(E,Ye)|0,d=d+Math.imul(h,Xe)|0,m=m+Math.imul(h,Ye)|0;var Ss=($+P|0)+((d&8191)<<13)|0;$=(m+(d>>>13)|0)+(Ss>>>26)|0,Ss&=67108863,P=Math.imul(M,Xe),d=Math.imul(M,Ye),d=d+Math.imul(C,Xe)|0,m=Math.imul(C,Ye);var Ts=($+P|0)+((d&8191)<<13)|0;return $=(m+(d>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,B[0]=kr,B[1]=Mr,B[2]=Pr,B[3]=Nr,B[4]=Ir,B[5]=Br,B[6]=Rr,B[7]=ps,B[8]=bs,B[9]=gs,B[10]=ms,B[11]=ys,B[12]=vs,B[13]=ws,B[14]=_s,B[15]=Es,B[16]=As,B[17]=Ss,B[18]=Ts,$!==0&&(B[19]=$,A.length++),A};Math.imul||(S=_);function w(N,u,g){g.negative=u.negative^N.negative,g.length=N.length+u.length;for(var A=0,T=0,k=0;k<g.length-1;k++){var B=T;T=0;for(var $=A&67108863,P=Math.min(k,u.length-1),d=Math.max(0,k-N.length+1);d<=P;d++){var m=k-d,R=N.words[m]|0,j=u.words[d]|0,F=R*j,p=F&67108863;B=B+(F/67108864|0)|0,p=p+$|0,$=p&67108863,B=B+(p>>>26)|0,T+=B>>>26,B&=67108863}g.words[k]=$,A=B,B=T}return A!==0?g.words[k]=A:g.length--,g.strip()}function I(N,u,g){var A=new U;return A.mulp(N,u,g)}o.prototype.mulTo=function(u,g){var A,T=this.length+u.length;return this.length===10&&u.length===10?A=S(this,u,g):T<63?A=_(this,u,g):T<1024?A=w(this,u,g):A=I(this,u,g),A};function U(N,u){this.x=N,this.y=u}U.prototype.makeRBT=function(u){for(var g=new Array(u),A=o.prototype._countBits(u)-1,T=0;T<u;T++)g[T]=this.revBin(T,A,u);return g},U.prototype.revBin=function(u,g,A){if(u===0||u===A-1)return u;for(var T=0,k=0;k<g;k++)T|=(u&1)<<g-k-1,u>>=1;return T},U.prototype.permute=function(u,g,A,T,k,B){for(var $=0;$<B;$++)T[$]=g[u[$]],k[$]=A[u[$]]},U.prototype.transform=function(u,g,A,T,k,B){this.permute(B,u,g,A,T,k);for(var $=1;$<k;$<<=1)for(var P=$<<1,d=Math.cos(2*Math.PI/P),m=Math.sin(2*Math.PI/P),R=0;R<k;R+=P)for(var j=d,F=m,p=0;p<$;p++){var L=A[R+p],G=T[R+p],K=A[R+p+$],W=T[R+p+$],X=j*K-F*W;W=j*W+F*K,K=X,A[R+p]=L+K,T[R+p]=G+W,A[R+p+$]=L-K,T[R+p+$]=G-W,p!==P&&(X=d*j-m*F,F=d*F+m*j,j=X)}},U.prototype.guessLen13b=function(u,g){var A=Math.max(g,u)|1,T=A&1,k=0;for(A=A/2|0;A;A=A>>>1)k++;return 1<<k+1+T},U.prototype.conjugate=function(u,g,A){if(!(A<=1))for(var T=0;T<A/2;T++){var k=u[T];u[T]=u[A-T-1],u[A-T-1]=k,k=g[T],g[T]=-g[A-T-1],g[A-T-1]=-k}},U.prototype.normalize13b=function(u,g){for(var A=0,T=0;T<g/2;T++){var k=Math.round(u[2*T+1]/g)*8192+Math.round(u[2*T]/g)+A;u[T]=k&67108863,k<67108864?A=0:A=k/67108864|0}return u},U.prototype.convert13b=function(u,g,A,T){for(var k=0,B=0;B<g;B++)k=k+(u[B]|0),A[2*B]=k&8191,k=k>>>13,A[2*B+1]=k&8191,k=k>>>13;for(B=2*g;B<T;++B)A[B]=0;n(k===0),n((k&~8191)==0)},U.prototype.stub=function(u){for(var g=new Array(u),A=0;A<u;A++)g[A]=0;return g},U.prototype.mulp=function(u,g,A){var T=2*this.guessLen13b(u.length,g.length),k=this.makeRBT(T),B=this.stub(T),$=new Array(T),P=new Array(T),d=new Array(T),m=new Array(T),R=new Array(T),j=new Array(T),F=A.words;F.length=T,this.convert13b(u.words,u.length,$,T),this.convert13b(g.words,g.length,m,T),this.transform($,B,P,d,T,k),this.transform(m,B,R,j,T,k);for(var p=0;p<T;p++){var L=P[p]*R[p]-d[p]*j[p];d[p]=P[p]*j[p]+d[p]*R[p],P[p]=L}return this.conjugate(P,d,T),this.transform(P,d,F,B,T,k),this.conjugate(F,B,T),this.normalize13b(F,T),A.negative=u.negative^g.negative,A.length=u.length+g.length,A.strip()},o.prototype.mul=function(u){var g=new o(null);return g.words=new Array(this.length+u.length),this.mulTo(u,g)},o.prototype.mulf=function(u){var g=new o(null);return g.words=new Array(this.length+u.length),I(this,u,g)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){n(typeof u=="number"),n(u<67108864);for(var g=0,A=0;A<this.length;A++){var T=(this.words[A]|0)*u,k=(T&67108863)+(g&67108863);g>>=26,g+=T/67108864|0,g+=k>>>26,this.words[A]=k&67108863}return g!==0&&(this.words[A]=g,this.length++),this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var g=v(u);if(g.length===0)return new o(1);for(var A=this,T=0;T<g.length&&g[T]===0;T++,A=A.sqr());if(++T<g.length)for(var k=A.sqr();T<g.length;T++,k=k.sqr())g[T]!==0&&(A=A.mul(k));return A},o.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var g=u%26,A=(u-g)/26,T=67108863>>>26-g<<26-g,k;if(g!==0){var B=0;for(k=0;k<this.length;k++){var $=this.words[k]&T,P=(this.words[k]|0)-$<<g;this.words[k]=P|B,B=$>>>26-g}B&&(this.words[k]=B,this.length++)}if(A!==0){for(k=this.length-1;k>=0;k--)this.words[k+A]=this.words[k];for(k=0;k<A;k++)this.words[k]=0;this.length+=A}return this.strip()},o.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,g,A){n(typeof u=="number"&&u>=0);var T;g?T=(g-g%26)/26:T=0;var k=u%26,B=Math.min((u-k)/26,this.length),$=67108863^67108863>>>k<<k,P=A;if(T-=B,T=Math.max(0,T),P){for(var d=0;d<B;d++)P.words[d]=this.words[d];P.length=B}if(B!==0)if(this.length>B)for(this.length-=B,d=0;d<this.length;d++)this.words[d]=this.words[d+B];else this.words[0]=0,this.length=1;var m=0;for(d=this.length-1;d>=0&&(m!==0||d>=T);d--){var R=this.words[d]|0;this.words[d]=m<<26-k|R>>>k,m=R&$}return P&&m!==0&&(P.words[P.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(u,g,A){return n(this.negative===0),this.iushrn(u,g,A)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,A=(u-g)/26,T=1<<g;if(this.length<=A)return!1;var k=this.words[A];return!!(k&T)},o.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,A=(u-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(g!==0&&A++,this.length=Math.min(A,this.length),g!==0){var T=67108863^67108863>>>g<<g;this.words[this.length-1]&=T}return this.strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},o.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,g,A){var T=u.length+A,k;this._expand(T);var B,$=0;for(k=0;k<u.length;k++){B=(this.words[k+A]|0)+$;var P=(u.words[k]|0)*g;B-=P&67108863,$=(B>>26)-(P/67108864|0),this.words[k+A]=B&67108863}for(;k<this.length-A;k++)B=(this.words[k+A]|0)+$,$=B>>26,this.words[k+A]=B&67108863;if($===0)return this.strip();for(n($===-1),$=0,k=0;k<this.length;k++)B=-(this.words[k]|0)+$,$=B>>26,this.words[k]=B&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(u,g){var A=this.length-u.length,T=this.clone(),k=u,B=k.words[k.length-1]|0,$=this._countBits(B);A=26-$,A!==0&&(k=k.ushln(A),T.iushln(A),B=k.words[k.length-1]|0);var P=T.length-k.length,d;if(g!=="mod"){d=new o(null),d.length=P+1,d.words=new Array(d.length);for(var m=0;m<d.length;m++)d.words[m]=0}var R=T.clone()._ishlnsubmul(k,1,P);R.negative===0&&(T=R,d&&(d.words[P]=1));for(var j=P-1;j>=0;j--){var F=(T.words[k.length+j]|0)*67108864+(T.words[k.length+j-1]|0);for(F=Math.min(F/B|0,67108863),T._ishlnsubmul(k,F,j);T.negative!==0;)F--,T.negative=0,T._ishlnsubmul(k,1,j),T.isZero()||(T.negative^=1);d&&(d.words[j]=F)}return d&&d.strip(),T.strip(),g!=="div"&&A!==0&&T.iushrn(A),{div:d||null,mod:T}},o.prototype.divmod=function(u,g,A){if(n(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var T,k,B;return this.negative!==0&&u.negative===0?(B=this.neg().divmod(u,g),g!=="mod"&&(T=B.div.neg()),g!=="div"&&(k=B.mod.neg(),A&&k.negative!==0&&k.iadd(u)),{div:T,mod:k}):this.negative===0&&u.negative!==0?(B=this.divmod(u.neg(),g),g!=="mod"&&(T=B.div.neg()),{div:T,mod:B.mod}):(this.negative&u.negative)!=0?(B=this.neg().divmod(u.neg(),g),g!=="div"&&(k=B.mod.neg(),A&&k.negative!==0&&k.isub(u)),{div:B.div,mod:k}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?g==="div"?{div:this.divn(u.words[0]),mod:null}:g==="mod"?{div:null,mod:new o(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modn(u.words[0]))}:this._wordDiv(u,g)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var g=this.divmod(u);if(g.mod.isZero())return g.div;var A=g.div.negative!==0?g.mod.isub(u):g.mod,T=u.ushrn(1),k=u.andln(1),B=A.cmp(T);return B<0||k===1&&B===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},o.prototype.modn=function(u){n(u<=67108863);for(var g=(1<<26)%u,A=0,T=this.length-1;T>=0;T--)A=(g*A+(this.words[T]|0))%u;return A},o.prototype.idivn=function(u){n(u<=67108863);for(var g=0,A=this.length-1;A>=0;A--){var T=(this.words[A]|0)+g*67108864;this.words[A]=T/u|0,g=T%u}return this.strip()},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var g=this,A=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var T=new o(1),k=new o(0),B=new o(0),$=new o(1),P=0;g.isEven()&&A.isEven();)g.iushrn(1),A.iushrn(1),++P;for(var d=A.clone(),m=g.clone();!g.isZero();){for(var R=0,j=1;(g.words[0]&j)==0&&R<26;++R,j<<=1);if(R>0)for(g.iushrn(R);R-- >0;)(T.isOdd()||k.isOdd())&&(T.iadd(d),k.isub(m)),T.iushrn(1),k.iushrn(1);for(var F=0,p=1;(A.words[0]&p)==0&&F<26;++F,p<<=1);if(F>0)for(A.iushrn(F);F-- >0;)(B.isOdd()||$.isOdd())&&(B.iadd(d),$.isub(m)),B.iushrn(1),$.iushrn(1);g.cmp(A)>=0?(g.isub(A),T.isub(B),k.isub($)):(A.isub(g),B.isub(T),$.isub(k))}return{a:B,b:$,gcd:A.iushln(P)}},o.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var g=this,A=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var T=new o(1),k=new o(0),B=A.clone();g.cmpn(1)>0&&A.cmpn(1)>0;){for(var $=0,P=1;(g.words[0]&P)==0&&$<26;++$,P<<=1);if($>0)for(g.iushrn($);$-- >0;)T.isOdd()&&T.iadd(B),T.iushrn(1);for(var d=0,m=1;(A.words[0]&m)==0&&d<26;++d,m<<=1);if(d>0)for(A.iushrn(d);d-- >0;)k.isOdd()&&k.iadd(B),k.iushrn(1);g.cmp(A)>=0?(g.isub(A),T.isub(k)):(A.isub(g),k.isub(T))}var R;return g.cmpn(1)===0?R=T:R=k,R.cmpn(0)<0&&R.iadd(u),R},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var g=this.clone(),A=u.clone();g.negative=0,A.negative=0;for(var T=0;g.isEven()&&A.isEven();T++)g.iushrn(1),A.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;A.isEven();)A.iushrn(1);var k=g.cmp(A);if(k<0){var B=g;g=A,A=B}else if(k===0||A.cmpn(1)===0)break;g.isub(A)}while(!0);return A.iushln(T)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)==0},o.prototype.isOdd=function(){return(this.words[0]&1)==1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){n(typeof u=="number");var g=u%26,A=(u-g)/26,T=1<<g;if(this.length<=A)return this._expand(A+1),this.words[A]|=T,this;for(var k=T,B=A;k!==0&&B<this.length;B++){var $=this.words[B]|0;$+=k,k=$>>>26,$&=67108863,this.words[B]=$}return k!==0&&(this.words[B]=k,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var g=u<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var A;if(this.length>1)A=1;else{g&&(u=-u),n(u<=67108863,"Number is too big");var T=this.words[0]|0;A=T===u?0:T<u?-1:1}return this.negative!==0?-A|0:A},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var g=this.ucmp(u);return this.negative!==0?-g|0:g},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var g=0,A=this.length-1;A>=0;A--){var T=this.words[A]|0,k=u.words[A]|0;if(T!==k){T<k?g=-1:T>k&&(g=1);break}}return g},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new ne(u)},o.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var H={k256:null,p224:null,p192:null,p25519:null};function J(N,u){this.name=N,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var u=new o(null);return u.words=new Array(Math.ceil(this.n/13)),u},J.prototype.ireduce=function(u){var g=u,A;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),A=g.bitLength();while(A>this.n);var T=A<this.n?-1:g.ucmp(this.p);return T===0?(g.words[0]=0,g.length=1):T>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},J.prototype.split=function(u,g){u.iushrn(this.n,0,g)},J.prototype.imulK=function(u){return u.imul(this.k)};function V(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(V,J),V.prototype.split=function(u,g){for(var A=4194303,T=Math.min(u.length,9),k=0;k<T;k++)g.words[k]=u.words[k];if(g.length=T,u.length<=9){u.words[0]=0,u.length=1;return}var B=u.words[9];for(g.words[g.length++]=B&A,k=10;k<u.length;k++){var $=u.words[k]|0;u.words[k-10]=($&A)<<4|B>>>22,B=$}B>>>=22,u.words[k-10]=B,B===0&&u.length>10?u.length-=10:u.length-=9},V.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var g=0,A=0;A<u.length;A++){var T=u.words[A]|0;g+=T*977,u.words[A]=g&67108863,g=T*64+(g/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Q(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,J);function te(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(te,J);function re(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(re,J),re.prototype.imulK=function(u){for(var g=0,A=0;A<u.length;A++){var T=(u.words[A]|0)*19+g,k=T&67108863;T>>>=26,u.words[A]=k,g=T}return g!==0&&(u.words[u.length++]=g),u},o._prime=function(u){if(H[u])return H[u];var g;if(u==="k256")g=new V;else if(u==="p224")g=new Q;else if(u==="p192")g=new te;else if(u==="p25519")g=new re;else throw new Error("Unknown prime "+u);return H[u]=g,g};function ne(N){if(typeof N=="string"){var u=o._prime(N);this.m=u.p,this.prime=u}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}ne.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},ne.prototype._verify2=function(u,g){n((u.negative|g.negative)==0,"red works only with positives"),n(u.red&&u.red===g.red,"red works only with red numbers")},ne.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},ne.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},ne.prototype.add=function(u,g){this._verify2(u,g);var A=u.add(g);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},ne.prototype.iadd=function(u,g){this._verify2(u,g);var A=u.iadd(g);return A.cmp(this.m)>=0&&A.isub(this.m),A},ne.prototype.sub=function(u,g){this._verify2(u,g);var A=u.sub(g);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},ne.prototype.isub=function(u,g){this._verify2(u,g);var A=u.isub(g);return A.cmpn(0)<0&&A.iadd(this.m),A},ne.prototype.shl=function(u,g){return this._verify1(u),this.imod(u.ushln(g))},ne.prototype.imul=function(u,g){return this._verify2(u,g),this.imod(u.imul(g))},ne.prototype.mul=function(u,g){return this._verify2(u,g),this.imod(u.mul(g))},ne.prototype.isqr=function(u){return this.imul(u,u.clone())},ne.prototype.sqr=function(u){return this.mul(u,u)},ne.prototype.sqrt=function(u){if(u.isZero())return u.clone();var g=this.m.andln(3);if(n(g%2==1),g===3){var A=this.m.add(new o(1)).iushrn(2);return this.pow(u,A)}for(var T=this.m.subn(1),k=0;!T.isZero()&&T.andln(1)===0;)k++,T.iushrn(1);n(!T.isZero());var B=new o(1).toRed(this),$=B.redNeg(),P=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,P).cmp($)!==0;)d.redIAdd($);for(var m=this.pow(d,T),R=this.pow(u,T.addn(1).iushrn(1)),j=this.pow(u,T),F=k;j.cmp(B)!==0;){for(var p=j,L=0;p.cmp(B)!==0;L++)p=p.redSqr();n(L<F);var G=this.pow(m,new o(1).iushln(F-L-1));R=R.redMul(G),m=G.redSqr(),j=j.redMul(m),F=L}return R},ne.prototype.invm=function(u){var g=u._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},ne.prototype.pow=function(u,g){if(g.isZero())return new o(1).toRed(this);if(g.cmpn(1)===0)return u.clone();var A=4,T=new Array(1<<A);T[0]=new o(1).toRed(this),T[1]=u;for(var k=2;k<T.length;k++)T[k]=this.mul(T[k-1],u);var B=T[0],$=0,P=0,d=g.bitLength()%26;for(d===0&&(d=26),k=g.length-1;k>=0;k--){for(var m=g.words[k],R=d-1;R>=0;R--){var j=m>>R&1;if(B!==T[0]&&(B=this.sqr(B)),j===0&&$===0){P=0;continue}$<<=1,$|=j,P++,!(P!==A&&(k!==0||R!==0))&&(B=this.mul(B,T[$]),P=0,$=0)}d=26}return B},ne.prototype.convertTo=function(u){var g=u.umod(this.m);return g===u?g.clone():g},ne.prototype.convertFrom=function(u){var g=u.clone();return g.red=null,g},o.mont=function(u){return new fe(u)};function fe(N){ne.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(fe,ne),fe.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},fe.prototype.convertFrom=function(u){var g=this.imod(u.mul(this.rinv));return g.red=null,g},fe.prototype.imul=function(u,g){if(u.isZero()||g.isZero())return u.words[0]=0,u.length=1,u;var A=u.imul(g),T=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=A.isub(T).iushrn(this.shift),B=k;return k.cmp(this.m)>=0?B=k.isub(this.m):k.cmpn(0)<0&&(B=k.iadd(this.m)),B._forceRed(this)},fe.prototype.mul=function(u,g){if(u.isZero()||g.isZero())return new o(0)._forceRed(this);var A=u.mul(g),T=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=A.isub(T).iushrn(this.shift),B=k;return k.cmp(this.m)>=0?B=k.isub(this.m):k.cmpn(0)<0&&(B=k.iadd(this.m)),B._forceRed(this)},fe.prototype.invm=function(u){var g=this.imod(u._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(r,rt)})(Y0);var xe=Y0.exports;const Hh="logger/5.5.0";let Q0=!1,ef=!1;const po={debug:1,default:2,info:2,warning:3,error:4,off:5};let tf=po.default,Hs=null;function Vh(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const rf=Vh();var Vs;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Vs||(Vs={}));var bi;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(bi||(bi={}));const nf="0123456789abcdef";class O{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();po[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(tf>po[n])&&console.log.apply(console,t)}debug(...e){this._log(O.levels.DEBUG,e)}info(...e){this._log(O.levels.INFO,e)}warn(...e){this._log(O.levels.WARNING,e)}makeError(e,t,n){if(ef)return this.makeError("censored error",t,{});t||(t=O.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(a=>{const c=n[a];try{if(c instanceof Uint8Array){let f="";for(let l=0;l<c.length;l++)f+=nf[c[l]>>4],f+=nf[c[l]&15];i.push(a+"=Uint8Array(0x"+f+")")}else i.push(a+"="+JSON.stringify(c))}catch{i.push(a+"="+JSON.stringify(n[a].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const o=e;i.length&&(e+=" ("+i.join(", ")+")");const s=new Error(e);return s.reason=o,s.code=t,Object.keys(n).forEach(function(a){s[a]=n[a]}),s}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,O.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){rf&&this.throwError("platform missing String.prototype.normalize",O.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:rf})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,O.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,O.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,O.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,O.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",O.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",O.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",O.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Hs||(Hs=new O(Hh)),Hs}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",O.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Q0){if(!e)return;this.globalLogger().throwError("error censorship permanent",O.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ef=!!e,Q0=!!t}static setLogLevel(e){const t=po[e.toLowerCase()];if(t==null){O.globalLogger().warn("invalid log level - "+e);return}tf=t}static from(e){return new O(e)}}O.errors=bi;O.levels=Vs;const Kh="bytes/5.5.0",it=new O(Kh);function of(r){return!!r.toHexString}function In(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return In(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function gi(r){return pe(r)&&!(r.length%2)||Fr(r)}function sf(r){return typeof r=="number"&&r==r&&r%1==0}function Fr(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!sf(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!sf(t)||t<0||t>=256)return!1}return!0}function Z(r,e){if(e||(e={}),typeof r=="number"){it.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),In(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),of(r)&&(r=r.toHexString()),pe(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":it.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return In(new Uint8Array(n))}return Fr(r)?In(new Uint8Array(r)):it.throwArgumentError("invalid arrayify value","value",r)}function Ce(r){const e=r.map(i=>Z(i)),t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);return e.reduce((i,o)=>(n.set(o,i),i+o.length),0),In(n)}function Zt(r){let e=Z(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function mi(r,e){r=Z(r),r.length>e&&it.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),In(t)}function pe(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Ks="0123456789abcdef";function ee(r,e){if(e||(e={}),typeof r=="number"){it.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Ks[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),of(r))return r.toHexString();if(pe(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":it.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Fr(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=Ks[(i&240)>>4]+Ks[i&15]}return t}return it.throwArgumentError("invalid hexlify value","value",r)}function $r(r){if(typeof r!="string")r=ee(r);else if(!pe(r)||r.length%2)return null;return(r.length-2)/2}function At(r,e,t){return typeof r!="string"?r=ee(r):(!pe(r)||r.length%2)&&it.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Rt(r){let e="0x";return r.forEach(t=>{e+=ee(t).substring(2)}),e}function yi(r){const e=af(ee(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function af(r){typeof r!="string"&&(r=ee(r)),pe(r)||it.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Oe(r,e){for(typeof r!="string"?r=ee(r):pe(r)||it.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&it.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function dn(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(gi(r)){const t=Z(r);t.length!==65&&it.throwArgumentError("invalid signature string; must be 65 bytes","signature",r),e.r=ee(t.slice(0,32)),e.s=ee(t.slice(32,64)),e.v=t[64],e.v<27&&(e.v===0||e.v===1?e.v+=27:it.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=ee(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=mi(Z(e._vs),32);e._vs=ee(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&it.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const s=ee(i);e.s==null?e.s=s:e.s!==s&&it.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?it.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&it.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!pe(e.r)?it.throwArgumentError("signature missing or invalid r","signature",r):e.r=Oe(e.r,32),e.s==null||!pe(e.s)?it.throwArgumentError("signature missing or invalid s","signature",r):e.s=Oe(e.s,32);const t=Z(e.s);t[0]>=128&&it.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=ee(t);e._vs&&(pe(e._vs)||it.throwArgumentError("signature invalid _vs","signature",r),e._vs=Oe(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&it.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e}function Ws(r){return r=dn(r),ee(Ce([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const ff="bignumber/5.5.0";var vi=xe.BN;const Xt=new O(ff),Js={},cf=9007199254740991;function Wh(r){return r!=null&&(Y.isBigNumber(r)||typeof r=="number"&&r%1==0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||pe(r)||typeof r=="bigint"||Fr(r))}let lf=!1;class Y{constructor(e,t){Xt.checkNew(new.target,Y),e!==Js&&Xt.throwError("cannot call constructor directly; use BigNumber.from",O.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return St(me(this).fromTwos(e))}toTwos(e){return St(me(this).toTwos(e))}abs(){return this._hex[0]==="-"?Y.from(this._hex.substring(1)):this}add(e){return St(me(this).add(me(e)))}sub(e){return St(me(this).sub(me(e)))}div(e){return Y.from(e).isZero()&&Ct("division by zero","div"),St(me(this).div(me(e)))}mul(e){return St(me(this).mul(me(e)))}mod(e){const t=me(e);return t.isNeg()&&Ct("cannot modulo negative values","mod"),St(me(this).umod(t))}pow(e){const t=me(e);return t.isNeg()&&Ct("cannot raise to negative values","pow"),St(me(this).pow(t))}and(e){const t=me(e);return(this.isNegative()||t.isNeg())&&Ct("cannot 'and' negative values","and"),St(me(this).and(t))}or(e){const t=me(e);return(this.isNegative()||t.isNeg())&&Ct("cannot 'or' negative values","or"),St(me(this).or(t))}xor(e){const t=me(e);return(this.isNegative()||t.isNeg())&&Ct("cannot 'xor' negative values","xor"),St(me(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Ct("cannot mask negative values","mask"),St(me(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ct("cannot shift negative values","shl"),St(me(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ct("cannot shift negative values","shr"),St(me(this).shrn(e))}eq(e){return me(this).eq(me(e))}lt(e){return me(this).lt(me(e))}lte(e){return me(this).lte(me(e))}gt(e){return me(this).gt(me(e))}gte(e){return me(this).gte(me(e))}isNegative(){return this._hex[0]==="-"}isZero(){return me(this).isZero()}toNumber(){try{return me(this).toNumber()}catch{Ct("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Xt.throwError("this platform does not support BigInt",O.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?lf||(lf=!0,Xt.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Xt.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",O.errors.UNEXPECTED_ARGUMENT,{}):Xt.throwError("BigNumber.toString does not accept parameters",O.errors.UNEXPECTED_ARGUMENT,{})),me(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Y)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Y(Js,wi(e)):e.match(/^-?[0-9]+$/)?new Y(Js,wi(new vi(e))):Xt.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ct("underflow","BigNumber.from",e),(e>=cf||e<=-cf)&&Ct("overflow","BigNumber.from",e),Y.from(String(e));const t=e;if(typeof t=="bigint")return Y.from(t.toString());if(Fr(t))return Y.from(ee(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return Y.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(pe(n)||n[0]==="-"&&pe(n.substring(1))))return Y.from(n)}return Xt.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function wi(r){if(typeof r!="string")return wi(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Xt.throwArgumentError("invalid hex","value",r),r=wi(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function St(r){return Y.from(wi(r))}function me(r){const e=Y.from(r).toHexString();return e[0]==="-"?new vi("-"+e.substring(3),16):new vi(e.substring(2),16)}function Ct(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),Xt.throwError(r,O.errors.NUMERIC_FAULT,n)}function Jh(r){return new vi(r,36).toString(16)}function Zh(r){return new vi(r,16).toString(36)}const gt=new O(ff),_i={},uf=Y.from(0),hf=Y.from(-1);function df(r,e,t,n){const i={fault:e,operation:t};return n!==void 0&&(i.value=n),gt.throwError(r,O.errors.NUMERIC_FAULT,i)}let Ei="0";for(;Ei.length<256;)Ei+=Ei;function Zs(r){if(typeof r!="number")try{r=Y.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Ei.substring(0,r):gt.throwArgumentError("invalid decimal size","decimals",r)}function bo(r,e){e==null&&(e=0);const t=Zs(e);r=Y.from(r);const n=r.lt(uf);n&&(r=r.mul(hf));let i=r.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=r.div(t).toString();return t.length===1?r=o:r=o+"."+i,n&&(r="-"+r),r}function Yt(r,e){e==null&&(e=0);const t=Zs(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&gt.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&gt.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&gt.throwArgumentError("too many decimal points","value",r);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>t.length-1&&df("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<t.length-1;)s+="0";const a=Y.from(o),c=Y.from(s);let f=a.mul(t).add(c);return n&&(f=f.mul(hf)),f}class Bn{constructor(e,t,n,i){e!==_i&&gt.throwError("cannot use FixedFormat constructor; use FixedFormat.from",O.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Zs(i),Object.freeze(this)}static from(e){if(e instanceof Bn)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||gt.throwArgumentError("invalid fixed format","format",e),t=o[1]!=="u",n=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,c)=>e[s]==null?c:(typeof e[s]!==a&&gt.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);t=o("signed","boolean",t),n=o("width","number",n),i=o("decimals","number",i)}return n%8&&gt.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&gt.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Bn(_i,t,n,i)}}class at{constructor(e,t,n,i){gt.checkNew(new.target,at),e!==_i&&gt.throwError("cannot use FixedNumber constructor; use FixedNumber.from",O.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&gt.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Yt(this._value,this.format.decimals),n=Yt(e._value,e.format.decimals);return at.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Yt(this._value,this.format.decimals),n=Yt(e._value,e.format.decimals);return at.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Yt(this._value,this.format.decimals),n=Yt(e._value,e.format.decimals);return at.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Yt(this._value,this.format.decimals),n=Yt(e._value,e.format.decimals);return at.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=at.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(xf.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=at.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(xf.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&gt.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=at.from("1"+Ei.substring(0,e),this.format),i=Xh.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&gt.throwArgumentError("invalid byte width","width",e);const t=Y.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Oe(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return at.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!Wh(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),at.fromString(bo(e,t),Bn.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=Bn.from(t),i=Yt(e,n.decimals);!n.signed&&i.lt(uf)&&df("unsigned value cannot be negative","overflow","value",e);let o=null;n.signed?o=i.toTwos(n.width).toHexString():(o=i.toHexString(),o=Oe(o,n.width/8));const s=bo(i,n.decimals);return new at(_i,o,s,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=Bn.from(t);if(Z(e).length>n.width/8)throw new Error("overflow");let i=Y.from(e);n.signed&&(i=i.fromTwos(n.width));const o=i.toTwos((n.signed?0:1)+n.width).toHexString(),s=bo(i,n.decimals);return new at(_i,o,s,n)}static from(e,t){if(typeof e=="string")return at.fromString(e,t);if(Fr(e))return at.fromBytes(e,t);try{return at.fromValue(e,0,t)}catch(n){if(n.code!==O.errors.INVALID_ARGUMENT)throw n}return gt.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const xf=at.from(1),Xh=at.from("0.5"),Yh="properties/5.5.0";var Qh=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const go=new O(Yh);function q(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function lt(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function ot(r){return Qh(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Xs(r,e){(!r||typeof r!="object")&&go.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||go.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Qe(r){const e={};for(const t in r)e[t]=r[t];return e}const ed={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function pf(r){if(r==null||ed[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!pf(n))return!1}return!0}return go.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function td(r){if(pf(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>wt(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&q(e,t,wt(n))}return e}return go.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function wt(r){return td(r)}class xn{constructor(e){for(const t in e)this[t]=wt(e[t])}}const Ai="abi/5.5.0",we=new O(Ai),pn={};let bf={calldata:!0,memory:!0,storage:!0},rd={calldata:!0,memory:!0};function mo(r,e){if(r==="bytes"||r==="string"){if(bf[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&rd[e])return!0;return(bf[e]||e==="payable")&&we.throwArgumentError("invalid modifier","name",e),!1}function nd(r,e){let t=r;function n(a){we.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<r.length;a++){let c=r[a];switch(c){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=Rn(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),mo(s.type,s.name)&&(s.name=""),s.type=Rn(s.type);let f=s;s=s.parent,s||n(a),delete f.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),mo(s.type,s.name)&&(s.name=""),s.type=Rn(s.type);let l=i(s.parent);s.parent.components.push(l),delete s.parent,s=l;break;case" ":s.state.allowType&&s.type!==""&&(s.type=Rn(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):mo(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=c,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=c,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=c,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=c,delete s.state.allowArray):s.state.readArray?s.type+=c:n(a)}}return s.parent&&we.throwArgumentError("unexpected eof","param",r),delete o.state,s.name==="indexed"?(e||n(t.length-7),s.indexed&&n(t.length-7),s.indexed=!0,s.name=""):mo(s.type,s.name)&&(s.name=""),o.type=Rn(o.type),o}function yo(r,e){for(let t in e)q(r,t,e[t])}const Ee=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),id=new RegExp(/^(.*)\[([0-9]*)\]$/);class ct{constructor(e,t){e!==pn&&we.throwError("use fromString",O.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),yo(this,t);let n=this.type.match(id);n?yo(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:ct.fromObject({type:n[1],components:this.components}),baseType:"array"}):yo(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Ee.sighash),Ee[e]||we.throwArgumentError("invalid format type","format",e),e===Ee.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Ee.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===Ee.full?", ":",")+")"):t+=this.type,e!==Ee.sighash&&(this.indexed===!0&&(t+=" indexed"),e===Ee.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?ct.fromString(e,t):ct.fromObject(e)}static fromObject(e){return ct.isParamType(e)?e:new ct(pn,{name:e.name||null,type:Rn(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ct.fromObject):null})}static fromString(e,t){function n(i){return ct.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(nd(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Si(r,e){return sd(r).map(t=>ct.fromString(t,e))}class Qt{constructor(e,t){e!==pn&&we.throwError("use a static from method",O.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),yo(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Qt.isFragment(e)?e:typeof e=="string"?Qt.fromString(e):Qt.fromObject(e)}static fromObject(e){if(Qt.isFragment(e))return e;switch(e.type){case"function":return Gt.fromObject(e);case"event":return er.fromObject(e);case"constructor":return jt.fromObject(e);case"error":return gr.fromObject(e);case"fallback":case"receive":return null}return we.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?er.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Gt.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?jt.fromString(e.trim()):e.split(" ")[0]==="error"?gr.fromString(e.substring(5).trim()):we.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class er extends Qt{format(e){if(e||(e=Ee.sighash),Ee[e]||we.throwArgumentError("invalid format type","format",e),e===Ee.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Ee.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Ee.full?", ":",")+") ",e!==Ee.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?er.fromString(e):er.fromObject(e)}static fromObject(e){if(er.isEventFragment(e))return e;e.type!=="event"&&we.throwArgumentError("invalid event object","value",e);const t={name:Ti(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ct.fromObject):[],type:"event"};return new er(pn,t)}static fromString(e){let t=e.match(ki);t||we.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:we.warn("unknown modifier: "+i)}}),er.fromObject({name:t[1].trim(),anonymous:n,inputs:Si(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function gf(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&we.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||we.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=Y.from(t[1]),t[0]):r}function mf(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function yf(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&we.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&we.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&we.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&we.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&we.throwArgumentError("unable to determine stateMutability","value",r),e}class jt extends Qt{format(e){if(e||(e=Ee.sighash),Ee[e]||we.throwArgumentError("invalid format type","format",e),e===Ee.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Ee.sighash&&we.throwError("cannot format a constructor for sighash",O.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===Ee.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?jt.fromString(e):jt.fromObject(e)}static fromObject(e){if(jt.isConstructorFragment(e))return e;e.type!=="constructor"&&we.throwArgumentError("invalid constructor object","value",e);let t=yf(e);t.constant&&we.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ct.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Y.from(e.gas):null};return new jt(pn,n)}static fromString(e){let t={type:"constructor"};e=gf(e,t);let n=e.match(ki);return(!n||n[1].trim()!=="constructor")&&we.throwArgumentError("invalid constructor string","value",e),t.inputs=Si(n[2].trim(),!1),mf(n[3].trim(),t),jt.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Gt extends jt{format(e){if(e||(e=Ee.sighash),Ee[e]||we.throwArgumentError("invalid format type","format",e),e===Ee.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Ee.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Ee.full?", ":",")+") ",e!==Ee.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?Gt.fromString(e):Gt.fromObject(e)}static fromObject(e){if(Gt.isFunctionFragment(e))return e;e.type!=="function"&&we.throwArgumentError("invalid function object","value",e);let t=yf(e);const n={type:e.type,name:Ti(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ct.fromObject):[],outputs:e.outputs?e.outputs.map(ct.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Y.from(e.gas):null};return new Gt(pn,n)}static fromString(e){let t={type:"function"};e=gf(e,t);let n=e.split(" returns ");n.length>2&&we.throwArgumentError("invalid function string","value",e);let i=n[0].match(ki);if(i||we.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&Ti(t.name),t.inputs=Si(i[2],!1),mf(i[3].trim(),t),n.length>1){let o=n[1].match(ki);(o[1].trim()!=""||o[3].trim()!="")&&we.throwArgumentError("unexpected tokens","value",e),t.outputs=Si(o[2],!1)}else t.outputs=[];return Gt.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function vf(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&we.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class gr extends Qt{format(e){if(e||(e=Ee.sighash),Ee[e]||we.throwArgumentError("invalid format type","format",e),e===Ee.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Ee.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Ee.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?gr.fromString(e):gr.fromObject(e)}static fromObject(e){if(gr.isErrorFragment(e))return e;e.type!=="error"&&we.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Ti(e.name),inputs:e.inputs?e.inputs.map(ct.fromObject):[]};return vf(new gr(pn,t))}static fromString(e){let t={type:"error"},n=e.match(ki);return n||we.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&Ti(t.name),t.inputs=Si(n[2],!1),vf(gr.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Rn(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const od=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ti(r){return(!r||!r.match(od))&&we.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const ki=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function sd(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let o=r[i];o===","&&n===0?(e.push(t),t=""):(t+=o,o==="("?n++:o===")"&&(n--,n===-1&&we.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const Ys=new O(Ai);function wf(r){const e=[],t=function(n,i){if(!!Array.isArray(i))for(let o in i){const s=n.slice();s.push(o);try{t(s,i[o])}catch(a){e.push({path:s,error:a})}}};return t([],r),e}class mr{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){Ys.throwArgumentError(e,this.localName,t)}}class Qs{constructor(e){q(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Rt(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Ce(e._data))}writeBytes(e){let t=Z(e);const n=t.length%this.wordSize;return n&&(t=Ce([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=Z(Y.from(e));return t.length>this.wordSize&&Ys.throwError("value out-of-bounds",O.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Ce([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class vo{constructor(e,t,n,i){q(this,"_data",Z(e)),q(this,"wordSize",t||32),q(this,"_coerceFunc",n),q(this,"allowLoose",i),this._offset=0}get data(){return ee(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):vo.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:Ys.throwError("data out-of-bounds",O.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new vo(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return Y.from(this.readBytes(this.wordSize))}}var _f={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=rt:o&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",f="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],b=[4,1024,262144,67108864],y=[1,256,65536,16777216],v=[6,1536,393216,100663296],_=[0,8,16,24],S=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],I=[128,256],U=["hex","buffer","arrayBuffer","array","digest"],H={"128":168,"256":136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(p){return Object.prototype.toString.call(p)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(p){return typeof p=="object"&&p.buffer&&p.buffer.constructor===ArrayBuffer});for(var J=function(p,L,G){return function(K){return new R(p,L,p).update(K)[G]()}},V=function(p,L,G){return function(K,W){return new R(p,L,W).update(K)[G]()}},Q=function(p,L,G){return function(K,W,X,oe){return A["cshake"+p].update(K,W,X,oe)[G]()}},te=function(p,L,G){return function(K,W,X,oe){return A["kmac"+p].update(K,W,X,oe)[G]()}},re=function(p,L,G,K){for(var W=0;W<U.length;++W){var X=U[W];p[X]=L(G,K,X)}return p},ne=function(p,L){var G=J(p,L,"hex");return G.create=function(){return new R(p,L,p)},G.update=function(K){return G.create().update(K)},re(G,J,p,L)},fe=function(p,L){var G=V(p,L,"hex");return G.create=function(K){return new R(p,L,K)},G.update=function(K,W){return G.create(W).update(K)},re(G,V,p,L)},N=function(p,L){var G=H[p],K=Q(p,L,"hex");return K.create=function(W,X,oe){return!X&&!oe?A["shake"+p].create(W):new R(p,L,W).bytepad([X,oe],G)},K.update=function(W,X,oe,ie){return K.create(X,oe,ie).update(W)},re(K,Q,p,L)},u=function(p,L){var G=H[p],K=te(p,L,"hex");return K.create=function(W,X,oe){return new j(p,L,X).bytepad(["KMAC",oe],G).bytepad([W],G)},K.update=function(W,X,oe,ie){return K.create(W,oe,ie).update(X)},re(K,te,p,L)},g=[{name:"keccak",padding:y,bits:w,createMethod:ne},{name:"sha3",padding:v,bits:w,createMethod:ne},{name:"shake",padding:l,bits:I,createMethod:fe},{name:"cshake",padding:b,bits:I,createMethod:N},{name:"kmac",padding:b,bits:I,createMethod:u}],A={},T=[],k=0;k<g.length;++k)for(var B=g[k],$=B.bits,P=0;P<$.length;++P){var d=B.name+"_"+$[P];if(T.push(d),A[d]=B.createMethod($[P],B.padding),B.name!=="sha3"){var m=B.name+$[P];T.push(m),A[m]=A[d]}}function R(p,L,G){this.blocks=[],this.s=[],this.padding=L,this.outputBits=G,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(p<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=G>>5,this.extraBytes=(G&31)>>3;for(var K=0;K<50;++K)this.s[K]=0}R.prototype.update=function(p){if(this.finalized)throw new Error(t);var L,G=typeof p;if(G!=="string"){if(G==="object"){if(p===null)throw new Error(e);if(c&&p.constructor===ArrayBuffer)p=new Uint8Array(p);else if(!Array.isArray(p)&&(!c||!ArrayBuffer.isView(p)))throw new Error(e)}else throw new Error(e);L=!0}for(var K=this.blocks,W=this.byteCount,X=p.length,oe=this.blockCount,ie=0,ue=this.s,ce,de;ie<X;){if(this.reset)for(this.reset=!1,K[0]=this.block,ce=1;ce<oe+1;++ce)K[ce]=0;if(L)for(ce=this.start;ie<X&&ce<W;++ie)K[ce>>2]|=p[ie]<<_[ce++&3];else for(ce=this.start;ie<X&&ce<W;++ie)de=p.charCodeAt(ie),de<128?K[ce>>2]|=de<<_[ce++&3]:de<2048?(K[ce>>2]|=(192|de>>6)<<_[ce++&3],K[ce>>2]|=(128|de&63)<<_[ce++&3]):de<55296||de>=57344?(K[ce>>2]|=(224|de>>12)<<_[ce++&3],K[ce>>2]|=(128|de>>6&63)<<_[ce++&3],K[ce>>2]|=(128|de&63)<<_[ce++&3]):(de=65536+((de&1023)<<10|p.charCodeAt(++ie)&1023),K[ce>>2]|=(240|de>>18)<<_[ce++&3],K[ce>>2]|=(128|de>>12&63)<<_[ce++&3],K[ce>>2]|=(128|de>>6&63)<<_[ce++&3],K[ce>>2]|=(128|de&63)<<_[ce++&3]);if(this.lastByteIndex=ce,ce>=W){for(this.start=ce-W,this.block=K[oe],ce=0;ce<oe;++ce)ue[ce]^=K[ce];F(ue),this.reset=!0}else this.start=ce}return this},R.prototype.encode=function(p,L){var G=p&255,K=1,W=[G];for(p=p>>8,G=p&255;G>0;)W.unshift(G),p=p>>8,G=p&255,++K;return L?W.push(K):W.unshift(K),this.update(W),W.length},R.prototype.encodeString=function(p){var L,G=typeof p;if(G!=="string"){if(G==="object"){if(p===null)throw new Error(e);if(c&&p.constructor===ArrayBuffer)p=new Uint8Array(p);else if(!Array.isArray(p)&&(!c||!ArrayBuffer.isView(p)))throw new Error(e)}else throw new Error(e);L=!0}var K=0,W=p.length;if(L)K=W;else for(var X=0;X<p.length;++X){var oe=p.charCodeAt(X);oe<128?K+=1:oe<2048?K+=2:oe<55296||oe>=57344?K+=3:(oe=65536+((oe&1023)<<10|p.charCodeAt(++X)&1023),K+=4)}return K+=this.encode(K*8),this.update(p),K},R.prototype.bytepad=function(p,L){for(var G=this.encode(L),K=0;K<p.length;++K)G+=this.encodeString(p[K]);var W=L-G%L,X=[];return X.length=W,this.update(X),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var p=this.blocks,L=this.lastByteIndex,G=this.blockCount,K=this.s;if(p[L>>2]|=this.padding[L&3],this.lastByteIndex===this.byteCount)for(p[0]=p[G],L=1;L<G+1;++L)p[L]=0;for(p[G-1]|=2147483648,L=0;L<G;++L)K[L]^=p[L];F(K)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var p=this.blockCount,L=this.s,G=this.outputBlocks,K=this.extraBytes,W=0,X=0,oe="",ie;X<G;){for(W=0;W<p&&X<G;++W,++X)ie=L[W],oe+=f[ie>>4&15]+f[ie&15]+f[ie>>12&15]+f[ie>>8&15]+f[ie>>20&15]+f[ie>>16&15]+f[ie>>28&15]+f[ie>>24&15];X%p==0&&(F(L),W=0)}return K&&(ie=L[W],oe+=f[ie>>4&15]+f[ie&15],K>1&&(oe+=f[ie>>12&15]+f[ie>>8&15]),K>2&&(oe+=f[ie>>20&15]+f[ie>>16&15])),oe},R.prototype.arrayBuffer=function(){this.finalize();var p=this.blockCount,L=this.s,G=this.outputBlocks,K=this.extraBytes,W=0,X=0,oe=this.outputBits>>3,ie;K?ie=new ArrayBuffer(G+1<<2):ie=new ArrayBuffer(oe);for(var ue=new Uint32Array(ie);X<G;){for(W=0;W<p&&X<G;++W,++X)ue[X]=L[W];X%p==0&&F(L)}return K&&(ue[W]=L[W],ie=ie.slice(0,oe)),ie},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var p=this.blockCount,L=this.s,G=this.outputBlocks,K=this.extraBytes,W=0,X=0,oe=[],ie,ue;X<G;){for(W=0;W<p&&X<G;++W,++X)ie=X<<2,ue=L[W],oe[ie]=ue&255,oe[ie+1]=ue>>8&255,oe[ie+2]=ue>>16&255,oe[ie+3]=ue>>24&255;X%p==0&&F(L)}return K&&(ie=X<<2,ue=L[W],oe[ie]=ue&255,K>1&&(oe[ie+1]=ue>>8&255),K>2&&(oe[ie+2]=ue>>16&255)),oe};function j(p,L,G){R.call(this,p,L,G)}j.prototype=new R,j.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var F=function(p){var L,G,K,W,X,oe,ie,ue,ce,de,Ne,Ut,Ie,Be,Wt,Ae,ge,Dt,Re,_e,xr,E,h,x,M,C,D,z,se,Se,le,he,ve,$e,Le,Yr,Ue,De,Qr,je,Ge,en,ze,qe,tn,He,Ve,rn,Ke,We,nn,Je,Ze,on,Xe,Ye,kr,Mr,Pr,Nr,Ir,Br,Rr;for(K=0;K<48;K+=2)W=p[0]^p[10]^p[20]^p[30]^p[40],X=p[1]^p[11]^p[21]^p[31]^p[41],oe=p[2]^p[12]^p[22]^p[32]^p[42],ie=p[3]^p[13]^p[23]^p[33]^p[43],ue=p[4]^p[14]^p[24]^p[34]^p[44],ce=p[5]^p[15]^p[25]^p[35]^p[45],de=p[6]^p[16]^p[26]^p[36]^p[46],Ne=p[7]^p[17]^p[27]^p[37]^p[47],Ut=p[8]^p[18]^p[28]^p[38]^p[48],Ie=p[9]^p[19]^p[29]^p[39]^p[49],L=Ut^(oe<<1|ie>>>31),G=Ie^(ie<<1|oe>>>31),p[0]^=L,p[1]^=G,p[10]^=L,p[11]^=G,p[20]^=L,p[21]^=G,p[30]^=L,p[31]^=G,p[40]^=L,p[41]^=G,L=W^(ue<<1|ce>>>31),G=X^(ce<<1|ue>>>31),p[2]^=L,p[3]^=G,p[12]^=L,p[13]^=G,p[22]^=L,p[23]^=G,p[32]^=L,p[33]^=G,p[42]^=L,p[43]^=G,L=oe^(de<<1|Ne>>>31),G=ie^(Ne<<1|de>>>31),p[4]^=L,p[5]^=G,p[14]^=L,p[15]^=G,p[24]^=L,p[25]^=G,p[34]^=L,p[35]^=G,p[44]^=L,p[45]^=G,L=ue^(Ut<<1|Ie>>>31),G=ce^(Ie<<1|Ut>>>31),p[6]^=L,p[7]^=G,p[16]^=L,p[17]^=G,p[26]^=L,p[27]^=G,p[36]^=L,p[37]^=G,p[46]^=L,p[47]^=G,L=de^(W<<1|X>>>31),G=Ne^(X<<1|W>>>31),p[8]^=L,p[9]^=G,p[18]^=L,p[19]^=G,p[28]^=L,p[29]^=G,p[38]^=L,p[39]^=G,p[48]^=L,p[49]^=G,Be=p[0],Wt=p[1],He=p[11]<<4|p[10]>>>28,Ve=p[10]<<4|p[11]>>>28,z=p[20]<<3|p[21]>>>29,se=p[21]<<3|p[20]>>>29,Nr=p[31]<<9|p[30]>>>23,Ir=p[30]<<9|p[31]>>>23,en=p[40]<<18|p[41]>>>14,ze=p[41]<<18|p[40]>>>14,$e=p[2]<<1|p[3]>>>31,Le=p[3]<<1|p[2]>>>31,Ae=p[13]<<12|p[12]>>>20,ge=p[12]<<12|p[13]>>>20,rn=p[22]<<10|p[23]>>>22,Ke=p[23]<<10|p[22]>>>22,Se=p[33]<<13|p[32]>>>19,le=p[32]<<13|p[33]>>>19,Br=p[42]<<2|p[43]>>>30,Rr=p[43]<<2|p[42]>>>30,on=p[5]<<30|p[4]>>>2,Xe=p[4]<<30|p[5]>>>2,Yr=p[14]<<6|p[15]>>>26,Ue=p[15]<<6|p[14]>>>26,Dt=p[25]<<11|p[24]>>>21,Re=p[24]<<11|p[25]>>>21,We=p[34]<<15|p[35]>>>17,nn=p[35]<<15|p[34]>>>17,he=p[45]<<29|p[44]>>>3,ve=p[44]<<29|p[45]>>>3,x=p[6]<<28|p[7]>>>4,M=p[7]<<28|p[6]>>>4,Ye=p[17]<<23|p[16]>>>9,kr=p[16]<<23|p[17]>>>9,De=p[26]<<25|p[27]>>>7,Qr=p[27]<<25|p[26]>>>7,_e=p[36]<<21|p[37]>>>11,xr=p[37]<<21|p[36]>>>11,Je=p[47]<<24|p[46]>>>8,Ze=p[46]<<24|p[47]>>>8,qe=p[8]<<27|p[9]>>>5,tn=p[9]<<27|p[8]>>>5,C=p[18]<<20|p[19]>>>12,D=p[19]<<20|p[18]>>>12,Mr=p[29]<<7|p[28]>>>25,Pr=p[28]<<7|p[29]>>>25,je=p[38]<<8|p[39]>>>24,Ge=p[39]<<8|p[38]>>>24,E=p[48]<<14|p[49]>>>18,h=p[49]<<14|p[48]>>>18,p[0]=Be^~Ae&Dt,p[1]=Wt^~ge&Re,p[10]=x^~C&z,p[11]=M^~D&se,p[20]=$e^~Yr&De,p[21]=Le^~Ue&Qr,p[30]=qe^~He&rn,p[31]=tn^~Ve&Ke,p[40]=on^~Ye&Mr,p[41]=Xe^~kr&Pr,p[2]=Ae^~Dt&_e,p[3]=ge^~Re&xr,p[12]=C^~z&Se,p[13]=D^~se&le,p[22]=Yr^~De&je,p[23]=Ue^~Qr&Ge,p[32]=He^~rn&We,p[33]=Ve^~Ke&nn,p[42]=Ye^~Mr&Nr,p[43]=kr^~Pr&Ir,p[4]=Dt^~_e&E,p[5]=Re^~xr&h,p[14]=z^~Se&he,p[15]=se^~le&ve,p[24]=De^~je&en,p[25]=Qr^~Ge&ze,p[34]=rn^~We&Je,p[35]=Ke^~nn&Ze,p[44]=Mr^~Nr&Br,p[45]=Pr^~Ir&Rr,p[6]=_e^~E&Be,p[7]=xr^~h&Wt,p[16]=Se^~he&x,p[17]=le^~ve&M,p[26]=je^~en&$e,p[27]=Ge^~ze&Le,p[36]=We^~Je&qe,p[37]=nn^~Ze&tn,p[46]=Nr^~Br&on,p[47]=Ir^~Rr&Xe,p[8]=E^~Be&Ae,p[9]=h^~Wt&ge,p[18]=he^~x&C,p[19]=ve^~M&D,p[28]=en^~$e&Yr,p[29]=ze^~Le&Ue,p[38]=Je^~qe&He,p[39]=Ze^~tn&Ve,p[48]=Br^~on&Ye,p[49]=Rr^~Xe&kr,p[0]^=S[K],p[1]^=S[K+1]};if(a)r.exports=A;else for(k=0;k<T.length;++k)i[T[k]]=A[T[k]]})()})(_f);var ad=_f.exports;function Pe(r){return"0x"+ad.keccak_256(Z(r))}const fd="rlp/5.5.0",tr=new O(fd);function Ef(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Af(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function Sf(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(o){n=n.concat(Sf(o))}),n.length<=55)return n.unshift(192+n.length),n;const i=Ef(n.length);return i.unshift(247+i.length),i.concat(n)}gi(r)||tr.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(Z(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Ef(e.length);return t.unshift(183+t.length),t.concat(e)}function bn(r){return ee(Sf(r))}function Tf(r,e,t,n){const i=[];for(;t<e+1+n;){const o=kf(r,t);i.push(o.result),t+=o.consumed,t>e+1+n&&tr.throwError("child data too short",O.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function kf(r,e){if(r.length===0&&tr.throwError("data too short",O.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&tr.throwError("data short segment too short",O.errors.BUFFER_OVERRUN,{});const n=Af(r,e+1,t);return e+1+t+n>r.length&&tr.throwError("data long segment too short",O.errors.BUFFER_OVERRUN,{}),Tf(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&tr.throwError("data array too short",O.errors.BUFFER_OVERRUN,{}),Tf(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&tr.throwError("data array too short",O.errors.BUFFER_OVERRUN,{});const n=Af(r,e+1,t);e+1+t+n>r.length&&tr.throwError("data array too short",O.errors.BUFFER_OVERRUN,{});const i=ee(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&tr.throwError("data too short",O.errors.BUFFER_OVERRUN,{});const n=ee(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:ee(r[e])}}function wo(r){const e=Z(r),t=kf(e,0);return t.consumed!==e.length&&tr.throwArgumentError("invalid rlp data","data",r),t.result}var cd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",encode:bn,decode:wo});const ld="address/5.5.0",Lr=new O(ld);function Mf(r){pe(r,20)||Lr.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=Z(Pe(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const ud=9007199254740991;function hd(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const ea={};for(let r=0;r<10;r++)ea[String(r)]=String(r);for(let r=0;r<26;r++)ea[String.fromCharCode(65+r)]=String(10+r);const Pf=Math.floor(hd(ud));function Nf(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>ea[n]).join("");for(;e.length>=Pf;){let n=e.substring(0,Pf);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function ke(r){let e=null;if(typeof r!="string"&&Lr.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Mf(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Lr.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Nf(r)&&Lr.throwArgumentError("bad icap checksum","address",r),e=Jh(r.substring(4));e.length<40;)e="0"+e;e=Mf("0x"+e)}else Lr.throwArgumentError("invalid address","address",r);return e}function dd(r){try{return ke(r),!0}catch{}return!1}function xd(r){let e=Zh(ke(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Nf("XE00"+e)+e}function _o(r){let e=null;try{e=ke(r.from)}catch{Lr.throwArgumentError("missing from address","transaction",r)}const t=Zt(Z(Y.from(r.nonce).toHexString()));return ke(At(Pe(bn([e,t])),12))}function pd(r,e,t){return $r(e)!==32&&Lr.throwArgumentError("salt must be 32 bytes","salt",e),$r(t)!==32&&Lr.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),ke(At(Pe(Ce(["0xff",ke(r),e,t])),12))}class bd extends mr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=ke(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return ke(Oe(e.readValue().toHexString(),20))}}class gd extends mr{constructor(e){super(e.name,e.type,void 0,e.dynamic);this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Cn=new O(Ai);function If(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(f=>{const l=f.localName;return l||Cn.throwError("cannot encode object for signature with missing names",O.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),c[l]&&Cn.throwError("cannot encode object for signature with duplicate names",O.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),c[l]=!0,t[l]})}else Cn.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&Cn.throwArgumentError("types/value length mismatch","tuple",t);let i=new Qs(r.wordSize),o=new Qs(r.wordSize),s=[];e.forEach((c,f)=>{let l=n[f];if(c.dynamic){let b=o.length;c.encode(o,l);let y=i.writeUpdatableValue();s.push(v=>{y(v+b)})}else c.encode(i,l)}),s.forEach(c=>{c(i.length)});let a=r.appendWriter(i);return a+=r.appendWriter(o),a}function Bf(r,e){let t=[],n=r.subReader(0);e.forEach(o=>{let s=null;if(o.dynamic){let a=r.readValue(),c=n.subReader(a.toNumber());try{s=o.decode(c)}catch(f){if(f.code===O.errors.BUFFER_OVERRUN)throw f;s=f,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(r)}catch(a){if(a.code===O.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}s!=null&&t.push(s)});const i=e.reduce((o,s)=>{const a=s.localName;return a&&(o[a]||(o[a]=0),o[a]++),o},{});e.forEach((o,s)=>{let a=o.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const c=t[s];c instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw c}}):t[a]=c});for(let o=0;o<t.length;o++){const s=t[o];s instanceof Error&&Object.defineProperty(t,o,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(t)}class md extends mr{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",o=t===-1||e.dynamic;super("array",i,n,o);this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),Cn.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<t.length;o++)i.push(this.coder);return If(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&Cn.throwError("insufficient data length",O.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new gd(this.coder));return e.coerce(this.name,Bf(e,n))}}class yd extends mr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Rf extends mr{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Z(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class vd extends Rf{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ee(super.decode(e)))}}class wd extends mr{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1);this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=Z(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,ee(e.readBytes(this.size)))}}class _d extends mr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Cf="0x0000000000000000000000000000000000000000",Of=Y.from(-1),ta=Y.from(0),Ff=Y.from(1),Ed=Y.from(2),Ad=Y.from("1000000000000000000"),$f=Y.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Sd=Y.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),Td=Y.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ra="0x0000000000000000000000000000000000000000000000000000000000000000",kd="\u039E";var Lf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",AddressZero:Cf,NegativeOne:Of,Zero:ta,One:Ff,Two:Ed,WeiPerEther:Ad,MaxUint256:$f,MinInt256:Sd,MaxInt256:Td,HashZero:ra,EtherSymbol:kd});class Md extends mr{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1);this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=Y.from(t),i=$f.mask(e.wordSize*8);if(this.signed){let o=i.mask(this.size*8-1);(n.gt(o)||n.lt(o.add(Ff).mul(Of)))&&this._throwError("value out-of-bounds",t)}else(n.lt(ta)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const Pd="strings/5.5.0",Uf=new O(Pd);var rr;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(rr||(rr={}));var Tt;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Tt||(Tt={}));function Nd(r,e,t,n,i){return Uf.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Df(r,e,t,n,i){if(r===Tt.BAD_PREFIX||r===Tt.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<t.length&&t[s]>>6==2;s++)o++;return o}return r===Tt.OVERRUN?t.length-e-1:0}function Id(r,e,t,n,i){return r===Tt.OVERLONG?(n.push(i),0):(n.push(65533),Df(r,e,t))}const jf=Object.freeze({error:Nd,ignore:Df,replace:Id});function na(r,e){e==null&&(e=jf.error),r=Z(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(i>>7==0){t.push(i);continue}let o=null,s=null;if((i&224)==192)o=1,s=127;else if((i&240)==224)o=2,s=2047;else if((i&248)==240)o=3,s=65535;else{(i&192)==128?n+=e(Tt.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(Tt.BAD_PREFIX,n-1,r,t);continue}if(n-1+o>=r.length){n+=e(Tt.OVERRUN,n-1,r,t);continue}let a=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let f=r[n];if((f&192)!=128){n+=e(Tt.MISSING_CONTINUE,n,r,t),a=null;break}a=a<<6|f&63,n++}if(a!==null){if(a>1114111){n+=e(Tt.OUT_OF_RANGE,n-1-o,r,t,a);continue}if(a>=55296&&a<=57343){n+=e(Tt.UTF16_SURROGATE,n-1-o,r,t,a);continue}if(a<=s){n+=e(Tt.OVERLONG,n-1-o,r,t,a);continue}t.push(a)}}return t}function ft(r,e=rr.current){e!=rr.current&&(Uf.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const o=r.charCodeAt(n);if(n>=r.length||(o&64512)!=56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(o&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Z(t)}function ia(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function Bd(r,e){return'"'+na(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?ia(t):(t-=65536,ia((t>>10&1023)+55296)+ia((t&1023)+56320))}).join("")+'"'}function oa(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ur(r,e){return oa(na(r,e))}function sa(r,e=rr.current){return na(ft(r,e))}function Rd(r){const e=ft(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return ee(Ce([e,ra]).slice(0,32))}function Cd(r){const e=Z(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Ur(e.slice(0,t))}function Od(r){if(r.length%4!=0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function aa(r,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,n={};return r.split(",").forEach(i=>{let o=i.split(":");t+=parseInt(o[0],16),n[t]=e(o[1])}),n}function Gf(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function fa(r,e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];if(t+=i.l,r>=t&&r<=t+i.h&&(r-t)%(i.d||1)==0){if(i.e&&i.e.indexOf(r-t)!==-1)continue;return i}}return null}const Fd=Gf("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),$d="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),Ld=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Ud=aa("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Dd=aa("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),jd=aa("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Od),Gd=Gf("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function zd(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function qd(r){return!!fa(r,Fd)}function Hd(r){let e=fa(r,Ld);if(e)return[r+e.s];let t=Ud[r];if(t)return t;let n=Dd[r];if(n)return[r+n[0]];let i=jd[r];return i||null}function Vd(r){return!!fa(r,Gd)}function ca(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=sa(r);e=zd(e.map(n=>{if($d.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=Hd(n);return i||[n]})),e=sa(oa(e),rr.NFKC),e.forEach(n=>{if(Vd(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(qd(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=oa(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");if(t.length>63)throw new Error("too long");return t}class Kd extends Rf{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ft(t))}decode(e){return Ur(super.decode(e))}}class Eo extends mr{constructor(e,t){let n=!1;const i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,t,n);this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||t[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,t){return If(e,this.coders,t)}decode(e){return e.coerce(this.name,Bf(e,this.coders))}}const Mi=new O(Ai),Wd=new RegExp(/^bytes([0-9]*)$/),Jd=new RegExp(/^(u?int)([0-9]*)$/);class Ao{constructor(e){Mi.checkNew(new.target,Ao),q(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new bd(e.name);case"bool":return new yd(e.name);case"string":return new Kd(e.name);case"bytes":return new vd(e.name);case"array":return new md(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Eo((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new _d(e.name)}let t=e.type.match(Jd);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!=0)&&Mi.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Md(n/8,t[1]==="int",e.name)}if(t=e.type.match(Wd),t){let n=parseInt(t[1]);return(n===0||n>32)&&Mi.throwArgumentError("invalid bytes length","param",e),new wd(n,e.name)}return Mi.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new vo(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Qs(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(ct.from(i)));return new Eo(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Mi.throwError("types/values length mismatch",O.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(s=>this._getCoder(ct.from(s))),i=new Eo(n,"_"),o=this._getWriter();return i.encode(o,t),o.data}decode(e,t,n){const i=e.map(s=>this._getCoder(ct.from(s)));return new Eo(i,"_").decode(this._getReader(Z(t),n))}}const zf=new Ao;function Dr(r){return Pe(ft(r))}const qf="hash/5.5.0",Hf=new O(qf),Vf=new Uint8Array(32);Vf.fill(0);const Zd=new RegExp("^((.*)\\.)?([^.]+)$");function Xd(r){try{const e=r.split(".");for(let t=0;t<e.length;t++)if(ca(e[t]).length===0)throw new Error("empty");return!0}catch{}return!1}function Pi(r){typeof r!="string"&&Hf.throwArgumentError("invalid ENS name; not a string","name",r);let e=r,t=Vf;for(;e.length;){const n=e.match(Zd);(n==null||n[2]==="")&&Hf.throwArgumentError("invalid ENS address; missing component","name",r);const i=ft(ca(n[3]));t=Pe(Ce([t,Pe(i)])),e=n[2]||""}return ee(t)}const Yd=`Ethereum Signed Message:
`;function la(r){return typeof r=="string"&&(r=ft(r)),Pe(Ce([ft(Yd),ft(String(r.length)),r]))}var Qd=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const nt=new O(qf),Kf=new Uint8Array(32);Kf.fill(0);const ex=Y.from(-1),Wf=Y.from(0),Jf=Y.from(1),tx=Y.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function rx(r){const e=Z(r),t=e.length%32;return t?Rt([e,Kf.slice(t)]):ee(e)}const nx=Oe(Jf.toHexString(),32),ix=Oe(Wf.toHexString(),32),Zf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ua=["name","version","chainId","verifyingContract","salt"];function Xf(r){return function(e){return typeof e!="string"&&nt.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const ox={name:Xf("name"),version:Xf("version"),chainId:function(r){try{return Y.from(r).toString()}catch{}return nt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return ke(r).toLowerCase()}catch{}return nt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=Z(r);if(e.length!==32)throw new Error("bad length");return ee(e)}catch{}return nt.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function ha(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&nt.throwArgumentError("invalid numeric width","type",r);const i=tx.mask(t?n-1:n),o=t?i.add(Jf).mul(ex):Wf;return function(s){const a=Y.from(s);return(a.lt(o)||a.gt(i))&&nt.throwArgumentError(`value out-of-bounds for ${r}`,"value",s),Oe(a.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&nt.throwArgumentError("invalid bytes width","type",r),function(n){return Z(n).length!==t&&nt.throwArgumentError(`invalid length for ${r}`,"value",n),rx(n)}}}switch(r){case"address":return function(e){return Oe(ke(e),32)};case"bool":return function(e){return e?nx:ix};case"bytes":return function(e){return Pe(e)};case"string":return function(e){return Dr(e)}}return null}function Yf(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class dt{constructor(e){q(this,"types",Object.freeze(wt(e))),q(this,"_encoderCache",{}),q(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(a=>{t[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(f=>{c[f.name]&&nt.throwArgumentError(`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(a)}`,"types",e),c[f.name]=!0;const l=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===a&&nt.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!ha(l)&&(n[l]||nt.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),n[l].push(a),t[a][l]=!0)})}const o=Object.keys(n).filter(a=>n[a].length===0);o.length===0?nt.throwArgumentError("missing primary type","types",e):o.length>1&&nt.throwArgumentError(`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),q(this,"primaryType",o[0]);function s(a,c){c[a]&&nt.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(t[a]).forEach(f=>{!n[f]||(s(f,c),Object.keys(c).forEach(l=>{i[l][f]=!0}))}),delete c[a]}s(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=Yf(a,e[a])+c.map(f=>Yf(f,e[f])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=ha(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],o=this.getEncoder(i),s=parseInt(t[3]);return a=>{s>=0&&a.length!==s&&nt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(o);return this._types[i]&&(c=c.map(Pe)),Pe(Rt(c))}}const n=this.types[e];if(n){const i=Dr(this._types[e]);return o=>{const s=n.map(({name:a,type:c})=>{const f=this.getEncoder(c)(o[a]);return this._types[c]?Pe(f):f});return s.unshift(i),Rt(s)}}return nt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||nt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Pe(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(ha(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],a=parseInt(i[3]);return a>=0&&t.length!==a&&nt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(c=>this._visit(s,c,n))}const o=this.types[e];return o?o.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,t[a],n),s),{}):nt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new dt(e)}static getPrimaryType(e){return dt.from(e).primaryType}static hashStruct(e,t,n){return dt.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=Zf[n];i||nt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>ua.indexOf(n.name)-ua.indexOf(i.name)),dt.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Rt(["0x1901",dt.hashDomain(e),dt.from(t).hash(n)])}static hash(e,t,n){return Pe(dt.encode(e,t,n))}static resolveNames(e,t,n,i){return Qd(this,void 0,void 0,function*(){e=Qe(e);const o={};e.verifyingContract&&!pe(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=dt.from(t);s.visit(n,(a,c)=>(a==="address"&&!pe(c,20)&&(o[c]="0x"),c));for(const a in o)o[a]=yield i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:n}})}static getPayload(e,t,n){dt.hashDomain(e);const i={},o=[];ua.forEach(c=>{const f=e[c];f!=null&&(i[c]=ox[c](f),o.push({name:c,type:Zf[c]}))});const s=dt.from(t),a=Qe(t);return a.EIP712Domain?nt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return ee(Z(f));if(c.match(/^u?int/))return Y.from(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return typeof f!="string"&&nt.throwArgumentError("invalid string","value",f),f}return nt.throwArgumentError("unsupported type","type",c)})}}}const tt=new O(Ai);class Qf extends xn{}class ec extends xn{}class sx extends xn{}class So extends xn{static isIndexed(e){return!!(e&&e._isIndexed)}}const ax={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function tc(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Ni{constructor(e){tt.checkNew(new.target,Ni);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,q(this,"fragments",t.map(n=>Qt.from(n)).filter(n=>n!=null)),q(this,"_abiCoder",lt(new.target,"getAbiCoder")()),q(this,"functions",{}),q(this,"errors",{}),q(this,"events",{}),q(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){tt.warn("duplicate definition - constructor");return}q(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let o=n.format();if(i[o]){tt.warn("duplicate definition - "+o);return}i[o]=n}),this.deploy||q(this,"deploy",jt.from({payable:!1,type:"constructor"})),q(this,"_isInterface",!0)}format(e){e||(e=Ee.full),e===Ee.sighash&&tt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===Ee.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return zf}static getAddress(e){return ke(e)}static getSighash(e){return At(Dr(e.format()),0,4)}static getEventTopic(e){return Dr(e.format())}getFunction(e){if(pe(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];tt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(o=>o.split("(")[0]===n);return i.length===0?tt.throwArgumentError("no matching function","name",n):i.length>1&&tt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[Gt.fromString(e).format()];return t||tt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(pe(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];tt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(o=>o.split("(")[0]===n);return i.length===0?tt.throwArgumentError("no matching event","name",n):i.length>1&&tt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[er.fromString(e).format()];return t||tt.throwArgumentError("no matching event","signature",e),t}getError(e){if(pe(e)){const n=lt(this.constructor,"getSighash");for(const i in this.errors){const o=this.errors[i];if(e===n(o))return this.errors[i]}tt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(o=>o.split("(")[0]===n);return i.length===0?tt.throwArgumentError("no matching error","name",n):i.length>1&&tt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[Gt.fromString(e).format()];return t||tt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return lt(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),lt(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=Z(t);return ee(n.slice(0,4))!==this.getSighash(e)&&tt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ee(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),ee(Ce([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=Z(t);return ee(n.slice(0,4))!==this.getSighash(e)&&tt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ee(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ee(Ce([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=Z(t),i=null,o=null,s=null,a=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const c=ee(n.slice(0,4)),f=ax[c];if(f)o=this._abiCoder.decode(f.inputs,n.slice(4)),s=f.name,a=f.signature,f.reason&&(i=o[0]);else try{const l=this.getError(c);o=this._abiCoder.decode(l.inputs,n.slice(4)),s=l.name,a=l.format()}catch(l){console.log(l)}break}}return tt.throwError("call revert exception",O.errors.CALL_EXCEPTION,{method:e.format(),errorArgs:o,errorName:s,errorSignature:a,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ee(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&tt.throwError("too many arguments for "+e.format(),O.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(o,s)=>o.type==="string"?Dr(s):o.type==="bytes"?Pe(ee(s)):(o.type==="address"&&this._abiCoder.encode(["address"],[s]),Oe(ee(s),32));for(t.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){o!=null&&tt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?tt.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(c=>i(a,c))):n.push(i(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],o=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&tt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((s,a)=>{const c=t[a];if(s.indexed)if(s.type==="string")n.push(Dr(c));else if(s.type==="bytes")n.push(Pe(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[c]))}else i.push(s),o.push(c)}),{data:this._abiCoder.encode(i,o),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let y=this.getEventTopic(e);(!pe(n[0],32)||n[0].toLowerCase()!==y)&&tt.throwError("fragment/topic mismatch",O.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:y,value:n[0]}),n=n.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((y,v)=>{y.indexed?y.type==="string"||y.type==="bytes"||y.baseType==="tuple"||y.baseType==="array"?(i.push(ct.fromObject({type:"bytes32",name:y.name})),s.push(!0)):(i.push(y),s.push(!1)):(o.push(y),s.push(!1))});let a=n!=null?this._abiCoder.decode(i,Ce(n)):null,c=this._abiCoder.decode(o,t,!0),f=[],l=0,b=0;e.inputs.forEach((y,v)=>{if(y.indexed)if(a==null)f[v]=new So({_isIndexed:!0,hash:null});else if(s[v])f[v]=new So({_isIndexed:!0,hash:a[b++]});else try{f[v]=a[b++]}catch(_){f[v]=_}else try{f[v]=c[l++]}catch(_){f[v]=_}if(y.name&&f[y.name]==null){const _=f[v];_ instanceof Error?Object.defineProperty(f,y.name,{enumerable:!0,get:()=>{throw tc(`property ${JSON.stringify(y.name)}`,_)}}):f[y.name]=_}});for(let y=0;y<f.length;y++){const v=f[y];v instanceof Error&&Object.defineProperty(f,y,{enumerable:!0,get:()=>{throw tc(`index ${y}`,v)}})}return Object.freeze(f)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new ec({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:Y.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Qf({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=ee(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new sx({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const fx="abstract-provider/5.5.1";var cx=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const lx=new O(fx);class ux extends xn{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class jr{constructor(){lx.checkAbstract(new.target,jr),q(this,"_isProvider",!0)}getFeeData(){return cx(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield ot({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null;return e&&e.baseFeePerGas&&(i=Y.from("2500000000"),n=e.baseFeePerGas.mul(2).add(i)),{maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const hx="abstract-signer/5.5.0";var zt=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Pt=new O(hx),dx=["accessList","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],xx=[O.errors.INSUFFICIENT_FUNDS,O.errors.NONCE_EXPIRED,O.errors.REPLACEMENT_UNDERPRICED];class yr{constructor(){Pt.checkAbstract(new.target,yr),q(this,"_isSigner",!0)}getBalance(e){return zt(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return zt(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return zt(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield ot(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return zt(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield ot(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return zt(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return zt(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return zt(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return zt(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return zt(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)dx.indexOf(n)===-1&&Pt.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Qe(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Pt.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return zt(this,void 0,void 0,function*(){const t=yield ot(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>zt(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.resolveName(i);return o==null&&Pt.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?Pt.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&Pt.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const o=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=o,t.maxPriorityFeePerGas=o}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Pt.throwError("network does not support EIP-1559",O.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):Pt.throwError("failed to get consistent fee data",O.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(xx.indexOf(i.code)>=0)throw i;return Pt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",O.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Pt.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield ot(t)})}_checkProvider(e){this.provider||Pt.throwError("missing provider",O.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class On extends yr{constructor(e,t){Pt.checkNew(new.target,On);super();q(this,"address",e),q(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Pt.throwError(e,O.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new On(this.address,e)}}var _t={},ye={},Ii=rc;function rc(r,e){if(!r)throw new Error(e||"Assertion failed")}rc.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var da={exports:{}};typeof Object.create=="function"?da.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:da.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var px=Ii,bx=da.exports;ye.inherits=bx;function gx(r,e){return(r.charCodeAt(e)&64512)!=55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)==56320}function mx(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!=0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var o=r.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):gx(r,i)?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}ye.toArray=mx;function yx(r){for(var e="",t=0;t<r.length;t++)e+=ic(r[t].toString(16));return e}ye.toHex=yx;function nc(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}ye.htonl=nc;function vx(r,e){for(var t="",n=0;n<r.length;n++){var i=r[n];e==="little"&&(i=nc(i)),t+=oc(i.toString(16))}return t}ye.toHex32=vx;function ic(r){return r.length===1?"0"+r:r}ye.zero2=ic;function oc(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}ye.zero8=oc;function wx(r,e,t,n){var i=t-e;px(i%4==0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var c;n==="big"?c=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:c=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],o[s]=c>>>0}return o}ye.join32=wx;function _x(r,e){for(var t=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var o=r[n];e==="big"?(t[i]=o>>>24,t[i+1]=o>>>16&255,t[i+2]=o>>>8&255,t[i+3]=o&255):(t[i+3]=o>>>24,t[i+2]=o>>>16&255,t[i+1]=o>>>8&255,t[i]=o&255)}return t}ye.split32=_x;function Ex(r,e){return r>>>e|r<<32-e}ye.rotr32=Ex;function Ax(r,e){return r<<e|r>>>32-e}ye.rotl32=Ax;function Sx(r,e){return r+e>>>0}ye.sum32=Sx;function Tx(r,e,t){return r+e+t>>>0}ye.sum32_3=Tx;function kx(r,e,t,n){return r+e+t+n>>>0}ye.sum32_4=kx;function Mx(r,e,t,n,i){return r+e+t+n+i>>>0}ye.sum32_5=Mx;function Px(r,e,t,n){var i=r[e],o=r[e+1],s=n+o>>>0,a=(s<n?1:0)+t+i;r[e]=a>>>0,r[e+1]=s}ye.sum64=Px;function Nx(r,e,t,n){var i=e+n>>>0,o=(i<e?1:0)+r+t;return o>>>0}ye.sum64_hi=Nx;function Ix(r,e,t,n){var i=e+n;return i>>>0}ye.sum64_lo=Ix;function Bx(r,e,t,n,i,o,s,a){var c=0,f=e;f=f+n>>>0,c+=f<e?1:0,f=f+o>>>0,c+=f<o?1:0,f=f+a>>>0,c+=f<a?1:0;var l=r+t+i+s+c;return l>>>0}ye.sum64_4_hi=Bx;function Rx(r,e,t,n,i,o,s,a){var c=e+n+o+a;return c>>>0}ye.sum64_4_lo=Rx;function Cx(r,e,t,n,i,o,s,a,c,f){var l=0,b=e;b=b+n>>>0,l+=b<e?1:0,b=b+o>>>0,l+=b<o?1:0,b=b+a>>>0,l+=b<a?1:0,b=b+f>>>0,l+=b<f?1:0;var y=r+t+i+s+c+l;return y>>>0}ye.sum64_5_hi=Cx;function Ox(r,e,t,n,i,o,s,a,c,f){var l=e+n+o+a+f;return l>>>0}ye.sum64_5_lo=Ox;function Fx(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}ye.rotr64_hi=Fx;function $x(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ye.rotr64_lo=$x;function Lx(r,e,t){return r>>>t}ye.shr64_hi=Lx;function Ux(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ye.shr64_lo=Ux;var Fn={},sc=ye,Dx=Ii;function To(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Fn.BlockHash=To;To.prototype.update=function(e,t){if(e=sc.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=sc.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};To.prototype.digest=function(e){return this.update(this._pad()),Dx(this.pending===null),this._digest(e)};To.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i};var $n={},nr={},jx=ye,ir=jx.rotr32;function Gx(r,e,t,n){if(r===0)return ac(e,t,n);if(r===1||r===3)return cc(e,t,n);if(r===2)return fc(e,t,n)}nr.ft_1=Gx;function ac(r,e,t){return r&e^~r&t}nr.ch32=ac;function fc(r,e,t){return r&e^r&t^e&t}nr.maj32=fc;function cc(r,e,t){return r^e^t}nr.p32=cc;function zx(r){return ir(r,2)^ir(r,13)^ir(r,22)}nr.s0_256=zx;function qx(r){return ir(r,6)^ir(r,11)^ir(r,25)}nr.s1_256=qx;function Hx(r){return ir(r,7)^ir(r,18)^r>>>3}nr.g0_256=Hx;function Vx(r){return ir(r,17)^ir(r,19)^r>>>10}nr.g1_256=Vx;var Ln=ye,Kx=Fn,Wx=nr,xa=Ln.rotl32,Bi=Ln.sum32,Jx=Ln.sum32_5,Zx=Wx.ft_1,lc=Kx.BlockHash,Xx=[1518500249,1859775393,2400959708,3395469782];function or(){if(!(this instanceof or))return new or;lc.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ln.inherits(or,lc);var Yx=or;or.blockSize=512;or.outSize=160;or.hmacStrength=80;or.padLength=64;or.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=xa(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),b=Jx(xa(o,5),Zx(l,s,a,c),f,n[i],Xx[l]);f=c,c=a,a=xa(s,30),s=o,o=b}this.h[0]=Bi(this.h[0],o),this.h[1]=Bi(this.h[1],s),this.h[2]=Bi(this.h[2],a),this.h[3]=Bi(this.h[3],c),this.h[4]=Bi(this.h[4],f)};or.prototype._digest=function(e){return e==="hex"?Ln.toHex32(this.h,"big"):Ln.split32(this.h,"big")};var Un=ye,Qx=Fn,Dn=nr,e1=Ii,qt=Un.sum32,t1=Un.sum32_4,r1=Un.sum32_5,n1=Dn.ch32,i1=Dn.maj32,o1=Dn.s0_256,s1=Dn.s1_256,a1=Dn.g0_256,f1=Dn.g1_256,uc=Qx.BlockHash,c1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sr(){if(!(this instanceof sr))return new sr;uc.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=c1,this.W=new Array(64)}Un.inherits(sr,uc);var hc=sr;sr.blockSize=512;sr.outSize=256;sr.hmacStrength=192;sr.padLength=64;sr.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=t1(f1(n[i-2]),n[i-7],a1(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],f=this.h[4],l=this.h[5],b=this.h[6],y=this.h[7];for(e1(this.k.length===n.length),i=0;i<n.length;i++){var v=r1(y,s1(f),n1(f,l,b),this.k[i],n[i]),_=qt(o1(o),i1(o,s,a));y=b,b=l,l=f,f=qt(c,v),c=a,a=s,s=o,o=qt(v,_)}this.h[0]=qt(this.h[0],o),this.h[1]=qt(this.h[1],s),this.h[2]=qt(this.h[2],a),this.h[3]=qt(this.h[3],c),this.h[4]=qt(this.h[4],f),this.h[5]=qt(this.h[5],l),this.h[6]=qt(this.h[6],b),this.h[7]=qt(this.h[7],y)};sr.prototype._digest=function(e){return e==="hex"?Un.toHex32(this.h,"big"):Un.split32(this.h,"big")};var pa=ye,dc=hc;function vr(){if(!(this instanceof vr))return new vr;dc.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}pa.inherits(vr,dc);var l1=vr;vr.blockSize=512;vr.outSize=224;vr.hmacStrength=192;vr.padLength=64;vr.prototype._digest=function(e){return e==="hex"?pa.toHex32(this.h.slice(0,7),"big"):pa.split32(this.h.slice(0,7),"big")};var kt=ye,u1=Fn,h1=Ii,ar=kt.rotr64_hi,fr=kt.rotr64_lo,xc=kt.shr64_hi,pc=kt.shr64_lo,Gr=kt.sum64,ba=kt.sum64_hi,ga=kt.sum64_lo,d1=kt.sum64_4_hi,x1=kt.sum64_4_lo,p1=kt.sum64_5_hi,b1=kt.sum64_5_lo,bc=u1.BlockHash,g1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ht(){if(!(this instanceof Ht))return new Ht;bc.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g1,this.W=new Array(160)}kt.inherits(Ht,bc);var gc=Ht;Ht.blockSize=1024;Ht.outSize=512;Ht.hmacStrength=192;Ht.padLength=128;Ht.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var o=M1(n[i-4],n[i-3]),s=P1(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],f=T1(n[i-30],n[i-29]),l=k1(n[i-30],n[i-29]),b=n[i-32],y=n[i-31];n[i]=d1(o,s,a,c,f,l,b,y),n[i+1]=x1(o,s,a,c,f,l,b,y)}};Ht.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],f=this.h[5],l=this.h[6],b=this.h[7],y=this.h[8],v=this.h[9],_=this.h[10],S=this.h[11],w=this.h[12],I=this.h[13],U=this.h[14],H=this.h[15];h1(this.k.length===n.length);for(var J=0;J<n.length;J+=2){var V=U,Q=H,te=A1(y,v),re=S1(y,v),ne=m1(y,v,_,S,w),fe=y1(y,v,_,S,w,I),N=this.k[J],u=this.k[J+1],g=n[J],A=n[J+1],T=p1(V,Q,te,re,ne,fe,N,u,g,A),k=b1(V,Q,te,re,ne,fe,N,u,g,A);V=_1(i,o),Q=E1(i,o),te=v1(i,o,s,a,c),re=w1(i,o,s,a,c,f);var B=ba(V,Q,te,re),$=ga(V,Q,te,re);U=w,H=I,w=_,I=S,_=y,S=v,y=ba(l,b,T,k),v=ga(b,b,T,k),l=c,b=f,c=s,f=a,s=i,a=o,i=ba(T,k,B,$),o=ga(T,k,B,$)}Gr(this.h,0,i,o),Gr(this.h,2,s,a),Gr(this.h,4,c,f),Gr(this.h,6,l,b),Gr(this.h,8,y,v),Gr(this.h,10,_,S),Gr(this.h,12,w,I),Gr(this.h,14,U,H)};Ht.prototype._digest=function(e){return e==="hex"?kt.toHex32(this.h,"big"):kt.split32(this.h,"big")};function m1(r,e,t,n,i){var o=r&t^~r&i;return o<0&&(o+=4294967296),o}function y1(r,e,t,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function v1(r,e,t,n,i){var o=r&t^r&i^t&i;return o<0&&(o+=4294967296),o}function w1(r,e,t,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function _1(r,e){var t=ar(r,e,28),n=ar(e,r,2),i=ar(e,r,7),o=t^n^i;return o<0&&(o+=4294967296),o}function E1(r,e){var t=fr(r,e,28),n=fr(e,r,2),i=fr(e,r,7),o=t^n^i;return o<0&&(o+=4294967296),o}function A1(r,e){var t=ar(r,e,14),n=ar(r,e,18),i=ar(e,r,9),o=t^n^i;return o<0&&(o+=4294967296),o}function S1(r,e){var t=fr(r,e,14),n=fr(r,e,18),i=fr(e,r,9),o=t^n^i;return o<0&&(o+=4294967296),o}function T1(r,e){var t=ar(r,e,1),n=ar(r,e,8),i=xc(r,e,7),o=t^n^i;return o<0&&(o+=4294967296),o}function k1(r,e){var t=fr(r,e,1),n=fr(r,e,8),i=pc(r,e,7),o=t^n^i;return o<0&&(o+=4294967296),o}function M1(r,e){var t=ar(r,e,19),n=ar(e,r,29),i=xc(r,e,6),o=t^n^i;return o<0&&(o+=4294967296),o}function P1(r,e){var t=fr(r,e,19),n=fr(e,r,29),i=pc(r,e,6),o=t^n^i;return o<0&&(o+=4294967296),o}var ma=ye,mc=gc;function wr(){if(!(this instanceof wr))return new wr;mc.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ma.inherits(wr,mc);var N1=wr;wr.blockSize=1024;wr.outSize=384;wr.hmacStrength=192;wr.padLength=128;wr.prototype._digest=function(e){return e==="hex"?ma.toHex32(this.h.slice(0,12),"big"):ma.split32(this.h.slice(0,12),"big")};$n.sha1=Yx;$n.sha224=l1;$n.sha256=hc;$n.sha384=N1;$n.sha512=gc;var yc={},gn=ye,I1=Fn,ko=gn.rotl32,vc=gn.sum32,Ri=gn.sum32_3,wc=gn.sum32_4,_c=I1.BlockHash;function cr(){if(!(this instanceof cr))return new cr;_c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}gn.inherits(cr,_c);yc.ripemd160=cr;cr.blockSize=512;cr.outSize=160;cr.hmacStrength=192;cr.padLength=64;cr.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=n,f=i,l=o,b=s,y=a,v=0;v<80;v++){var _=vc(ko(wc(n,Ec(v,i,o,s),e[C1[v]+t],B1(v)),F1[v]),a);n=a,a=s,s=ko(o,10),o=i,i=_,_=vc(ko(wc(c,Ec(79-v,f,l,b),e[O1[v]+t],R1(v)),$1[v]),y),c=y,y=b,b=ko(l,10),l=f,f=_}_=Ri(this.h[1],o,b),this.h[1]=Ri(this.h[2],s,y),this.h[2]=Ri(this.h[3],a,c),this.h[3]=Ri(this.h[4],n,f),this.h[4]=Ri(this.h[0],i,l),this.h[0]=_};cr.prototype._digest=function(e){return e==="hex"?gn.toHex32(this.h,"little"):gn.split32(this.h,"little")};function Ec(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function B1(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function R1(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var C1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],O1=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],F1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],L1=ye,U1=Ii;function jn(r,e,t){if(!(this instanceof jn))return new jn(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(L1.toArray(e,t))}var D1=jn;jn.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),U1(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};jn.prototype.update=function(e,t){return this.inner.update(e,t),this};jn.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=ye,e.common=Fn,e.sha=$n,e.ripemd=yc,e.hmac=D1,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(_t);function Gn(r,e,t){return t={path:e,exports:{},require:function(n,i){return j1(n,i==null?t.path:i)}},r(t,t.exports),t.exports}function j1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ya=Ac;function Ac(r,e){if(!r)throw new Error(e||"Assertion failed")}Ac.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Vt=Gn(function(r,e){var t=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var f=0;f<s.length;f++)c[f]=s[f]|0;return c}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!=0&&(s="0"+s);for(var f=0;f<s.length;f+=2)c.push(parseInt(s[f]+s[f+1],16))}else for(var f=0;f<s.length;f++){var l=s.charCodeAt(f),b=l>>8,y=l&255;b?c.push(b,y):c.push(y)}return c}t.toArray=n;function i(s){return s.length===1?"0"+s:s}t.zero2=i;function o(s){for(var a="",c=0;c<s.length;c++)a+=i(s[c].toString(16));return a}t.toHex=o,t.encode=function(a,c){return c==="hex"?o(a):a}}),Nt=Gn(function(r,e){var t=e;t.assert=ya,t.toArray=Vt.toArray,t.zero2=Vt.zero2,t.toHex=Vt.toHex,t.encode=Vt.encode;function n(c,f,l){var b=new Array(Math.max(c.bitLength(),l)+1);b.fill(0);for(var y=1<<f+1,v=c.clone(),_=0;_<b.length;_++){var S,w=v.andln(y-1);v.isOdd()?(w>(y>>1)-1?S=(y>>1)-w:S=w,v.isubn(S)):S=0,b[_]=S,v.iushrn(1)}return b}t.getNAF=n;function i(c,f){var l=[[],[]];c=c.clone(),f=f.clone();for(var b=0,y=0,v;c.cmpn(-b)>0||f.cmpn(-y)>0;){var _=c.andln(3)+b&3,S=f.andln(3)+y&3;_===3&&(_=-1),S===3&&(S=-1);var w;(_&1)==0?w=0:(v=c.andln(7)+b&7,(v===3||v===5)&&S===2?w=-_:w=_),l[0].push(w);var I;(S&1)==0?I=0:(v=f.andln(7)+y&7,(v===3||v===5)&&_===2?I=-S:I=S),l[1].push(I),2*b===w+1&&(b=1-b),2*y===I+1&&(y=1-y),c.iushrn(1),f.iushrn(1)}return l}t.getJSF=i;function o(c,f,l){var b="_"+f;c.prototype[f]=function(){return this[b]!==void 0?this[b]:this[b]=l.call(this)}}t.cachedProperty=o;function s(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=s;function a(c){return new xe(c,"hex","le")}t.intFromLE=a}),Mo=Nt.getNAF,G1=Nt.getJSF,Po=Nt.assert;function zr(r,e){this.type=r,this.p=new xe(e.p,16),this.red=e.prime?xe.red(e.prime):xe.mont(this.p),this.zero=new xe(0).toRed(this.red),this.one=new xe(1).toRed(this.red),this.two=new xe(2).toRed(this.red),this.n=e.n&&new xe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var mn=zr;zr.prototype.point=function(){throw new Error("Not implemented")};zr.prototype.validate=function(){throw new Error("Not implemented")};zr.prototype._fixedNafMul=function(e,t){Po(e.precomputed);var n=e._getDoubles(),i=Mo(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;var s=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var f=a+n.step-1;f>=a;f--)c=(c<<1)+i[f];s.push(c)}for(var l=this.jpoint(null,null,null),b=this.jpoint(null,null,null),y=o;y>0;y--){for(a=0;a<s.length;a++)c=s[a],c===y?b=b.mixedAdd(n.points[a]):c===-y&&(b=b.mixedAdd(n.points[a].neg()));l=l.add(b)}return l.toP()};zr.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=Mo(t,n,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&s[c]===0;c--)f++;if(c>=0&&f++,a=a.dblp(f),c<0)break;var l=s[c];Po(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(o[l-1>>1]):a=a.mixedAdd(o[-l-1>>1].neg()):l>0?a=a.add(o[l-1>>1]):a=a.add(o[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};zr.prototype._wnafMulAdd=function(e,t,n,i,o){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,f=0,l,b,y;for(l=0;l<i;l++){y=t[l];var v=y._getNAFPoints(e);s[l]=v.wnd,a[l]=v.points}for(l=i-1;l>=1;l-=2){var _=l-1,S=l;if(s[_]!==1||s[S]!==1){c[_]=Mo(n[_],s[_],this._bitLength),c[S]=Mo(n[S],s[S],this._bitLength),f=Math.max(c[_].length,f),f=Math.max(c[S].length,f);continue}var w=[t[_],null,null,t[S]];t[_].y.cmp(t[S].y)===0?(w[1]=t[_].add(t[S]),w[2]=t[_].toJ().mixedAdd(t[S].neg())):t[_].y.cmp(t[S].y.redNeg())===0?(w[1]=t[_].toJ().mixedAdd(t[S]),w[2]=t[_].add(t[S].neg())):(w[1]=t[_].toJ().mixedAdd(t[S]),w[2]=t[_].toJ().mixedAdd(t[S].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],U=G1(n[_],n[S]);for(f=Math.max(U[0].length,f),c[_]=new Array(f),c[S]=new Array(f),b=0;b<f;b++){var H=U[0][b]|0,J=U[1][b]|0;c[_][b]=I[(H+1)*3+(J+1)],c[S][b]=0,a[_]=w}}var V=this.jpoint(null,null,null),Q=this._wnafT4;for(l=f;l>=0;l--){for(var te=0;l>=0;){var re=!0;for(b=0;b<i;b++)Q[b]=c[b][l]|0,Q[b]!==0&&(re=!1);if(!re)break;te++,l--}if(l>=0&&te++,V=V.dblp(te),l<0)break;for(b=0;b<i;b++){var ne=Q[b];ne!==0&&(ne>0?y=a[b][ne-1>>1]:ne<0&&(y=a[b][-ne-1>>1].neg()),y.type==="affine"?V=V.mixedAdd(y):V=V.add(y))}}for(l=0;l<i;l++)a[l]=null;return o?V:V.toP()};function Ot(r,e){this.curve=r,this.type=e,this.precomputed=null}zr.BasePoint=Ot;Ot.prototype.eq=function(){throw new Error("Not implemented")};Ot.prototype.validate=function(){return this.curve.validate(this)};zr.prototype.decodePoint=function(e,t){e=Nt.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*n){e[0]===6?Po(e[e.length-1]%2==0):e[0]===7&&Po(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ot.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ot.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Ot.prototype.encode=function(e,t){return Nt.encode(this._encode(t),e)};Ot.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Ot.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Ot.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<t;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ot.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)t[o]=t[o-1].add(i);return{wnd:e,points:t}};Ot.prototype._getBeta=function(){return null};Ot.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var va=Gn(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),z1=Nt.assert;function Ft(r){mn.call(this,"short",r),this.a=new xe(r.a,16).toRed(this.red),this.b=new xe(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}va(Ft,mn);var q1=Ft;Ft.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new xe(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new xe(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))===0?n=o[0]:(n=o[1],z1(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new xe(a.a,16),b:new xe(a.b,16)}}):s=this._getEndoBasis(n),{beta:t,lambda:n,basis:s}}};Ft.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:xe.mont(e),n=new xe(2).toRed(t).redInvm(),i=n.redNeg(),o=new xe(3).toRed(t).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};Ft.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new xe(1),s=new xe(0),a=new xe(0),c=new xe(1),f,l,b,y,v,_,S,w=0,I,U;n.cmpn(0)!==0;){var H=i.div(n);I=i.sub(H.mul(n)),U=a.sub(H.mul(o));var J=c.sub(H.mul(s));if(!b&&I.cmp(t)<0)f=S.neg(),l=o,b=I.neg(),y=U;else if(b&&++w==2)break;S=I,i=n,n=I,a=o,o=U,c=s,s=J}v=I.neg(),_=U;var V=b.sqr().add(y.sqr()),Q=v.sqr().add(_.sqr());return Q.cmp(V)>=0&&(v=f,_=l),b.negative&&(b=b.neg(),y=y.neg()),v.negative&&(v=v.neg(),_=_.neg()),[{a:b,b:y},{a:v,b:_}]};Ft.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=o.mul(n.a),c=s.mul(i.a),f=o.mul(n.b),l=s.mul(i.b),b=e.sub(a).sub(c),y=f.add(l).neg();return{k1:b,k2:y}};Ft.prototype.pointFromX=function(e,t){e=new xe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)};Ft.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Ft.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),c=e[s],f=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),i[s*2]=c,i[s*2+1]=f,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,o,s*2,n),b=0;b<s*2;b++)i[b]=null,o[b]=null;return l};function ut(r,e,t,n){mn.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new xe(e,16),this.y=new xe(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}va(ut,mn.BasePoint);Ft.prototype.point=function(e,t,n){return new ut(this,e,t,n)};Ft.prototype.pointFromJSON=function(e,t){return ut.fromJSON(this,e,t)};ut.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};ut.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ut.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function o(a){return e.point(a[0],a[1],n)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};ut.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ut.prototype.isInfinity=function(){return this.inf};ut.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ut.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};ut.prototype.getX=function(){return this.x.fromRed()};ut.prototype.getY=function(){return this.y.fromRed()};ut.prototype.mul=function(e){return e=new xe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ut.prototype.mulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};ut.prototype.jmulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};ut.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ut.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};ut.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function xt(r,e,t,n){mn.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new xe(0)):(this.x=new xe(e,16),this.y=new xe(t,16),this.z=new xe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}va(xt,mn.BasePoint);Ft.prototype.jpoint=function(e,t,n){return new xt(this,e,t,n)};xt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};xt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};xt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),o=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(o),f=s.redSub(a);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),b=l.redMul(c),y=i.redMul(l),v=f.redSqr().redIAdd(b).redISub(y).redISub(y),_=f.redMul(y.redISub(v)).redISub(s.redMul(b)),S=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(v,_,S)};xt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),o=this.y,s=e.y.redMul(t).redMul(this.z),a=n.redSub(i),c=o.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),l=f.redMul(a),b=n.redMul(f),y=c.redSqr().redIAdd(l).redISub(b).redISub(b),v=c.redMul(b.redISub(y)).redISub(o.redMul(l)),_=this.z.redMul(a);return this.curve.jpoint(y,v,_)};xt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,c=this.z,f=c.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var b=s.redSqr(),y=l.redSqr(),v=y.redSqr(),_=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(f)),S=s.redMul(y),w=_.redSqr().redISub(S.redAdd(S)),I=S.redISub(w),U=_.redMul(I);U=U.redIAdd(U).redISub(v);var H=l.redMul(c);t+1<e&&(f=f.redMul(v)),s=w,c=H,l=U}return this.curve.jpoint(s,l.redMul(o),c)};xt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};xt.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(a).redISub(a),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=f,t=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),_=this.x.redAdd(y).redSqr().redISub(b).redISub(v);_=_.redIAdd(_);var S=b.redAdd(b).redIAdd(b),w=S.redSqr(),I=v.redIAdd(v);I=I.redIAdd(I),I=I.redIAdd(I),e=w.redISub(_).redISub(_),t=S.redMul(_.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};xt.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(a).redISub(a);e=f;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),t=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),y=this.y.redSqr(),v=this.x.redMul(y),_=this.x.redSub(b).redMul(this.x.redAdd(b));_=_.redAdd(_).redIAdd(_);var S=v.redIAdd(v);S=S.redIAdd(S);var w=S.redAdd(S);e=_.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(b);var I=y.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),t=_.redMul(S.redISub(e)).redISub(I)}return this.curve.jpoint(e,t,n)};xt.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=t.redSqr(),a=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),f=t.redAdd(t);f=f.redIAdd(f);var l=f.redMul(a),b=c.redSqr().redISub(l.redAdd(l)),y=l.redISub(b),v=a.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var _=c.redMul(y).redISub(v),S=n.redAdd(n).redMul(i);return this.curve.jpoint(b,_,S)};xt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=o.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(f),b=t.redMul(l);b=b.redIAdd(b),b=b.redIAdd(b);var y=this.x.redMul(c).redISub(b);y=y.redIAdd(y),y=y.redIAdd(y);var v=this.y.redMul(l.redMul(f.redISub(l)).redISub(a.redMul(c)));v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var _=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(y,v,_)};xt.prototype.mul=function(e,t){return e=new xe(e,t),this.curve._wnafMul(this,e)};xt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};xt.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};xt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};xt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var No=Gn(function(r,e){var t=e;t.base=mn,t.short=q1,t.mont=null,t.edwards=null}),Io=Gn(function(r,e){var t=e,n=Nt.assert;function i(a){a.type==="short"?this.curve=new No.short(a):a.type==="edwards"?this.curve=new No.edwards(a):this.curve=new No.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function o(a,c){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var f=new i(c);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:f}),f}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_t.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function qr(r){if(!(this instanceof qr))return new qr(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Vt.toArray(r.entropy,r.entropyEnc||"hex"),t=Vt.toArray(r.nonce,r.nonceEnc||"hex"),n=Vt.toArray(r.pers,r.persEnc||"hex");ya(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var Sc=qr;qr.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};qr.prototype._hmac=function(){return new _t.hmac(this.hash,this.K)};qr.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};qr.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=Vt.toArray(e,t),n=Vt.toArray(n,i),ya(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};qr.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=Vt.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Vt.encode(s,t)};var wa=Nt.assert;function mt(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var _a=mt;mt.fromPublic=function(e,t,n){return t instanceof mt?t:new mt(e,{pub:t,pubEnc:n})};mt.fromPrivate=function(e,t,n){return t instanceof mt?t:new mt(e,{priv:t,privEnc:n})};mt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};mt.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};mt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};mt.prototype._importPrivate=function(e,t){this.priv=new xe(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};mt.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?wa(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&wa(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};mt.prototype.derive=function(e){return e.validate()||wa(e.validate(),"public point not validated"),e.mul(this.priv).getX()};mt.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};mt.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};mt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var H1=Nt.assert;function Bo(r,e){if(r instanceof Bo)return r;this._importDER(r,e)||(H1(r.r&&r.s,"Signature without r or s"),this.r=new xe(r.r,16),this.s=new xe(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Ro=Bo;function V1(){this.place=0}function Ea(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=r[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Tc(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Bo.prototype._importDER=function(e,t){e=Nt.toArray(e,t);var n=new V1;if(e[n.place++]!==48)return!1;var i=Ea(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=Ea(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var a=Ea(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new xe(s),this.s=new xe(c),this.recoveryParam=null,!0};function Aa(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Bo.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=Tc(t),n=Tc(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Aa(i,t.length),i=i.concat(t),i.push(2),Aa(i,n.length);var o=i.concat(n),s=[48];return Aa(s,o.length),s=s.concat(o),Nt.encode(s,e)};var K1=function(){throw new Error("unsupported")},kc=Nt.assert;function $t(r){if(!(this instanceof $t))return new $t(r);typeof r=="string"&&(kc(Object.prototype.hasOwnProperty.call(Io,r),"Unknown curve "+r),r=Io[r]),r instanceof Io.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var W1=$t;$t.prototype.keyPair=function(e){return new _a(this,e)};$t.prototype.keyFromPrivate=function(e,t){return _a.fromPrivate(this,e,t)};$t.prototype.keyFromPublic=function(e,t){return _a.fromPublic(this,e,t)};$t.prototype.genKeyPair=function(e){e||(e={});for(var t=new Sc({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||K1(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new xe(2));;){var o=new xe(t.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};$t.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};$t.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new xe(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),a=e.toArray("be",o),c=new Sc({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new xe(1)),l=0;;l++){var b=i.k?i.k(l):new xe(c.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(f)>=0)){var y=this.g.mul(b);if(!y.isInfinity()){var v=y.getX(),_=v.umod(this.n);if(_.cmpn(0)!==0){var S=b.invm(this.n).mul(_.mul(t.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var w=(y.getY().isOdd()?1:0)|(v.cmp(_)!==0?2:0);return i.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),w^=1),new Ro({r:_,s:S,recoveryParam:w})}}}}}};$t.prototype.verify=function(e,t,n,i){e=this._truncateToN(new xe(e,16)),n=this.keyFromPublic(n,i),t=new Ro(t,"hex");var o=t.r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),c=a.mul(e).umod(this.n),f=a.mul(o).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.eqXToP(o)):(l=this.g.mulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.getX().umod(this.n).cmp(o)===0)};$t.prototype.recoverPubKey=function(r,e,t,n){kc((3&t)===t,"The recovery param is more than two bits"),e=new Ro(e,n);var i=this.n,o=new xe(r),s=e.r,a=e.s,c=t&1,f=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=e.r.invm(i),b=i.sub(o).mul(l).umod(i),y=a.mul(l).umod(i);return this.g.mulAdd(b,s,y)};$t.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new Ro(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(r,e,i)}catch{continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var J1=Gn(function(r,e){var t=e;t.version="6.5.4",t.utils=Nt,t.rand=function(){throw new Error("unsupported")},t.curve=No,t.curves=Io,t.ec=W1,t.eddsa=null}),Z1=J1.ec;const X1="signing-key/5.5.0",Mc=new O(X1);let Sa=null;function lr(){return Sa||(Sa=new Z1("secp256k1")),Sa}class yn{constructor(e){q(this,"curve","secp256k1"),q(this,"privateKey",ee(e));const t=lr().keyFromPrivate(Z(this.privateKey));q(this,"publicKey","0x"+t.getPublic(!1,"hex")),q(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),q(this,"_isSigningKey",!0)}_addPoint(e){const t=lr().keyFromPublic(Z(this.publicKey)),n=lr().keyFromPublic(Z(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=lr().keyFromPrivate(Z(this.privateKey)),n=Z(e);n.length!==32&&Mc.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return dn({recoveryParam:i.recoveryParam,r:Oe("0x"+i.r.toString(16),32),s:Oe("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=lr().keyFromPrivate(Z(this.privateKey)),n=lr().keyFromPublic(Z(Ta(e)));return Oe("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Pc(r,e){const t=dn(e),n={r:Z(t.r),s:Z(t.s)};return"0x"+lr().recoverPubKey(Z(r),n,t.recoveryParam).encode("hex",!1)}function Ta(r,e){const t=Z(r);if(t.length===32){const n=new yn(t);return e?"0x"+lr().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?ee(t):"0x"+lr().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+lr().keyFromPublic(t).getPublic(!0,"hex"):ee(t)}return Mc.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Y1="transactions/5.5.0",yt=new O(Y1);var ka;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(ka||(ka={}));function Ma(r){return r==="0x"?null:ke(r)}function vt(r){return r==="0x"?ta:Y.from(r)}const Q1=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],ep={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Hr(r){const e=Ta(r);return ke(At(Pe(At(e,1)),12))}function Ci(r,e){return Hr(Pc(Z(r),e))}function It(r,e){const t=Zt(Y.from(r).toHexString());return t.length>32&&yt.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function Pa(r,e){return{address:ke(r),storageKeys:(e||[]).map((t,n)=>($r(t)!==32&&yt.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function Vr(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&yt.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),Pa(t[0],t[1])):Pa(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,o)=>(i[o]=!0,i),{});return Pa(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function Nc(r){return Vr(r).map(e=>[e.address,e.storageKeys])}function Ic(r,e){if(r.gasPrice!=null){const n=Y.from(r.gasPrice),i=Y.from(r.maxFeePerGas||0);n.eq(i)||yt.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[It(r.chainId||0,"chainId"),It(r.nonce||0,"nonce"),It(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),It(r.maxFeePerGas||0,"maxFeePerGas"),It(r.gasLimit||0,"gasLimit"),r.to!=null?ke(r.to):"0x",It(r.value||0,"value"),r.data||"0x",Nc(r.accessList||[])];if(e){const n=dn(e);t.push(It(n.recoveryParam,"recoveryParam")),t.push(Zt(n.r)),t.push(Zt(n.s))}return Rt(["0x02",bn(t)])}function Bc(r,e){const t=[It(r.chainId||0,"chainId"),It(r.nonce||0,"nonce"),It(r.gasPrice||0,"gasPrice"),It(r.gasLimit||0,"gasLimit"),r.to!=null?ke(r.to):"0x",It(r.value||0,"value"),r.data||"0x",Nc(r.accessList||[])];if(e){const n=dn(e);t.push(It(n.recoveryParam,"recoveryParam")),t.push(Zt(n.r)),t.push(Zt(n.s))}return Rt(["0x01",bn(t)])}function tp(r,e){Xs(r,ep);const t=[];Q1.forEach(function(s){let a=r[s.name]||[];const c={};s.numeric&&(c.hexPad="left"),a=Z(ee(a,c)),s.length&&a.length!==s.length&&a.length>0&&yt.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a),s.maxLength&&(a=Zt(a),a.length>s.maxLength&&yt.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a)),t.push(ee(a))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&yt.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!gi(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(ee(n)),t.push("0x"),t.push("0x")),!e)return bn(t);const i=dn(e);let o=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),o+=n*2+8,i.v>28&&i.v!==o&&yt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&yt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(ee(o)),t.push(Zt(Z(i.r))),t.push(Zt(Z(i.s))),bn(t)}function Na(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&yt.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),tp(r,e);switch(r.type){case 1:return Bc(r,e);case 2:return Ic(r,e)}return yt.throwError(`unsupported transaction type: ${r.type}`,O.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function Rc(r,e,t){try{const n=vt(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{yt.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=Oe(e[1],32),r.s=Oe(e[2],32);try{const n=Pe(t(r));r.from=Ci(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch(n){console.log(n)}}function rp(r){const e=wo(r.slice(1));e.length!==9&&e.length!==12&&yt.throwArgumentError("invalid component count for transaction type: 2","payload",ee(r));const t=vt(e[2]),n=vt(e[3]),i={type:2,chainId:vt(e[0]).toNumber(),nonce:vt(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:vt(e[4]),to:Ma(e[5]),value:vt(e[6]),data:e[7],accessList:Vr(e[8])};return e.length===9||(i.hash=Pe(r),Rc(i,e.slice(9),Ic)),i}function np(r){const e=wo(r.slice(1));e.length!==8&&e.length!==11&&yt.throwArgumentError("invalid component count for transaction type: 1","payload",ee(r));const t={type:1,chainId:vt(e[0]).toNumber(),nonce:vt(e[1]).toNumber(),gasPrice:vt(e[2]),gasLimit:vt(e[3]),to:Ma(e[4]),value:vt(e[5]),data:e[6],accessList:Vr(e[7])};return e.length===8||(t.hash=Pe(r),Rc(t,e.slice(8),Bc)),t}function ip(r){const e=wo(r);e.length!==9&&e.length!==6&&yt.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:vt(e[0]).toNumber(),gasPrice:vt(e[1]),gasLimit:vt(e[2]),to:Ma(e[3]),value:vt(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=Y.from(e[6]).toNumber()}catch(n){return console.log(n),t}if(t.r=Oe(e[7],32),t.s=Oe(e[8],32),Y.from(t.r).isZero()&&Y.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(ee(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const o=Pe(bn(i));try{t.from=Ci(o,{r:ee(t.r),s:ee(t.s),recoveryParam:n})}catch(s){console.log(s)}t.hash=Pe(r)}return t.type=null,t}function Cc(r){const e=Z(r);if(e[0]>127)return ip(e);switch(e[0]){case 1:return np(e);case 2:return rp(e)}return yt.throwError(`unsupported transaction type: ${e[0]}`,O.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const op="contracts/5.5.0";var Kr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Me=new O(op),sp={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0};function Co(r,e){return Kr(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&Me.throwArgumentError("invalid address or ENS name","name",t);try{return ke(t)}catch{}r||Me.throwError("a provider or signer is needed to resolve ENS names",O.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&Me.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function Oi(r,e,t){return Kr(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>Oi(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield Co(r,e):t.type==="tuple"?yield Oi(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Oi(r,n,t.arrayChildren))):Promise.reject(Me.makeError("invalid value for array",O.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Oo(r,e,t){return Kr(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Qe(t.pop())),Me.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=ot({override:Co(r.signer,n.from),signer:r.signer.getAddress()}).then(f=>Kr(this,void 0,void 0,function*(){return ke(f.signer)!==f.override&&Me.throwError("Contract with a Signer cannot override from",O.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),f.override})):n.from=r.signer.getAddress():n.from&&(n.from=Co(r.provider,n.from));const i=yield ot({args:Oi(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:ot(n)||{}}),o=r.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(a.nonce!=null&&(s.nonce=Y.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=Y.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=Y.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=Y.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=Y.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=Vr(a.accessList)),s.gasLimit==null&&e.gas!=null){let f=21e3;const l=Z(o);for(let b=0;b<l.length;b++)f+=4,l[b]&&(f+=64);s.gasLimit=Y.from(e.gas).add(f)}if(a.value){const f=Y.from(a.value);!f.isZero()&&!e.payable&&Me.throwError("non-payable method cannot override value",O.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=f}a.customData&&(s.customData=Qe(a.customData)),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData;const c=Object.keys(n).filter(f=>n[f]!=null);return c.length&&Me.throwError(`cannot override ${c.map(f=>JSON.stringify(f)).join(",")}`,O.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),s})}function ap(r,e){return function(...t){return Oo(r,e,t)}}function fp(r,e){const t=r.signer||r.provider;return function(...n){return Kr(this,void 0,void 0,function*(){t||Me.throwError("estimate require a provider or signer",O.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Oo(r,e,n);return yield t.estimateGas(i)})}}function Oc(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(o=>{let s=wt(o),a=null;try{a=r.interface.parseLog(o)}catch{}return a&&(s.args=a.args,s.decode=(c,f)=>r.interface.decodeEventLog(a.eventFragment,c,f),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>r.provider,s.getBlock=()=>r.provider.getBlock(i.blockHash),s.getTransaction=()=>r.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function Fc(r,e,t){const n=r.signer||r.provider;return function(...i){return Kr(this,void 0,void 0,function*(){let o;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Qe(i.pop());c.blockTag!=null&&(o=yield c.blockTag),delete c.blockTag,i.push(c)}r.deployTransaction!=null&&(yield r._deployed(o));const s=yield Oo(r,e,i),a=yield n.call(s,o);try{let c=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===O.errors.CALL_EXCEPTION&&(c.address=r.address,c.args=i,c.transaction=s),c}})}}function cp(r,e){return function(...t){return Kr(this,void 0,void 0,function*(){r.signer||Me.throwError("sending a transaction requires a signer",O.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield Oo(r,e,t),i=yield r.signer.sendTransaction(n);return Oc(r,i),i})}}function $c(r,e,t){return e.constant?Fc(r,e,t):cp(r,e)}function Lc(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Fi{constructor(e,t){q(this,"tag",e),q(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class lp extends Fi{constructor(){super("error",null)}}class Uc extends Fi{constructor(e,t,n,i){const o={address:e};let s=t.getEventTopic(n);i?(s!==i[0]&&Me.throwArgumentError("topic mismatch","topics",i),o.topics=i.slice()):o.topics=[s];super(Lc(o),o);q(this,"address",e),q(this,"interface",t),q(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=wf(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Dc extends Fi{constructor(e,t){super("*",{address:e});q(this,"address",e),q(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class Ia{constructor(e,t,n){Me.checkNew(new.target,$i),q(this,"interface",lt(new.target,"getInterface")(t)),n==null?(q(this,"provider",null),q(this,"signer",null)):yr.isSigner(n)?(q(this,"provider",n.provider||null),q(this,"signer",n)):jr.isProvider(n)?(q(this,"provider",n),q(this,"signer",null)):Me.throwArgumentError("invalid signer or provider","signerOrProvider",n),q(this,"callStatic",{}),q(this,"estimateGas",{}),q(this,"functions",{}),q(this,"populateTransaction",{}),q(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];q(this.filters,a,(...f)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,f)})),s[c.name]||(s[c.name]=[]),s[c.name].push(a)}),Object.keys(s).forEach(a=>{const c=s[a];c.length===1?q(this.filters,a,this.filters[c[0]]):Me.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(q(this,"_runningEvents",{}),q(this,"_wrappedEmits",{}),e==null&&Me.throwArgumentError("invalid contract address or ENS name","addressOrName",e),q(this,"address",e),this.provider)q(this,"resolvedAddress",Co(this.provider,e));else try{q(this,"resolvedAddress",Promise.resolve(ke(e)))}catch{Me.throwError("provider is required to use ENS name as contract address",O.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}const i={},o={};Object.keys(this.interface.functions).forEach(s=>{const a=this.interface.functions[s];if(o[s]){Me.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}o[s]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(s)}this[s]==null&&q(this,s,$c(this,a,!0)),this.functions[s]==null&&q(this.functions,s,$c(this,a,!1)),this.callStatic[s]==null&&q(this.callStatic,s,Fc(this,a,!0)),this.populateTransaction[s]==null&&q(this.populateTransaction,s,ap(this,a)),this.estimateGas[s]==null&&q(this.estimateGas,s,fp(this,a))}),Object.keys(i).forEach(s=>{const a=i[s];if(a.length>1)return;s=s.substring(1);const c=a[0];try{this[s]==null&&q(this,s,this[c])}catch{}this.functions[s]==null&&q(this.functions,s,this.functions[c]),this.callStatic[s]==null&&q(this.callStatic,s,this.callStatic[c]),this.populateTransaction[s]==null&&q(this.populateTransaction,s,this.populateTransaction[c]),this.estimateGas[s]==null&&q(this.estimateGas,s,this.estimateGas[c])})}static getContractAddress(e){return _o(e)}static getInterface(e){return Ni.isInterface(e)?e:new Ni(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&Me.throwError("contract not deployed",O.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Me.throwError("sending a transactions require a signer",O.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Qe(e||{});return["from","to"].forEach(function(n){t[n]!=null&&Me.throwError("cannot override "+n,O.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new On(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&q(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return So.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new lp);if(e==="event")return this._normalizeRunningEvent(new Fi("event",null));if(e==="*")return this._normalizeRunningEvent(new Dc(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Uc(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Uc(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Fi(Lc(t),t))}return this._normalizeRunningEvent(new Dc(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=wt(t);return i.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||Me.throwError("events require a provider or a signer with a provider",O.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=o=>{let s=this._wrapEvent(e,o,t);if(s.decodeError==null)try{const a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),o=Qe(i.filter);return typeof t=="string"&&pe(t,32)?(n!=null&&Me.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=t):(o.fromBlock=t!=null?t:0,o.toBlock=n!=null?n:"latest"),this.provider.getLogs(o).then(s=>s.map(a=>this._wrapEvent(i,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class $i extends Ia{}class jc{constructor(e,t,n){let i=null;typeof t=="string"?i=t:Fr(t)?i=ee(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!pe(i)||i.length%2)&&Me.throwArgumentError("invalid bytecode","bytecode",t),n&&!yr.isSigner(n)&&Me.throwArgumentError("invalid signer","signer",n),q(this,"bytecode",i),q(this,"interface",lt(new.target,"getInterface")(e)),q(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=Qe(e.pop());for(const n in t)if(!sp[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&Me.throwError("cannot override "+n,O.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!Y.from(t.value).isZero()&&!this.interface.deploy.payable&&Me.throwError("non-payable constructor cannot override value",O.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),Me.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=ee(Ce([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return Kr(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),Me.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield Oi(this.signer,e,this.interface.deploy.inputs);n.push(t);const i=this.getDeployTransaction(...n),o=yield this.signer.sendTransaction(i),s=lt(this.constructor,"getContractAddress")(o),a=lt(this.constructor,"getContract")(s,this.interface,this.signer);return Oc(a,o),q(a,"deployTransaction",o),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&Me.throwError("missing compiler output",O.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,t)}static getInterface(e){return $i.getInterface(e)}static getContractAddress(e){return _o(e)}static getContract(e,t,n){return new $i(e,t,n)}}class Gc{constructor(e){q(this,"alphabet",e),q(this,"base",e.length),q(this,"_alphabetMap",{}),q(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Z(e);if(t.length===0)return"";let n=[0];for(let o=0;o<t.length;++o){let s=t[o];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;t[o]===0&&o<t.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<t.length;++s)o+=t[s]*this.base,t[s]=o&255,o>>=8;for(;o>0;)t.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return Z(new Uint8Array(t.reverse()))}}new Gc("abcdefghijklmnopqrstuvwxyz234567");const Li=new Gc("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var zn;(function(r){r.sha256="sha256",r.sha512="sha512"})(zn||(zn={}));const up="sha2/5.5.0",hp=new O(up);function zc(r){return"0x"+_t.ripemd160().update(Z(r)).digest("hex")}function _r(r){return"0x"+_t.sha256().update(Z(r)).digest("hex")}function dp(r){return"0x"+_t.sha512().update(Z(r)).digest("hex")}function Ui(r,e,t){return zn[r]||hp.throwError("unsupported algorithm "+r,O.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+_t.hmac(_t[r],Z(e)).update(Z(t)).digest("hex")}function Ba(r,e,t,n,i){r=Z(r),e=Z(e);let o,s=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let f,l;for(let b=1;b<=s;b++){c[e.length]=b>>24&255,c[e.length+1]=b>>16&255,c[e.length+2]=b>>8&255,c[e.length+3]=b&255;let y=Z(Ui(i,r,c));o||(o=y.length,l=new Uint8Array(o),s=Math.ceil(n/o),f=n-(s-1)*o),l.set(y);for(let S=1;S<t;S++){y=Z(Ui(i,r,y));for(let w=0;w<o;w++)l[w]^=y[w]}const v=(b-1)*o,_=b===s?f:o;a.set(Z(l).slice(0,_),v)}return ee(a)}const xp="wordlists/5.5.0",pp=new O(xp);class vn{constructor(e){pp.checkAbstract(new.target,vn),q(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return Dr(t.join(`
`)+`
`)}static register(e,t){}}const bp="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Di=null;function qc(r){if(Di==null&&(Di=bp.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),vn.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Di=null,new Error("BIP39 Wordlist for en (English) FAILED")}class gp extends vn{constructor(){super("en")}getWord(e){return qc(this),Di[e]}getWordIndex(e){return qc(this),Di.indexOf(e)}}const Hc=new gp;vn.register(Hc);const Fo={en:Hc},mp="hdnode/5.5.0",qn=new O(mp),yp=Y.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vp=ft("Bitcoin seed"),Hn=2147483648;function Vc(r){return(1<<r)-1<<8-r}function wp(r){return(1<<r)-1}function $o(r){return Oe(ee(r),32)}function Kc(r){return Li.encode(Ce([r,At(_r(_r(r)),0,4)]))}function Ra(r){if(r==null)return Fo.en;if(typeof r=="string"){const e=Fo[r];return e==null&&qn.throwArgumentError("unknown locale","wordlist",r),e}return r}const Vn={},Kn="m/44'/60'/0'/0/0";class Mt{constructor(e,t,n,i,o,s,a,c){if(qn.checkNew(new.target,Mt),e!==Vn)throw new Error("HDNode constructor cannot be called directly");if(t){const f=new yn(t);q(this,"privateKey",f.privateKey),q(this,"publicKey",f.compressedPublicKey)}else q(this,"privateKey",null),q(this,"publicKey",ee(n));q(this,"parentFingerprint",i),q(this,"fingerprint",At(zc(_r(this.publicKey)),0,4)),q(this,"address",Hr(this.publicKey)),q(this,"chainCode",o),q(this,"index",s),q(this,"depth",a),c==null?(q(this,"mnemonic",null),q(this,"path",null)):typeof c=="string"?(q(this,"mnemonic",null),q(this,"path",c)):(q(this,"mnemonic",c),q(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Kc(Ce([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ee(this.depth),this.parentFingerprint,Oe(ee(this.index),4),this.chainCode,this.privateKey!=null?Ce(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Mt(Vn,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~Hn));const n=new Uint8Array(37);if(e&Hn){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Z(this.privateKey),1),t&&(t+="'")}else n.set(Z(this.publicKey));for(let b=24;b>=0;b-=8)n[33+(b>>3)]=e>>24-b&255;const i=Z(Ui(zn.sha512,this.chainCode,n)),o=i.slice(0,32),s=i.slice(32);let a=null,c=null;this.privateKey?a=$o(Y.from(o).add(this.privateKey).mod(yp)):c=new yn(ee(o))._addPoint(this.publicKey);let f=t;const l=this.mnemonic;return l&&(f=Object.freeze({phrase:l.phrase,path:t,locale:l.locale||"en"})),new Mt(Vn,a,c,this.fingerprint,$o(s),e,this.depth+1,f)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const o=t[i];if(o.match(/^[0-9]+'$/)){const s=parseInt(o.substring(0,o.length-1));if(s>=Hn)throw new Error("invalid path index - "+o);n=n._derive(Hn+s)}else if(o.match(/^[0-9]+$/)){const s=parseInt(o);if(s>=Hn)throw new Error("invalid path index - "+o);n=n._derive(s)}else throw new Error("invalid path component - "+o)}return n}static _fromSeed(e,t){const n=Z(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=Z(Ui(zn.sha512,vp,n));return new Mt(Vn,$o(i.slice(0,32)),null,"0x00000000",$o(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=Ra(n),e=Uo(Lo(e,n),n),Mt._fromSeed(Wc(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Mt._fromSeed(e,null)}static fromExtendedKey(e){const t=Li.decode(e);(t.length!==82||Kc(t.slice(0,78))!==e)&&qn.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=ee(t.slice(5,9)),o=parseInt(ee(t.slice(9,13)).substring(2),16),s=ee(t.slice(13,45)),a=t.slice(45,78);switch(ee(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Mt(Vn,null,ee(a),i,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Mt(Vn,ee(a.slice(1)),null,i,s,o,n,null)}return qn.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Wc(r,e){e||(e="");const t=ft("mnemonic"+e,rr.NFKD);return Ba(ft(r,rr.NFKD),t,2048,64,"sha512")}function Lo(r,e){e=Ra(e),qn.checkNormalize();const t=e.split(r);if(t.length%3!=0)throw new Error("invalid mnemonic");const n=Z(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let f=0;f<t.length;f++){let l=e.getWordIndex(t[f].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let b=0;b<11;b++)l&1<<10-b&&(n[i>>3]|=1<<7-i%8),i++}const o=32*t.length/3,s=t.length/3,a=Vc(s);if((Z(_r(n.slice(0,o/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ee(n.slice(0,o/8))}function Uo(r,e){if(e=Ra(e),r=Z(r),r.length%4!=0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let s=0;s<r.length;s++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[s],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[s]>>8-n,t.push(r[s]&wp(8-n)),n+=3);const i=r.length/4,o=Z(_r(r))[0]&Vc(i);return t[t.length-1]<<=i,t[t.length-1]|=o>>8-i,e.join(t.map(s=>e.getWord(s)))}function _p(r,e){try{return Lo(r,e),!0}catch{}return!1}function Ep(r){return(typeof r!="number"||r<0||r>=Hn||r%1)&&qn.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const Ap="random/5.5.0",Ca=new O(Ap);let wn=null;try{if(wn=window,wn==null)throw new Error("try next")}catch{try{if(wn=global,wn==null)throw new Error("try next")}catch{wn={}}}let Do=wn.crypto||wn.msCrypto;(!Do||!Do.getRandomValues)&&(Ca.warn("WARNING: Missing strong random number source"),Do={getRandomValues:function(r){return Ca.throwError("no secure random source avaialble",O.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Wn(r){(r<=0||r>1024||r%1||r!=r)&&Ca.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return Do.getRandomValues(e),Z(e)}function Jc(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}var Zc={exports:{}};(function(r,e){(function(t){function n(m){return parseInt(m)===m}function i(m){if(!n(m.length))return!1;for(var R=0;R<m.length;R++)if(!n(m[R])||m[R]<0||m[R]>255)return!1;return!0}function o(m,R){if(m.buffer&&ArrayBuffer.isView(m)&&m.name==="Uint8Array")return R&&(m.slice?m=m.slice():m=Array.prototype.slice.call(m)),m;if(Array.isArray(m)){if(!i(m))throw new Error("Array contains invalid value: "+m);return new Uint8Array(m)}if(n(m.length)&&i(m))return new Uint8Array(m);throw new Error("unsupported array-like object")}function s(m){return new Uint8Array(m)}function a(m,R,j,F,p){(F!=null||p!=null)&&(m.slice?m=m.slice(F,p):m=Array.prototype.slice.call(m,F,p)),R.set(m,j)}var c=function(){function m(j){var F=[],p=0;for(j=encodeURI(j);p<j.length;){var L=j.charCodeAt(p++);L===37?(F.push(parseInt(j.substr(p,2),16)),p+=2):F.push(L)}return o(F)}function R(j){for(var F=[],p=0;p<j.length;){var L=j[p];L<128?(F.push(String.fromCharCode(L)),p++):L>191&&L<224?(F.push(String.fromCharCode((L&31)<<6|j[p+1]&63)),p+=2):(F.push(String.fromCharCode((L&15)<<12|(j[p+1]&63)<<6|j[p+2]&63)),p+=3)}return F.join("")}return{toBytes:m,fromBytes:R}}(),f=function(){function m(F){for(var p=[],L=0;L<F.length;L+=2)p.push(parseInt(F.substr(L,2),16));return p}var R="0123456789abcdef";function j(F){for(var p=[],L=0;L<F.length;L++){var G=F[L];p.push(R[(G&240)>>4]+R[G&15])}return p.join("")}return{toBytes:m,fromBytes:j}}(),l={16:10,24:12,32:14},b=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],y=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],v=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],_=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],S=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],w=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],I=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],U=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],H=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],J=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],V=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Q=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],te=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],re=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ne=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function fe(m){for(var R=[],j=0;j<m.length;j+=4)R.push(m[j]<<24|m[j+1]<<16|m[j+2]<<8|m[j+3]);return R}var N=function(m){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(m,!0)}),this._prepare()};N.prototype._prepare=function(){var m=l[this.key.length];if(m==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var R=0;R<=m;R++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var j=(m+1)*4,F=this.key.length/4,p=fe(this.key),L,R=0;R<F;R++)L=R>>2,this._Ke[L][R%4]=p[R],this._Kd[m-L][R%4]=p[R];for(var G=0,K=F,W;K<j;){if(W=p[F-1],p[0]^=y[W>>16&255]<<24^y[W>>8&255]<<16^y[W&255]<<8^y[W>>24&255]^b[G]<<24,G+=1,F!=8)for(var R=1;R<F;R++)p[R]^=p[R-1];else{for(var R=1;R<F/2;R++)p[R]^=p[R-1];W=p[F/2-1],p[F/2]^=y[W&255]^y[W>>8&255]<<8^y[W>>16&255]<<16^y[W>>24&255]<<24;for(var R=F/2+1;R<F;R++)p[R]^=p[R-1]}for(var R=0,X,oe;R<F&&K<j;)X=K>>2,oe=K%4,this._Ke[X][oe]=p[R],this._Kd[m-X][oe]=p[R++],K++}for(var X=1;X<m;X++)for(var oe=0;oe<4;oe++)W=this._Kd[X][oe],this._Kd[X][oe]=Q[W>>24&255]^te[W>>16&255]^re[W>>8&255]^ne[W&255]},N.prototype.encrypt=function(m){if(m.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var R=this._Ke.length-1,j=[0,0,0,0],F=fe(m),p=0;p<4;p++)F[p]^=this._Ke[0][p];for(var L=1;L<R;L++){for(var p=0;p<4;p++)j[p]=_[F[p]>>24&255]^S[F[(p+1)%4]>>16&255]^w[F[(p+2)%4]>>8&255]^I[F[(p+3)%4]&255]^this._Ke[L][p];F=j.slice()}for(var G=s(16),K,p=0;p<4;p++)K=this._Ke[R][p],G[4*p]=(y[F[p]>>24&255]^K>>24)&255,G[4*p+1]=(y[F[(p+1)%4]>>16&255]^K>>16)&255,G[4*p+2]=(y[F[(p+2)%4]>>8&255]^K>>8)&255,G[4*p+3]=(y[F[(p+3)%4]&255]^K)&255;return G},N.prototype.decrypt=function(m){if(m.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var R=this._Kd.length-1,j=[0,0,0,0],F=fe(m),p=0;p<4;p++)F[p]^=this._Kd[0][p];for(var L=1;L<R;L++){for(var p=0;p<4;p++)j[p]=U[F[p]>>24&255]^H[F[(p+3)%4]>>16&255]^J[F[(p+2)%4]>>8&255]^V[F[(p+1)%4]&255]^this._Kd[L][p];F=j.slice()}for(var G=s(16),K,p=0;p<4;p++)K=this._Kd[R][p],G[4*p]=(v[F[p]>>24&255]^K>>24)&255,G[4*p+1]=(v[F[(p+3)%4]>>16&255]^K>>16)&255,G[4*p+2]=(v[F[(p+2)%4]>>8&255]^K>>8)&255,G[4*p+3]=(v[F[(p+1)%4]&255]^K)&255;return G};var u=function(m){if(!(this instanceof u))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new N(m)};u.prototype.encrypt=function(m){if(m=o(m),m.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var R=s(m.length),j=s(16),F=0;F<m.length;F+=16)a(m,j,0,F,F+16),j=this._aes.encrypt(j),a(j,R,F);return R},u.prototype.decrypt=function(m){if(m=o(m),m.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var R=s(m.length),j=s(16),F=0;F<m.length;F+=16)a(m,j,0,F,F+16),j=this._aes.decrypt(j),a(j,R,F);return R};var g=function(m,R){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!R)R=s(16);else if(R.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=o(R,!0),this._aes=new N(m)};g.prototype.encrypt=function(m){if(m=o(m),m.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var R=s(m.length),j=s(16),F=0;F<m.length;F+=16){a(m,j,0,F,F+16);for(var p=0;p<16;p++)j[p]^=this._lastCipherblock[p];this._lastCipherblock=this._aes.encrypt(j),a(this._lastCipherblock,R,F)}return R},g.prototype.decrypt=function(m){if(m=o(m),m.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var R=s(m.length),j=s(16),F=0;F<m.length;F+=16){a(m,j,0,F,F+16),j=this._aes.decrypt(j);for(var p=0;p<16;p++)R[F+p]=j[p]^this._lastCipherblock[p];a(m,this._lastCipherblock,0,F,F+16)}return R};var A=function(m,R,j){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!R)R=s(16);else if(R.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");j||(j=1),this.segmentSize=j,this._shiftRegister=o(R,!0),this._aes=new N(m)};A.prototype.encrypt=function(m){if(m.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var R=o(m,!0),j,F=0;F<R.length;F+=this.segmentSize){j=this._aes.encrypt(this._shiftRegister);for(var p=0;p<this.segmentSize;p++)R[F+p]^=j[p];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(R,this._shiftRegister,16-this.segmentSize,F,F+this.segmentSize)}return R},A.prototype.decrypt=function(m){if(m.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var R=o(m,!0),j,F=0;F<R.length;F+=this.segmentSize){j=this._aes.encrypt(this._shiftRegister);for(var p=0;p<this.segmentSize;p++)R[F+p]^=j[p];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(m,this._shiftRegister,16-this.segmentSize,F,F+this.segmentSize)}return R};var T=function(m,R){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!R)R=s(16);else if(R.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=o(R,!0),this._lastPrecipherIndex=16,this._aes=new N(m)};T.prototype.encrypt=function(m){for(var R=o(m,!0),j=0;j<R.length;j++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),R[j]^=this._lastPrecipher[this._lastPrecipherIndex++];return R},T.prototype.decrypt=T.prototype.encrypt;var k=function(m){if(!(this instanceof k))throw Error("Counter must be instanitated with `new`");m!==0&&!m&&(m=1),typeof m=="number"?(this._counter=s(16),this.setValue(m)):this.setBytes(m)};k.prototype.setValue=function(m){if(typeof m!="number"||parseInt(m)!=m)throw new Error("invalid counter value (must be an integer)");for(var R=15;R>=0;--R)this._counter[R]=m%256,m=m>>8},k.prototype.setBytes=function(m){if(m=o(m,!0),m.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=m},k.prototype.increment=function(){for(var m=15;m>=0;m--)if(this._counter[m]===255)this._counter[m]=0;else{this._counter[m]++;break}};var B=function(m,R){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",R instanceof k||(R=new k(R)),this._counter=R,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new N(m)};B.prototype.encrypt=function(m){for(var R=o(m,!0),j=0;j<R.length;j++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),R[j]^=this._remainingCounter[this._remainingCounterIndex++];return R},B.prototype.decrypt=B.prototype.encrypt;function $(m){m=o(m,!0);var R=16-m.length%16,j=s(m.length+R);a(m,j);for(var F=m.length;F<j.length;F++)j[F]=R;return j}function P(m){if(m=o(m,!0),m.length<16)throw new Error("PKCS#7 invalid length");var R=m[m.length-1];if(R>16)throw new Error("PKCS#7 padding byte out of range");for(var j=m.length-R,F=0;F<R;F++)if(m[j+F]!==R)throw new Error("PKCS#7 invalid padding byte");var p=s(j);return a(m,p,0,0,j),p}var d={AES:N,Counter:k,ModeOfOperation:{ecb:u,cbc:g,cfb:A,ofb:T,ctr:B},utils:{hex:f,utf8:c},padding:{pkcs7:{pad:$,strip:P}},_arrayTest:{coerceArray:o,createArray:s,copyArray:a}};r.exports=d})()})(Zc);var ur=Zc.exports;const Xc="json-wallets/5.5.0";function _n(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Z(r)}function ji(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function Oa(r){return typeof r=="string"?ft(r,rr.NFKC):Z(r)}function st(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(const s in t)if(s.toLowerCase()===n[i]){o=t[s];break}if(o===null)return null;t=o}return t}function Sp(r){const e=Z(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ee(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const Tp=new O(Xc);class kp extends xn{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Yc(r,e){const t=JSON.parse(r);e=Oa(e);const n=ke(st(t,"ethaddr")),i=_n(st(t,"encseed"));(!i||i.length%16!=0)&&Tp.throwArgumentError("invalid encseed","json",r);const o=Z(Ba(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),c=new ur.ModeOfOperation.cbc(o,s),f=ur.padding.pkcs7.strip(Z(c.decrypt(a)));let l="";for(let v=0;v<f.length;v++)l+=String.fromCharCode(f[v]);const b=ft(l),y=Pe(b);return new kp({_isCrowdsaleAccount:!0,address:n,privateKey:y})}function Fa(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function $a(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function Mp(r){if(Fa(r))try{return ke(JSON.parse(r).ethaddr)}catch{return null}if($a(r))try{return ke(JSON.parse(r).address)}catch{return null}return null}var Qc={exports:{}};(function(r,e){(function(t){const n=2147483647;function i(S){const w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let I=1779033703,U=3144134277,H=1013904242,J=2773480762,V=1359893119,Q=2600822924,te=528734635,re=1541459225;const ne=new Uint32Array(64);function fe(B){let $=0,P=B.length;for(;P>=64;){let d=I,m=U,R=H,j=J,F=V,p=Q,L=te,G=re,K,W,X,oe,ie;for(W=0;W<16;W++)X=$+W*4,ne[W]=(B[X]&255)<<24|(B[X+1]&255)<<16|(B[X+2]&255)<<8|B[X+3]&255;for(W=16;W<64;W++)K=ne[W-2],oe=(K>>>17|K<<32-17)^(K>>>19|K<<32-19)^K>>>10,K=ne[W-15],ie=(K>>>7|K<<32-7)^(K>>>18|K<<32-18)^K>>>3,ne[W]=(oe+ne[W-7]|0)+(ie+ne[W-16]|0)|0;for(W=0;W<64;W++)oe=(((F>>>6|F<<32-6)^(F>>>11|F<<32-11)^(F>>>25|F<<32-25))+(F&p^~F&L)|0)+(G+(w[W]+ne[W]|0)|0)|0,ie=((d>>>2|d<<32-2)^(d>>>13|d<<32-13)^(d>>>22|d<<32-22))+(d&m^d&R^m&R)|0,G=L,L=p,p=F,F=j+oe|0,j=R,R=m,m=d,d=oe+ie|0;I=I+d|0,U=U+m|0,H=H+R|0,J=J+j|0,V=V+F|0,Q=Q+p|0,te=te+L|0,re=re+G|0,$+=64,P-=64}}fe(S);let N,u=S.length%64,g=S.length/536870912|0,A=S.length<<3,T=u<56?56:120,k=S.slice(S.length-u,S.length);for(k.push(128),N=u+1;N<T;N++)k.push(0);return k.push(g>>>24&255),k.push(g>>>16&255),k.push(g>>>8&255),k.push(g>>>0&255),k.push(A>>>24&255),k.push(A>>>16&255),k.push(A>>>8&255),k.push(A>>>0&255),fe(k),[I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255,J>>>24&255,J>>>16&255,J>>>8&255,J>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255,Q>>>24&255,Q>>>16&255,Q>>>8&255,Q>>>0&255,te>>>24&255,te>>>16&255,te>>>8&255,te>>>0&255,re>>>24&255,re>>>16&255,re>>>8&255,re>>>0&255]}function o(S,w,I){S=S.length<=64?S:i(S);const U=64+w.length+4,H=new Array(U),J=new Array(64);let V,Q=[];for(V=0;V<64;V++)H[V]=54;for(V=0;V<S.length;V++)H[V]^=S[V];for(V=0;V<w.length;V++)H[64+V]=w[V];for(V=U-4;V<U;V++)H[V]=0;for(V=0;V<64;V++)J[V]=92;for(V=0;V<S.length;V++)J[V]^=S[V];function te(){for(let re=U-1;re>=U-4;re--){if(H[re]++,H[re]<=255)return;H[re]=0}}for(;I>=32;)te(),Q=Q.concat(i(J.concat(i(H)))),I-=32;return I>0&&(te(),Q=Q.concat(i(J.concat(i(H))).slice(0,I))),Q}function s(S,w,I,U,H){let J;for(l(S,(2*I-1)*16,H,0,16),J=0;J<2*I;J++)f(S,J*16,H,16),c(H,U),l(H,0,S,w+J*16,16);for(J=0;J<I;J++)l(S,w+J*2*16,S,J*16,16);for(J=0;J<I;J++)l(S,w+(J*2+1)*16,S,(J+I)*16,16)}function a(S,w){return S<<w|S>>>32-w}function c(S,w){l(S,0,w,0,16);for(let I=8;I>0;I-=2)w[4]^=a(w[0]+w[12],7),w[8]^=a(w[4]+w[0],9),w[12]^=a(w[8]+w[4],13),w[0]^=a(w[12]+w[8],18),w[9]^=a(w[5]+w[1],7),w[13]^=a(w[9]+w[5],9),w[1]^=a(w[13]+w[9],13),w[5]^=a(w[1]+w[13],18),w[14]^=a(w[10]+w[6],7),w[2]^=a(w[14]+w[10],9),w[6]^=a(w[2]+w[14],13),w[10]^=a(w[6]+w[2],18),w[3]^=a(w[15]+w[11],7),w[7]^=a(w[3]+w[15],9),w[11]^=a(w[7]+w[3],13),w[15]^=a(w[11]+w[7],18),w[1]^=a(w[0]+w[3],7),w[2]^=a(w[1]+w[0],9),w[3]^=a(w[2]+w[1],13),w[0]^=a(w[3]+w[2],18),w[6]^=a(w[5]+w[4],7),w[7]^=a(w[6]+w[5],9),w[4]^=a(w[7]+w[6],13),w[5]^=a(w[4]+w[7],18),w[11]^=a(w[10]+w[9],7),w[8]^=a(w[11]+w[10],9),w[9]^=a(w[8]+w[11],13),w[10]^=a(w[9]+w[8],18),w[12]^=a(w[15]+w[14],7),w[13]^=a(w[12]+w[15],9),w[14]^=a(w[13]+w[12],13),w[15]^=a(w[14]+w[13],18);for(let I=0;I<16;++I)S[I]+=w[I]}function f(S,w,I,U){for(let H=0;H<U;H++)I[H]^=S[w+H]}function l(S,w,I,U,H){for(;H--;)I[U++]=S[w++]}function b(S){if(!S||typeof S.length!="number")return!1;for(let w=0;w<S.length;w++){const I=S[w];if(typeof I!="number"||I%1||I<0||I>=256)return!1}return!0}function y(S,w){if(typeof S!="number"||S%1)throw new Error("invalid "+w);return S}function v(S,w,I,U,H,J,V){if(I=y(I,"N"),U=y(U,"r"),H=y(H,"p"),J=y(J,"dkLen"),I===0||(I&I-1)!=0)throw new Error("N must be power of 2");if(I>n/128/U)throw new Error("N too large");if(U>n/128/H)throw new Error("r too large");if(!b(S))throw new Error("password must be an array or buffer");if(S=Array.prototype.slice.call(S),!b(w))throw new Error("salt must be an array or buffer");w=Array.prototype.slice.call(w);let Q=o(S,w,H*128*U);const te=new Uint32Array(H*32*U);for(let F=0;F<te.length;F++){const p=F*4;te[F]=(Q[p+3]&255)<<24|(Q[p+2]&255)<<16|(Q[p+1]&255)<<8|(Q[p+0]&255)<<0}const re=new Uint32Array(64*U),ne=new Uint32Array(32*U*I),fe=32*U,N=new Uint32Array(16),u=new Uint32Array(16),g=H*I*2;let A=0,T=null,k=!1,B=0,$=0,P,d;const m=V?parseInt(1e3/U):4294967295,R=typeof setImmediate!="undefined"?setImmediate:setTimeout,j=function(){if(k)return V(new Error("cancelled"),A/g);let F;switch(B){case 0:d=$*32*U,l(te,d,re,0,fe),B=1,P=0;case 1:F=I-P,F>m&&(F=m);for(let L=0;L<F;L++)l(re,0,ne,(P+L)*fe,fe),s(re,fe,U,N,u);if(P+=F,A+=F,V){const L=parseInt(1e3*A/g);if(L!==T){if(k=V(null,A/g),k)break;T=L}}if(P<I)break;P=0,B=2;case 2:F=I-P,F>m&&(F=m);for(let L=0;L<F;L++){const G=(2*U-1)*16,K=re[G]&I-1;f(ne,K*fe,re,fe),s(re,fe,U,N,u)}if(P+=F,A+=F,V){const L=parseInt(1e3*A/g);if(L!==T){if(k=V(null,A/g),k)break;T=L}}if(P<I)break;if(l(re,0,te,d,fe),$++,$<H){B=0;break}Q=[];for(let L=0;L<te.length;L++)Q.push(te[L]>>0&255),Q.push(te[L]>>8&255),Q.push(te[L]>>16&255),Q.push(te[L]>>24&255);const p=o(S,Q,J);return V&&V(null,1,p),p}V&&R(j)};if(!V)for(;;){const F=j();if(F!=null)return F}j()}const _={scrypt:function(S,w,I,U,H,J,V){return new Promise(function(Q,te){let re=0;V&&V(0),v(S,w,I,U,H,J,function(ne,fe,N){if(ne)te(ne);else if(N)V&&re!==1&&V(1),Q(new Uint8Array(N));else if(V&&fe!==re)return re=fe,V(fe)})})},syncScrypt:function(S,w,I,U,H,J){return new Uint8Array(v(S,w,I,U,H,J))}};r.exports=_})()})(Qc);var La=Qc.exports,Pp=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Ua=new O(Xc);function el(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class Np extends xn{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Ip(r,e,t){if(st(r,"crypto/cipher")==="aes-128-ctr"){const i=_n(st(r,"crypto/cipherparams/iv")),o=new ur.Counter(i),s=new ur.ModeOfOperation.ctr(e,o);return Z(s.decrypt(t))}return null}function tl(r,e){const t=_n(st(r,"crypto/ciphertext"));if(ee(Pe(Ce([e.slice(16,32),t]))).substring(2)!==st(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Ip(r,e.slice(0,16),t);i||Ua.throwError("unsupported cipher",O.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const o=e.slice(32,64),s=Hr(i);if(r.address){let c=r.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),ke(c)!==s)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:s,privateKey:ee(i)};if(st(r,"x-ethers/version")==="0.1"){const c=_n(st(r,"x-ethers/mnemonicCiphertext")),f=_n(st(r,"x-ethers/mnemonicCounter")),l=new ur.Counter(f),b=new ur.ModeOfOperation.ctr(o,l),y=st(r,"x-ethers/path")||Kn,v=st(r,"x-ethers/locale")||"en",_=Z(b.decrypt(c));try{const S=Uo(_,v),w=Mt.fromMnemonic(S,null,v).derivePath(y);if(w.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=w.mnemonic}catch(S){if(S.code!==O.errors.INVALID_ARGUMENT||S.argument!=="wordlist")throw S}}return new Np(a)}function rl(r,e,t,n,i){return Z(Ba(r,e,t,n,i))}function Bp(r,e,t,n,i){return Promise.resolve(rl(r,e,t,n,i))}function nl(r,e,t,n,i){const o=Oa(e),s=st(r,"crypto/kdf");if(s&&typeof s=="string"){const a=function(c,f){return Ua.throwArgumentError("invalid key-derivation function parameters",c,f)};if(s.toLowerCase()==="scrypt"){const c=_n(st(r,"crypto/kdfparams/salt")),f=parseInt(st(r,"crypto/kdfparams/n")),l=parseInt(st(r,"crypto/kdfparams/r")),b=parseInt(st(r,"crypto/kdfparams/p"));(!f||!l||!b)&&a("kdf",s),(f&f-1)!=0&&a("N",f);const y=parseInt(st(r,"crypto/kdfparams/dklen"));return y!==32&&a("dklen",y),n(o,c,f,l,b,64,i)}else if(s.toLowerCase()==="pbkdf2"){const c=_n(st(r,"crypto/kdfparams/salt"));let f=null;const l=st(r,"crypto/kdfparams/prf");l==="hmac-sha256"?f="sha256":l==="hmac-sha512"?f="sha512":a("prf",l);const b=parseInt(st(r,"crypto/kdfparams/c")),y=parseInt(st(r,"crypto/kdfparams/dklen"));return y!==32&&a("dklen",y),t(o,c,b,y,f)}}return Ua.throwArgumentError("unsupported key-derivation function","kdf",s)}function Rp(r,e){const t=JSON.parse(r),n=nl(t,e,rl,La.syncScrypt);return tl(t,n)}function Cp(r,e,t){return Pp(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield nl(n,e,Bp,La.scrypt,t);return tl(n,i)})}function Op(r,e,t,n){try{if(ke(r.address)!==Hr(r.privateKey))throw new Error("address/privateKey mismatch");if(el(r)){const w=r.mnemonic;if(Mt.fromMnemonic(w.phrase,null,w.locale).derivePath(w.path||Kn).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(w){return Promise.reject(w)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=Z(r.privateKey),o=Oa(e);let s=null,a=null,c=null;if(el(r)){const w=r.mnemonic;s=Z(Lo(w.phrase,w.locale||"en")),a=w.path||Kn,c=w.locale||"en"}let f=t.client;f||(f="ethers.js");let l=null;t.salt?l=Z(t.salt):l=Wn(32);let b=null;if(t.iv){if(b=Z(t.iv),b.length!==16)throw new Error("invalid iv")}else b=Wn(16);let y=null;if(t.uuid){if(y=Z(t.uuid),y.length!==16)throw new Error("invalid uuid")}else y=Wn(16);let v=1<<17,_=8,S=1;return t.scrypt&&(t.scrypt.N&&(v=t.scrypt.N),t.scrypt.r&&(_=t.scrypt.r),t.scrypt.p&&(S=t.scrypt.p)),La.scrypt(o,l,v,_,S,64,n).then(w=>{w=Z(w);const I=w.slice(0,16),U=w.slice(16,32),H=w.slice(32,64),J=new ur.Counter(b),V=new ur.ModeOfOperation.ctr(I,J),Q=Z(V.encrypt(i)),te=Pe(Ce([U,Q])),re={address:r.address.substring(2).toLowerCase(),id:Sp(y),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ee(b).substring(2)},ciphertext:ee(Q).substring(2),kdf:"scrypt",kdfparams:{salt:ee(l).substring(2),n:v,dklen:32,p:S,r:_},mac:te.substring(2)}};if(s){const ne=Wn(16),fe=new ur.Counter(ne),N=new ur.ModeOfOperation.ctr(H,fe),u=Z(N.encrypt(s)),g=new Date,A=g.getUTCFullYear()+"-"+ji(g.getUTCMonth()+1,2)+"-"+ji(g.getUTCDate(),2)+"T"+ji(g.getUTCHours(),2)+"-"+ji(g.getUTCMinutes(),2)+"-"+ji(g.getUTCSeconds(),2)+".0Z";re["x-ethers"]={client:f,gethFilename:"UTC--"+A+"--"+re.address,mnemonicCounter:ee(ne).substring(2),mnemonicCiphertext:ee(u).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(re)})}function Fp(r,e,t){if(Fa(r)){t&&t(0);const n=Yc(r,e);return t&&t(1),Promise.resolve(n)}return $a(r)?Cp(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function $p(r,e){if(Fa(r))return Yc(r,e);if($a(r))return Rp(r,e);throw new Error("invalid JSON wallet")}const Lp="wallet/5.5.0";var il=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const En=new O(Lp);function Up(r){return r!=null&&pe(r.privateKey,32)&&r.address!=null}function Dp(r){const e=r.mnemonic;return e&&e.phrase}class Er extends yr{constructor(e,t){En.checkNew(new.target,Er);super();if(Up(e)){const n=new yn(e.privateKey);if(q(this,"_signingKey",()=>n),q(this,"address",Hr(this.publicKey)),this.address!==ke(e.address)&&En.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Dp(e)){const i=e.mnemonic;q(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Kn,locale:i.locale||"en"}));const o=this.mnemonic,s=Mt.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);Hr(s.privateKey)!==this.address&&En.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else q(this,"_mnemonic",()=>null)}else{if(yn.isSigningKey(e))e.curve!=="secp256k1"&&En.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),q(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new yn(e);q(this,"_signingKey",()=>n)}q(this,"_mnemonic",()=>null),q(this,"address",Hr(this.publicKey))}t&&!jr.isProvider(t)&&En.throwArgumentError("invalid provider","provider",t),q(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Er(this,e)}signTransaction(e){return ot(e).then(t=>{t.from!=null&&(ke(t.from)!==this.address&&En.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(Pe(Na(t)));return Na(t,n)})}signMessage(e){return il(this,void 0,void 0,function*(){return Ws(this._signingKey().signDigest(la(e)))})}_signTypedData(e,t,n){return il(this,void 0,void 0,function*(){const i=yield dt.resolveNames(e,t,n,o=>(this.provider==null&&En.throwError("cannot resolve ENS names without a provider",O.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return Ws(this._signingKey().signDigest(dt.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),Op(this,e,t,n)}static createRandom(e){let t=Wn(16);e||(e={}),e.extraEntropy&&(t=Z(At(Pe(Ce([t,e.extraEntropy])),0,16)));const n=Uo(t,e.locale);return Er.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return Fp(e,t,n).then(i=>new Er(i))}static fromEncryptedJsonSync(e,t){return new Er($p(e,t))}static fromMnemonic(e,t,n){return t||(t=Kn),new Er(Mt.fromMnemonic(e,null,n).derivePath(t))}}function jp(r,e){return Ci(la(r),e)}function Gp(r,e,t,n){return Ci(dt.hash(r,e,t),n)}const zp="networks/5.5.1",ol=new O(zp);function qp(r){return r&&typeof r.renetwork=="function"}function Jn(r){const e=function(t,n){n==null&&(n={});const i=[];if(t.InfuraProvider)try{i.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider)try{i.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider)try{i.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider){const o=["goerli","ropsten","rinkeby"];try{const s=new t.PocketProvider(r);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(t.CloudflareProvider)try{i.push(new t.CloudflareProvider(r))}catch{}if(i.length===0)return null;if(t.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:r==="homestead"&&(o=2),new t.FallbackProvider(i,o)}return i[0]};return e.renetwork=function(t){return Jn(t)},e}function jo(r,e){const t=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return jo(r,n)},t}const sl={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Jn("homestead")},al={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Jn("ropsten")},fl={chainId:63,name:"classicMordor",_defaultProvider:jo("https://www.ethercluster.com/mordor","classicMordor")},Go={unspecified:{chainId:0,name:"unspecified"},homestead:sl,mainnet:sl,morden:{chainId:2,name:"morden"},ropsten:al,testnet:al,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Jn("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Jn("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Jn("goerli")},classic:{chainId:61,name:"classic",_defaultProvider:jo("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:fl,classicTestnet:fl,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:jo("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Da(r){if(r==null)return null;if(typeof r=="number"){for(const n in Go){const i=Go[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=Go[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Go[r.name];if(!e)return typeof r.chainId!="number"&&ol.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&ol.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(qp(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}function cl(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return Z(e)}function ll(r){r=Z(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}var Hp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",decode:cl,encode:ll});const Vp="web/5.5.1";var Kp=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};function Wp(r,e){return Kp(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client");const n=yield fetch(r,t),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{o[s.toLowerCase()]=n.headers.get(s)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Z(new Uint8Array(i))}})}var Jp=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Kt=new O(Vp);function ul(r){return new Promise(e=>{setTimeout(e,r)})}function Wr(r,e){if(r==null)return null;if(typeof r=="string")return r;if(gi(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Ur(r)}catch{}return ee(r)}return r}function hl(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;Kt.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,o=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;Kt.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s={};let a=null;const c={method:"GET"};let f=!1,l=2*60*1e3;if(typeof r=="string")a=r;else if(typeof r=="object"){if((r==null||r.url==null)&&Kt.throwArgumentError("missing URL","connection.url",r),a=r.url,typeof r.timeout=="number"&&r.timeout>0&&(l=r.timeout),r.headers)for(const w in r.headers)s[w.toLowerCase()]={key:w,value:String(r.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(f=!0);if(c.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){a.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&Kt.throwError("basic authentication requires a secure https url",O.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:r.user,password:"[REDACTED]"});const w=r.user+":"+r.password;s.authorization={key:"Authorization",value:"Basic "+ll(ft(w))}}}const b=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),y=a?a.match(b):null;if(y)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":y[1]},body:cl(y[2])};let I=w.body;return t&&(I=t(w.body,w)),Promise.resolve(I)}catch(w){Kt.throwError("processing response error",O.errors.SERVER_ERROR,{body:Wr(y[1],y[2]),error:w,requestBody:null,requestMethod:"GET",url:a})}e&&(c.method="POST",c.body=e,s["content-type"]==null&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),s["content-length"]==null&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));const v={};Object.keys(s).forEach(w=>{const I=s[w];v[I.key]=I.value}),c.headers=v;const _=function(){let w=null;return{promise:new Promise(function(H,J){l&&(w=setTimeout(()=>{w!=null&&(w=null,J(Kt.makeError("timeout",O.errors.TIMEOUT,{requestBody:Wr(c.body,v["content-type"]),requestMethod:c.method,timeout:l,url:a})))},l))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}}(),S=function(){return Jp(this,void 0,void 0,function*(){for(let w=0;w<n;w++){let I=null;try{if(I=yield Wp(a,c),w<n){if(I.statusCode===301||I.statusCode===302){const H=I.headers.location||"";if(c.method==="GET"&&H.match(/^https:/)){a=I.headers.location;continue}}else if(I.statusCode===429){let H=!0;if(i&&(H=yield i(w,a)),H){let J=0;const V=I.headers["retry-after"];typeof V=="string"&&V.match(/^[1-9][0-9]*$/)?J=parseInt(V)*1e3:J=o*parseInt(String(Math.random()*Math.pow(2,w))),yield ul(J);continue}}}}catch(H){I=H.response,I==null&&(_.cancel(),Kt.throwError("missing response",O.errors.SERVER_ERROR,{requestBody:Wr(c.body,v["content-type"]),requestMethod:c.method,serverError:H,url:a}))}let U=I.body;if(f&&I.statusCode===304?U=null:(I.statusCode<200||I.statusCode>=300)&&(_.cancel(),Kt.throwError("bad response",O.errors.SERVER_ERROR,{status:I.statusCode,headers:I.headers,body:Wr(U,I.headers?I.headers["content-type"]:null),requestBody:Wr(c.body,v["content-type"]),requestMethod:c.method,url:a})),t)try{const H=yield t(U,I);return _.cancel(),H}catch(H){if(H.throttleRetry&&w<n){let J=!0;if(i&&(J=yield i(w,a)),J){const V=o*parseInt(String(Math.random()*Math.pow(2,w)));yield ul(V);continue}}_.cancel(),Kt.throwError("processing response error",O.errors.SERVER_ERROR,{body:Wr(U,I.headers?I.headers["content-type"]:null),error:H,requestBody:Wr(c.body,v["content-type"]),requestMethod:c.method,url:a})}return _.cancel(),U}return Kt.throwError("failed response",O.errors.SERVER_ERROR,{requestBody:Wr(c.body,v["content-type"]),requestMethod:c.method,url:a})})}();return Promise.race([_.promise,S])}function Gi(r,e,t){let n=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(Ur(o))}catch(c){Kt.throwError("invalid JSON",O.errors.SERVER_ERROR,{body:o,error:c})}return t&&(a=t(a,s)),a},i=null;if(e!=null){i=ft(e);const o=typeof r=="string"?{url:r}:Qe(r);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=Qe(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},r=o}return hl(r,i,n)}function An(r,e){return e||(e={}),e=Qe(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let i=null,o=!1;const s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function f(){return r().then(function(l){if(l!==void 0)s()&&t(l);else if(e.oncePoll)e.oncePoll.once("poll",f);else if(e.onceBlock)e.onceBlock.once("block",f);else if(!o){if(c++,c>a){s()&&n(new Error("retry limit reached"));return}let b=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));b<e.floor&&(b=e.floor),b>e.ceiling&&(b=e.ceiling),setTimeout(f,b)}return null},function(l){s()&&n(l)})}f()})}var zo="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ja={};for(var qo=0;qo<zo.length;qo++){var Ga=zo.charAt(qo);if(ja[Ga]!==void 0)throw new TypeError(Ga+" is ambiguous");ja[Ga]=qo}function Zn(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function dl(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=Zn(e)^n>>5}for(e=Zn(e),t=0;t<r.length;++t){var i=r.charCodeAt(t);e=Zn(e)^i&31}return e}function Zp(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=dl(r);if(typeof n=="string")throw new Error(n);for(var i=r+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=Zn(n)^s,i+=zo.charAt(s)}for(o=0;o<6;++o)n=Zn(n);for(n^=1,o=0;o<6;++o){var a=n>>(5-o)*5&31;i+=zo.charAt(a)}return i}function xl(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var i=r.lastIndexOf("1");if(i===-1)return"No separator character for "+r;if(i===0)return"Missing prefix for "+r;var o=r.slice(0,i),s=r.slice(i+1);if(s.length<6)return"Data too short";var a=dl(o);if(typeof a=="string")return a;for(var c=[],f=0;f<s.length;++f){var l=s.charAt(f),b=ja[l];if(b===void 0)return"Unknown character "+l;a=Zn(a)^b,!(f+6>=s.length)&&c.push(b)}return a!==1?"Invalid checksum for "+r:{prefix:o,words:c}}function Xp(){var r=xl.apply(null,arguments);if(typeof r=="object")return r}function Yp(r){var e=xl.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Ho(r,e,t,n){for(var i=0,o=0,s=(1<<t)-1,a=[],c=0;c<r.length;++c)for(i=i<<e|r[c],o+=e;o>=t;)o-=t,a.push(i>>o&s);if(n)o>0&&a.push(i<<t-o&s);else{if(o>=e)return"Excess padding";if(i<<t-o&s)return"Non-zero padding"}return a}function Qp(r){var e=Ho(r,8,5,!0);if(Array.isArray(e))return e}function eb(r){var e=Ho(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function tb(r){var e=Ho(r,5,8,!1);if(Array.isArray(e))return e}function rb(r){var e=Ho(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var nb={decodeUnsafe:Xp,decode:Yp,encode:Zp,toWordsUnsafe:Qp,toWords:eb,fromWordsUnsafe:tb,fromWords:rb},pl=nb;const Et="providers/5.5.1",Xn=new O(Et);class ae{constructor(){Xn.checkNew(new.target,ae),this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),f=this.type.bind(this),l=b=>this.data(b,!0);return e.transaction={hash:s,type:f,accessList:ae.allowNull(this.accessList.bind(this),null),blockHash:ae.allowNull(s,null),blockNumber:ae.allowNull(c,null),transactionIndex:ae.allowNull(c,null),confirmations:ae.allowNull(c,null),from:t,gasPrice:ae.allowNull(n),maxPriorityFeePerGas:ae.allowNull(n),maxFeePerGas:ae.allowNull(n),gasLimit:n,to:ae.allowNull(t,null),value:n,nonce:c,data:o,r:ae.allowNull(this.uint256),s:ae.allowNull(this.uint256),v:ae.allowNull(c),creates:ae.allowNull(t,null),raw:ae.allowNull(o)},e.transactionRequest={from:ae.allowNull(t),nonce:ae.allowNull(c),gasLimit:ae.allowNull(n),gasPrice:ae.allowNull(n),maxPriorityFeePerGas:ae.allowNull(n),maxFeePerGas:ae.allowNull(n),to:ae.allowNull(t),value:ae.allowNull(n),data:ae.allowNull(l),type:ae.allowNull(c),accessList:ae.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:t,topics:ae.arrayOf(s),data:o,logIndex:c,blockHash:s},e.receipt={to:ae.allowNull(this.address,null),from:ae.allowNull(this.address,null),contractAddress:ae.allowNull(t,null),transactionIndex:c,root:ae.allowNull(a),gasUsed:n,logsBloom:ae.allowNull(o),blockHash:s,transactionHash:s,logs:ae.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:ae.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:ae.allowNull(n),status:ae.allowNull(c),type:f},e.block={hash:s,parentHash:s,number:c,timestamp:c,nonce:ae.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:t,extraData:o,transactions:ae.allowNull(ae.arrayOf(s)),baseFeePerGas:ae.allowNull(n)},e.blockWithTransactions=Qe(e.block),e.blockWithTransactions.transactions=ae.allowNull(ae.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:ae.allowNull(i,void 0),toBlock:ae.allowNull(i,void 0),blockHash:ae.allowNull(s,void 0),address:ae.allowNull(t,void 0),topics:ae.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:ae.allowNull(c),blockHash:ae.allowNull(s),transactionIndex:c,removed:ae.allowNull(this.boolean.bind(this)),address:t,data:ae.allowFalsish(o,"0x"),topics:ae.arrayOf(s),transactionHash:s,logIndex:c},e}accessList(e){return Vr(e||[])}number(e){return e==="0x"?0:Y.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Y.from(e).toNumber()}bigNumber(e){return Y.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),pe(e))?e.toLowerCase():Xn.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!=0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return ke(e)}callAddress(e){if(!pe(e,32))return null;const t=ke(At(e,12));return t===Cf?null:t}contractAddress(e){return _o(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";if(e==="latest"||e==="pending")return e;if(typeof e=="number"||pe(e))return yi(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return $r(n)!==32?Xn.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=Y.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!pe(e))throw new Error("invalid uint256");return Oe(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=ae.check(t,e);return i._difficulty=n==null?null:Y.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return ae.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Y.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=ae.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;pe(n)&&(n=Y.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),pe(n)&&(n=Y.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return Cc(e)}receiptLog(e){return ae.check(this.formats.receiptLog,e)}receipt(e){const t=ae.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=Y.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&Xn.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):Xn.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&Xn.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return ae.check(this.formats.filter,e)}filterLog(e){return ae.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const i in e)try{const o=e[i](t[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=t[i],o}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(i){n.push(e(i))}),n}}}function bl(r){return r&&typeof r.isCommunityResource=="function"}function za(r){return bl(r)&&r.isCommunityResource()}let gl=!1;function Vo(){gl||(gl=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var be=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Te=new O(Et);function ml(r){return r==null?"null":($r(r)!==32&&Te.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function yl(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[ml(i)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return ml(e)}).join("&")}function ib(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function Yn(r){if(typeof r=="string"){if(r=r.toLowerCase(),$r(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+yl(r);if(ux.isForkEvent(r))throw Te.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+yl(r.topics||[])}throw new Error("invalid event - "+r)}function zi(){return new Date().getTime()}function vl(r){return new Promise(e=>{setTimeout(e,r)})}const ob=["block","network","pending","poll"];class sb{constructor(e,t,n){q(this,"tag",e),q(this,"listener",t),q(this,"once",n)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=ib(e[2]),i={};return n.length>0&&(i.topics=n),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||ob.indexOf(this.tag)>=0}}const ab={"0":{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},"2":{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},"3":{symbol:"doge",p2pkh:30,p2sh:22},"60":{symbol:"eth",ilk:"eth"},"61":{symbol:"etc",ilk:"eth"},"700":{symbol:"xdai",ilk:"eth"}};function qa(r){return Oe(Y.from(r).toHexString(),32)}function wl(r){return Li.encode(Ce([r,At(_r(_r(r)),0,4)]))}const _l=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),new RegExp("^(ipfs)://(.*)$","i"),new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function fb(r){try{return Ur(El(r))}catch{}return null}function El(r){if(r==="0x")return null;const e=Y.from(At(r,0,32)).toNumber(),t=Y.from(At(r,e,e+32)).toNumber();return At(r,e+32,e+32+t)}class Ha{constructor(e,t,n,i){q(this,"provider",e),q(this,"name",n),q(this,"address",e.formatter.address(t)),q(this,"_resolvedAddress",i)}_fetchBytes(e,t){return be(this,void 0,void 0,function*(){const n={to:this.address,data:Rt([e,Pi(this.name),t||"0x"])};try{return El(yield this.provider.call(n))}catch(i){return i.code===O.errors.CALL_EXCEPTION,null}})}_getAddress(e,t){const n=ab[String(e)];if(n==null&&Te.throwError(`unsupported coin type: ${e}`,O.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const i=Z(t);if(n.p2pkh!=null){const o=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return wl(Ce([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){const o=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return wl(Ce([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){const o=i[1];let s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){const a=pl.toWords(i.slice(2));return a.unshift(s),pl.encode(n.prefix,a)}}return null}getAddress(e){return be(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i={to:this.address,data:"0x3b3b57de"+Pi(this.name).substring(2)},o=yield this.provider.call(i);return o==="0x"||o===ra?null:this.provider.formatter.callAddress(o)}catch(i){if(i.code===O.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",qa(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&Te.throwError("invalid or unsupported coin data",O.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return be(this,void 0,void 0,function*(){const e=[];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<_l.length;n++){const i=t.match(_l[n]);if(i!=null)switch(i[1]){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:`https://gateway.ipfs.io/ipfs/${t.substring(7)}`};case"erc721":case"erc1155":{const o=i[1]==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i[1],content:t});const s=this._resolvedAddress||(yield this.getAddress()),a=(i[2]||"").split("/");if(a.length!==2)return null;const c=yield this.provider.formatter.address(a[0]),f=Oe(Y.from(a[1]).toHexString(),32);if(i[1]==="erc721"){const v=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:Rt(["0x6352211e",f])}));if(s!==v)return null;e.push({type:"owner",content:v})}else if(i[1]==="erc1155"){const v=Y.from(yield this.provider.call({to:c,data:Rt(["0x00fdd58e",Oe(s,32),f])}));if(v.isZero())return null;e.push({type:"balance",content:v.toString()})}const l={to:this.provider.formatter.address(a[0]),data:Rt([o,f])};let b=fb(yield this.provider.call(l));if(b==null)return null;e.push({type:"metadata-url",content:b}),i[1]==="erc1155"&&(b=b.replace("{id}",f.substring(2)));const y=yield Gi(b);return!y||typeof y.image!="string"||!y.image.match(/^(https:\/\/|data:)/i)?null:(e.push({type:"metadata",content:JSON.stringify(y)}),e.push({type:"url",content:y.image}),{linkage:e,url:y.image})}}}}catch{}return null})}getContentHash(){return be(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const i=parseInt(t[3],16);if(t[4].length===i*2)return"ipfs://"+Li.encode("0x"+t[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);return n&&n[1].length===32*2?"bzz://"+n[1]:Te.throwError("invalid or unsupported content hash data",O.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return be(this,void 0,void 0,function*(){let t=ft(e);t=Ce([qa(64),qa(t.length),t]),t.length%32!=0&&(t=Ce([t,Oe("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ee(t));return n==null||n==="0x"?null:Ur(n)})}}let Va=null,cb=1;class Ko extends jr{constructor(e){Te.checkNew(new.target,jr);super();if(this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),q(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=lt(new.target,"getNetwork")(e);t?(q(this,"_network",t),this.emit("network",t,null)):Te.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return be(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Te.throwError("no network detected",O.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:q(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return An(()=>this._ready().then(e=>e,e=>{if(!(e.code===O.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Va==null&&(Va=new ae),Va}static getNetwork(e){return Da(e==null?"homestead":e)}_getInternalBlockNumber(e){return be(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const o=yield i;if(zi()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=zi(),n=ot({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;const s=zi();return i=Y.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return be(this,void 0,void 0,function*(){const e=cb++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Te.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Te.makeError("network block skew detected",O.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const o=i.hash;let s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});t.push(s);break}case"filter":{const o=i.filter;o.fromBlock=this._lastBlockNumber+1,o.toBlock=n;const s=this.getLogs(o).then(a=>{a.length!==0&&a.forEach(c=>{this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(o,c)})}).catch(a=>{this.emit("error",a)});t.push(s);break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return be(this,void 0,void 0,function*(){return Te.throwError("provider does not support network detection",O.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return be(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield vl(0),this._network;const n=Te.makeError("underlying network changed",O.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=zi();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=zi(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return be(this,void 0,void 0,function*(){return this._waitForTransaction(e,t==null?1:t,n||0,null)})}_waitForTransaction(e,t,n,i){return be(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=t?o:new Promise((s,a)=>{const c=[];let f=!1;const l=function(){return f?!0:(f=!0,c.forEach(y=>{y()}),!1)},b=y=>{y.confirmations<t||l()||s(y)};if(this.on(e,b),c.push(()=>{this.removeListener(e,b)}),i){let y=i.startBlock,v=null;const _=S=>be(this,void 0,void 0,function*(){f||(yield vl(1e3),this.getTransactionCount(i.from).then(w=>be(this,void 0,void 0,function*(){if(!f){if(w<=i.nonce)y=S;else{{const I=yield this.getTransaction(e);if(I&&I.blockNumber!=null)return}for(v==null&&(v=y-3,v<i.startBlock&&(v=i.startBlock));v<=S;){if(f)return;const I=yield this.getBlockWithTransactions(v);for(let U=0;U<I.transactions.length;U++){const H=I.transactions[U];if(H.hash===e)return;if(H.from===i.from&&H.nonce===i.nonce){if(f)return;const J=yield this.waitForTransaction(H.hash,t);if(l())return;let V="replaced";H.data===i.data&&H.to===i.to&&H.value.eq(i.value)?V="repriced":H.data==="0x"&&H.from===H.to&&H.value.isZero()&&(V="cancelled"),a(Te.makeError("transaction was replaced",O.errors.TRANSACTION_REPLACED,{cancelled:V==="replaced"||V==="cancelled",reason:V,replacement:this._wrapTransaction(H),hash:e,receipt:J}));return}}v++}}f||this.once("block",_)}}),w=>{f||this.once("block",_)}))});if(f)return;this.once("block",_),c.push(()=>{this.removeListener("block",_)})}if(typeof n=="number"&&n>0){const y=setTimeout(()=>{l()||a(Te.makeError("timeout exceeded",O.errors.TIMEOUT,{timeout:n}))},n);y.unref&&y.unref(),c.push(()=>{clearTimeout(y)})}})})}getBlockNumber(){return be(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return be(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Y.from(e)}catch(t){return Te.throwError("bad result from backend",O.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return be(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ot({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",n);try{return Y.from(i)}catch(o){return Te.throwError("bad result from backend",O.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(e,t){return be(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ot({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",n);try{return Y.from(i).toNumber()}catch(o){return Te.throwError("bad result from backend",O.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(e,t){return be(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ot({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",n);try{return ee(i)}catch(o){return Te.throwError("bad result from backend",O.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(e,t,n){return be(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield ot({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(s=>yi(s))}),o=yield this.perform("getStorageAt",i);try{return ee(o)}catch(s){return Te.throwError("bad result from backend",O.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(e,t,n){if(t!=null&&$r(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&Te.throwError("Transaction hash mismatch from Provider.sendTransaction.",O.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(o,s)=>be(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,o,s,a);return c==null&&o===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Te.throwError("transaction failed",O.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return be(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(o=>ee(o)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(e){return be(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(o=>o?Y.from(o):null))}),["type"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(o=>o!=null?o:null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(o=>o?ee(o):null))}),this.formatter.transactionRequest(yield ot(n))})}_getFilter(e){return be(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield ot(t))})}call(e,t){return be(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ot({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("call",n);try{return ee(i)}catch(o){return Te.throwError("bad result from backend",O.errors.SERVER_ERROR,{method:"call",params:n,result:i,error:o})}})}estimateGas(e){return be(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield ot({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return Y.from(n)}catch(i){return Te.throwError("bad result from backend",O.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:i})}})}_getAddress(e){return be(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Te.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&Te.throwError("ENS name not configured",O.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return be(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!t};if(pe(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),pe(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Te.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return An(()=>be(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let s=null;for(let c=0;c<o.transactions.length;c++){const f=o.transactions[c];if(f.blockNumber==null)f.confirmations=0;else if(f.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let l=s-f.blockNumber+1;l<=0&&(l=1),f.confirmations=l}}const a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return be(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return An(()=>be(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return be(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return An(()=>be(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return be(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield ot({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),ae.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return be(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return be(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Te.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return be(this,void 0,void 0,function*(){try{const t=yield this._getResolver(e);return t==null?null:new Ha(this,t,e)}catch(t){return t.code===O.errors.CALL_EXCEPTION,null}})}_getResolver(e){return be(this,void 0,void 0,function*(){const t=yield this.getNetwork();t.ensAddress||Te.throwError("network does not support ENS",O.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:t.name});const n={to:t.ensAddress,data:"0x0178b8bf"+Pi(e).substring(2)};try{return this.formatter.callAddress(yield this.call(n))}catch(i){if(i.code===O.errors.CALL_EXCEPTION)return null;throw i}})}resolveName(e){return be(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(pe(e))throw n}typeof e!="string"&&Te.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return be(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t);if(!n)return null;let i=Z(yield this.call({to:n,data:"0x691f3431"+Pi(t).substring(2)}));if(i.length<32||!Y.from(i.slice(0,32)).eq(32)||(i=i.slice(32),i.length<32))return null;const o=Y.from(i.slice(0,32)).toNumber();if(i=i.slice(32),o>i.length)return null;const s=Ur(i.slice(0,o));return(yield this.resolveName(s))!=e?null:s})}getAvatar(e){return be(this,void 0,void 0,function*(){let t=null;if(pe(e)){const i=this.formatter.address(e),o=i.substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o);if(!s)return null;t=new Ha(this,s,"_",i)}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return Te.throwError(e+" not implemented",O.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const i=new sb(Yn(e),t,n);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,i=[],o=Yn(e);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,t)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let t=Yn(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=Yn(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let i=!1,o=Yn(e);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=t||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=Yn(e);this._events=this._events.filter(i=>i.tag!==n?!0:(t.push(i),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var Ar=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const pt=new O(Et),lb=["call","estimateGas"];function Al(r,e,t){if(r==="call"&&e.code===O.errors.SERVER_ERROR){const o=e.error;if(o&&o.message.match("reverted")&&pe(o.data))return o.data;pt.throwError("missing revert data in call exception",O.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===O.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText),n=(n||"").toLowerCase();const i=t.transaction||t.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&pt.throwError("insufficient funds for intrinsic transaction cost",O.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:i}),n.match(/nonce too low/)&&pt.throwError("nonce has already been used",O.errors.NONCE_EXPIRED,{error:e,method:r,transaction:i}),n.match(/replacement transaction underpriced/)&&pt.throwError("replacement fee too low",O.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:i}),n.match(/only replay-protected/)&&pt.throwError("legacy pre-eip-155 transactions not supported",O.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:i}),lb.indexOf(r)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&pt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",O.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:i}),e}function Sl(r){return new Promise(function(e){setTimeout(e,r)})}function ub(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function qi(r){return r&&r.toLowerCase()}const Ka={};class Hi extends yr{constructor(e,t,n){pt.checkNew(new.target,Hi);super();if(e!==Ka)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");q(this,"provider",t),n==null&&(n=0),typeof n=="string"?(q(this,"_address",this.provider.formatter.address(n)),q(this,"_index",null)):typeof n=="number"?(q(this,"_index",n),q(this,"_address",null)):pt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return pt.throwError("cannot alter JSON-RPC Signer connection",O.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new hb(Ka,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&pt.throwError("unknown account #"+this._index,O.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Qe(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Qe(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Ar(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&pt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),ot({tx:ot(e),sender:t}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&pt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>Al("sendTransaction",s,o))})}signTransaction(e){return pt.throwError("signing transactions is unsupported",O.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ar(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield An(()=>Ar(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Ar(this,void 0,void 0,function*(){const t=typeof e=="string"?ft(e):e,n=yield this.getAddress();return yield this.provider.send("personal_sign",[ee(t),n.toLowerCase()])})}_legacySignMessage(e){return Ar(this,void 0,void 0,function*(){const t=typeof e=="string"?ft(e):e,n=yield this.getAddress();return yield this.provider.send("eth_sign",[n.toLowerCase(),ee(t)])})}_signTypedData(e,t,n){return Ar(this,void 0,void 0,function*(){const i=yield dt.resolveNames(e,t,n,s=>this.provider.resolveName(s)),o=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(dt.getPayload(i.domain,t,i.value))])})}unlock(e){return Ar(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class hb extends Hi{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const db={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Sr extends Ko{constructor(e,t){pt.checkNew(new.target,Sr);let n=t;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)}));super(n);e||(e=lt(this.constructor,"defaultUrl")()),typeof e=="string"?q(this,"connection",Object.freeze({url:e})):q(this,"connection",Object.freeze(Qe(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ar(this,void 0,void 0,function*(){yield Sl(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=lt(this.constructor,"getNetwork");try{return t(Y.from(e).toNumber())}catch(n){return pt.throwError("could not detect network",O.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return pt.throwError("could not detect network",O.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Hi(Ka,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:wt(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const o=Gi(this.connection,JSON.stringify(n),ub).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[qi(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[qi(t.address),t.blockTag]];case"getCode":return["eth_getCode",[qi(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[qi(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{const n=lt(this.constructor,"hexlifyTransaction");return["eth_call",[n(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{const n=lt(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=qi(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Ar(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&Y.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(t=Qe(t),t.transaction=Qe(i),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&pt.throwError(e+" not implemented",O.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Al(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(o){if(e._pendingFilter!=t)return null;let s=Promise.resolve();return o.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),s.then(function(){return Sl(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=Qe(db);if(t)for(const o in t)t[o]&&(n[o]=!0);Xs(e,n);const i={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;const s=yi(e[o]);o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){e[o]!=null&&(i[o]=ee(e[o]))}),e.accessList&&(i.accessList=Vr(e.accessList)),i}}let Vi=null;try{if(Vi=WebSocket,Vi==null)throw new Error("inject please")}catch{const e=new O(Et);Vi=function(){e.throwError("WebSockets not supported in this environment",O.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Wa=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Wo=new O(Et);let xb=1;class Jo extends Sr{constructor(e,t){t==="any"&&Wo.throwError("WebSocketProvider does not support 'any' network yet",O.errors.UNSUPPORTED_OPERATION,{operation:"network:any"});super(e,t);this._pollingInterval=-1,this._wsReady=!1,q(this,"_websocket",new Vi(this.connection.url)),q(this,"_requests",{}),q(this,"_subs",{}),q(this,"_subIds",{}),q(this,"_detectNetwork",super.detectNetwork()),this._websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this._websocket.send(this._requests[i].payload)})},this._websocket.onmessage=i=>{const o=i.data,s=JSON.parse(o);if(s.id!=null){const a=String(s.id),c=this._requests[a];if(delete this._requests[a],s.result!==void 0)c.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:s.result,provider:this});else{let f=null;s.error?(f=new Error(s.error.message||"unknown error"),q(f,"code",s.error.code||null),q(f,"response",o)):f=new Error("unknown error"),c.callback(f,void 0),this.emit("debug",{action:"response",error:f,request:JSON.parse(c.payload),provider:this})}}else if(s.method==="eth_subscription"){const a=this._subs[s.params.subscription];a&&a.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Wo.throwError("cannot reset events block on WebSocketProvider",O.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Wo.throwError("cannot set polling interval on WebSocketProvider",O.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Wa(this,void 0,void 0,function*(){return null})}set polling(e){!e||Wo.throwError("cannot set polling on WebSocketProvider",O.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=xb++;return new Promise((i,o)=>{function s(c,f){return c?o(c):i(f)}const a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:s,payload:a},this._wsReady&&this._websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return Wa(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=i);const o=yield i;this._subs[o]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=Y.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const i=n.hash;this.getTransactionReceipt(i).then(o=>{!o||this.emit(i,o)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];!n||(delete this._subIds[t],n.then(i=>{!this._subs[i]||(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Wa(this,void 0,void 0,function*(){this._websocket.readyState===Vi.CONNECTING&&(yield new Promise(e=>{this._websocket.onopen=function(){e(!0)},this._websocket.onerror=function(){e(!1)}})),this._websocket.close(1e3)})}}var pb=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Ki=new O(Et);class Tl extends Sr{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return pb(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||Ki.throwError("no network detected",O.errors.UNKNOWN_ERROR,{}),this._network==null&&(q(this,"_network",t),this.emit("network",t,null))),t})}}class Jr extends Tl{constructor(e,t){Ki.checkAbstract(new.target,Jr),e=lt(new.target,"getNetwork")(e),t=lt(new.target,"getApiKey")(t);const n=lt(new.target,"getUrl")(e,t);super(n,e);typeof t=="string"?q(this,"apiKey",t):t!=null&&Object.keys(t).forEach(i=>{q(this,i,t[i])})}_startPending(){Ki.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Ki.throwError("API provider does not support signing",O.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Ki.throwError("not implemented; sub-classes must override getUrl",O.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const kl=new O(Et),Zo="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class Ml extends Jo{constructor(e,t){const n=new Ja(e,t),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network);q(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===Zo}}class Ja extends Jr{static getWebSocketProvider(e,t){return new Ml(e,t)}static getApiKey(e){return e==null?Zo:(e&&typeof e!="string"&&kl.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":n="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":n="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.alchemyapi.io/v2/";break;case"kovan":n="eth-kovan.alchemyapi.io/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":n="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":n="opt-kovan.g.alchemy.com/v2/";break;default:kl.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(i,o)=>(t===Zo&&Vo(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Zo}}var bb=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Pl=new O(Et);class Nl extends Jr{static getApiKey(e){return e!=null&&Pl.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:Pl.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return bb(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var Xo=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Tr=new O(Et);function Il(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=yi(ee(n)):t==="accessList"?n="["+Vr(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=ee(n),e[t]=n)}return e}function gb(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||r.message!="OK"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function Bl(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function Rl(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}const Cl="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function Za(r,e,t){if(r==="call"&&e.code===O.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let o=i.data;if(o&&(o="0x"+o.replace(/^.*0x/i,"")),pe(o))return o;Tr.throwError("missing revert data in call exception",O.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===O.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Tr.throwError("insufficient funds for intrinsic transaction cost",O.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Tr.throwError("nonce has already been used",O.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&Tr.throwError("replacement fee too low",O.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&Tr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",O.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class Yo extends Ko{constructor(e,t){Tr.checkNew(new.target,Yo);super(e);q(this,"baseUrl",this.getBaseUrl()),q(this,"apiKey",t||Cl)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return Tr.throwArgumentError("unsupported network","network",name)}getUrl(e,t){const n=Object.keys(t).reduce((o,s)=>{const a=t[s];return a!=null&&(o+=`&${s}=${a}`),o},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return Xo(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,t),o=n?this.getPostData(e,t):null,s=e==="proxy"?Bl:gb;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(l,b)=>(this.isCommunityResource()&&Vo(),Promise.resolve(!0))};let c=null;o&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(o).map(l=>`${l}=${o[l]}`).join("&"));const f=yield Gi(a,c,s||Bl);return this.emit("debug",{action:"response",request:i,response:wt(f),provider:this}),f})}detectNetwork(){return Xo(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Xo(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(i=>Za("sendTransaction",i,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=Il(t.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(o){return Za("call",o,t.transaction)}}case"estimateGas":{const i=Il(t.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(o){return Za("estimateGas",o,t.transaction)}}case"getLogs":{const i={action:"getLogs"};if(t.filter.fromBlock&&(i.fromBlock=Rl(t.filter.fromBlock)),t.filter.toBlock&&(i.toBlock=Rl(t.filter.toBlock)),t.filter.address&&(i.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Tr.throwError("unsupported topic count",O.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const a=t.filter.topics[0];(typeof a!="string"||a.length!==66)&&Tr.throwError("unsupported topic format",O.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const o=yield this.fetch("logs",i);let s={};for(let a=0;a<o.length;a++){const c=o[a];if(c.blockHash==null){if(s[c.blockNumber]==null){const f=yield this.getBlock(c.blockNumber);f&&(s[c.blockNumber]=f.hash)}c.blockHash=s[c.blockNumber]}}return o}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return Xo(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:t==null?0:t,endblock:n==null?99999999:n,sort:"asc"};return(yield this.fetch("account",i)).map(s=>{["contractAddress","to"].forEach(function(c){s[c]==""&&delete s[c]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const a=this.formatter.transactionResponse(s);return s.timeStamp&&(a.timestamp=parseInt(s.timeStamp)),a})})}isCommunityResource(){return this.apiKey===Cl}}var Qo=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{f(n.next(l))}catch(b){s(b)}}function c(l){try{f(n.throw(l))}catch(b){s(b)}}function f(l){l.done?o(l.value):i(l.value).then(a,c)}f((n=n.apply(r,e||[])).next())})};const Zr=new O(Et);function es(){return new Date().getTime()}function Ol(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Zr.throwArgumentError("provider mismatch","networks",r):e=n}return e}function Fl(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],i=r[t];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function Qn(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(Y.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>Qn(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=Qn(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let mb=1;function $l(r){let e=null,t=null,n=new Promise(s=>{e=function(){t&&(clearTimeout(t),t=null),s()},t=setTimeout(e,r)});const i=s=>(n=n.then(s),n);function o(){return n}return{cancel:e,getPromise:o,wait:i}}const yb=[O.errors.CALL_EXCEPTION,O.errors.INSUFFICIENT_FUNDS,O.errors.NONCE_EXPIRED,O.errors.REPLACEMENT_UNDERPRICED,O.errors.UNPREDICTABLE_GAS_LIMIT],vb=["address","args","errorArgs","errorSignature","method","transaction"];function ts(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function wb(r,e){return function(t){const n={};t.forEach(o=>{const s=r(o.result);n[s]||(n[s]={count:0,result:o.result}),n[s].count++});const i=Object.keys(n);for(let o=0;o<i.length;o++){const s=n[i[o]];if(s.count>=e)return s.result}}}function _b(r,e,t){let n=Qn;switch(e){case"getBlockNumber":return function(i){const o=i.map(a=>a.result);let s=Fl(i.map(a=>a.result),2);if(s!=null)return s=Math.ceil(s),o.indexOf(s+1)>=0&&s++,s>=r._highestBlockNumber&&(r._highestBlockNumber=s),r._highestBlockNumber};case"getGasPrice":return function(i){const o=i.map(s=>s.result);return o.sort(),o[Math.floor(o.length/2)]};case"getEtherPrice":return function(i){return Fl(i.map(o=>o.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Qe(i),i.confirmations=-1,Qn(i))};break;case"getBlock":t.includeTransactions?n=function(i){return i==null?null:(i=Qe(i),i.transactions=i.transactions.map(o=>(o=Qe(o),o.confirmations=-1,o)),Qn(i))}:n=function(i){return i==null?null:Qn(i)};break;default:throw new Error("unknown method: "+e)}return wb(n,r.quorum)}function Wi(r,e){return Qo(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:An(()=>new Promise((n,i)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function Eb(r,e,t,n){return Qo(this,void 0,void 0,function*(){let i=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&pe(n.blockTag)&&(i=yield Wi(r,e)),i[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&pe(n.blockTag)&&(i=yield Wi(r,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&pe(n.blockTag)&&(i=yield Wi(r,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&pe(n.blockTag)&&(i=yield Wi(r,e)),i[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](n.transactionHash);case"getLogs":{let o=n.filter;return(o.fromBlock&&pe(o.fromBlock)||o.toBlock&&pe(o.toBlock))&&(i=yield Wi(r,e)),i.getLogs(o)}}return Zr.throwError("unknown method error",O.errors.UNKNOWN_ERROR,{method:t,params:n})})}class rs extends Ko{constructor(e,t){Zr.checkNew(new.target,rs),e.length===0&&Zr.throwArgumentError("missing providers","providers",e);const n=e.map((s,a)=>{if(jr.isProvider(s)){const l=za(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:l,priority:1})}const c=Qe(s);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=za(s)?2e3:750),c.weight==null&&(c.weight=1);const f=c.weight;return(f%1||f>512||f<1)&&Zr.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,f),Object.freeze(c)}),i=n.reduce((s,a)=>s+a.weight,0);t==null?t=i/2:t>i&&Zr.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let o=Ol(n.map(s=>s.provider.network));o==null&&(o=new Promise((s,a)=>{setTimeout(()=>{this.detectNetwork().then(s,a)},0)}));super(o);q(this,"providerConfigs",Object.freeze(n)),q(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Qo(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return Ol(e)})}perform(e,t){return Qo(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(f=>f.provider.sendTransaction(t.signedTransaction).then(l=>l.hash,l=>l)));for(let f=0;f<c.length;f++){const l=c[f];if(typeof l=="string")return l}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=_b(this,e,t),i=Jc(this.providerConfigs.map(Qe));i.sort((c,f)=>c.priority-f.priority);const o=this._highestBlockNumber;let s=0,a=!0;for(;;){const c=es();let f=i.filter(v=>v.runner&&c-v.start<v.stallTimeout).reduce((v,_)=>v+_.weight,0);for(;f<this.quorum&&s<i.length;){const v=i[s++],_=mb++;v.start=es(),v.staller=$l(v.stallTimeout),v.staller.wait(()=>{v.staller=null}),v.runner=Eb(v,o,e,t).then(S=>{v.done=!0,v.result=S,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:_,backend:ts(v,es()),request:{method:e,params:wt(t)},provider:this})},S=>{v.done=!0,v.error=S,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:_,backend:ts(v,es()),request:{method:e,params:wt(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:_,backend:ts(v,null),request:{method:e,params:wt(t)},provider:this}),f+=v.weight}const l=[];i.forEach(v=>{v.done||!v.runner||(l.push(v.runner),v.staller&&l.push(v.staller.getPromise()))}),l.length&&(yield Promise.race(l));const b=i.filter(v=>v.done&&v.error==null);if(b.length>=this.quorum){const v=n(b);if(v!==void 0)return i.forEach(_=>{_.staller&&_.staller.cancel(),_.cancelled=!0}),v;a||(yield $l(100).getPromise()),a=!1}const y=i.reduce((v,_)=>{if(!_.done||_.error==null)return v;const S=_.error.code;return yb.indexOf(S)>=0&&(v[S]||(v[S]={error:_.error,weight:0}),v[S].weight+=_.weight),v},{});if(Object.keys(y).forEach(v=>{const _=y[v];if(_.weight<this.quorum)return;i.forEach(I=>{I.staller&&I.staller.cancel(),I.cancelled=!0});const S=_.error,w={};vb.forEach(I=>{S[I]!=null&&(w[I]=S[I])}),Zr.throwError(S.reason||S.message,v,w)}),i.filter(v=>!v.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),Zr.throwError("failed to meet quorum",O.errors.SERVER_ERROR,{method:e,params:t,results:i.map(c=>ts(c)),provider:this})})}}const Ll=null,ns=new O(Et),Ji="84842078b09946638c03157f83405213";class Ul extends Jo{constructor(e,t){const n=new Xa(e,t),i=n.connection;i.password&&ns.throwError("INFURA WebSocket project secrets unsupported",O.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,e);q(this,"apiKey",n.projectId),q(this,"projectId",n.projectId),q(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Ji}}class Xa extends Jr{static getWebSocketProvider(e,t){return new Ul(e,t)}static getApiKey(e){const t={apiKey:Ji,projectId:Ji,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(ns.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),ns.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"ropsten":n="ropsten.infura.io";break;case"rinkeby":n="rinkeby.infura.io";break;case"kovan":n="kovan.infura.io";break;case"goerli":n="goerli.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-kovan":n="optimism-kovan.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":n="arbitrum-rinkeby.infura.io";break;default:ns.throwError("unsupported network",O.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(o,s)=>(t.projectId===Ji&&Vo(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===Ji}}class Ab extends Sr{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:n,resolve:null,reject:null},o=new Promise((s,a)=>{i.resolve=s,i.reject=a});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=s.map(c=>c.request);return this.emit("debug",{action:"requestBatch",request:wt(a),provider:this}),Gi(this.connection,JSON.stringify(a)).then(c=>{this.emit("debug",{action:"response",request:a,response:c,provider:this}),s.forEach((f,l)=>{const b=c[l];if(b.error){const y=new Error(b.error.message);y.code=b.error.code,y.data=b.error.data,f.reject(y)}else f.resolve(b.result)})},c=>{this.emit("debug",{action:"response",error:c,request:a,provider:this}),s.forEach(f=>{f.reject(c)})})},10)),o}}const Ya=new O(Et),Sb="ETHERS_JS_SHARED";class Dl extends Jr{static getApiKey(e){return e&&typeof e!="string"&&Ya.throwArgumentError("invalid apiKey","apiKey",e),e||Sb}static getUrl(e,t){Ya.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Ya.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const Sn=new O(Et),jl={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class Gl extends Jr{constructor(e,t){if(t==null){const n=lt(new.target,"getNetwork")(e);if(n){const i=jl[n.name];i&&(t={applicationId:i,loadBalancer:!0})}t==null&&Sn.throwError("unsupported network",O.errors.INVALID_ARGUMENT,{argument:"network",value:e})}super(e,t)}static getApiKey(e){e==null&&Sn.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);const t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(Sn.assertArgument(typeof e.applicationId=="string","applicationSecretKey requires an applicationId","applicationId",e.applicationId),Sn.assertArgument(typeof e.applicationSecretKey=="string","invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(Sn.assertArgument(typeof e.applicationId=="string","apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):Sn.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"goerli":n="eth-goerli.gateway.pokt.network";break;default:Sn.throwError("unsupported network",O.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let i=null;t.loadBalancer?i=`https://${n}/v1/lb/${t.applicationId}`:i=`https://${n}/v1/${t.applicationId}`;const o={url:i};return o.headers={},t.applicationSecretKey!=null&&(o.user="",o.password=t.applicationSecretKey),o}isCommunityResource(){return this.applicationId===jl[this.network.name]}}const Qa=new O(Et);let Tb=1;function zl(r,e){const t="Web3LegacyFetcher";return function(n,i){const o={method:n,params:i,id:Tb++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:t,request:wt(o),provider:this}),e(o,(c,f)=>{if(c)return this.emit("debug",{action:"response",fetcher:t,error:c,request:o,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:t,request:o,response:f,provider:this}),f.error){const l=new Error(f.error.message);return l.code=f.error.code,l.data=f.error.data,a(l)}s(f.result)})})}}function kb(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:wt(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class is extends Sr{constructor(e,t){Qa.checkNew(new.target,is),e==null&&Qa.throwArgumentError("missing provider","provider",e);let n=null,i=null,o=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),o=e,e.request?(n===""&&(n="eip-1193:"),i=kb(e)):e.sendAsync?i=zl(e,e.sendAsync.bind(e)):e.send?i=zl(e,e.send.bind(e)):Qa.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:"));super(n,t);q(this,"jsonRpcFetchFunc",i),q(this,"provider",o)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const ql=new O(Et);function e0(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1]){case"http":return new Sr(r);case"ws":return new Jo(r);default:ql.throwArgumentError("unsupported URL scheme","network",r)}}const t=Da(r);return(!t||!t._defaultProvider)&&ql.throwError("unsupported getDefaultProvider network",O.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:rs,AlchemyProvider:Ja,CloudflareProvider:Nl,EtherscanProvider:Yo,InfuraProvider:Xa,JsonRpcProvider:Sr,NodesmithProvider:Dl,PocketProvider:Gl,Web3Provider:is,IpcProvider:Ll},e)}var Hl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Provider:jr,BaseProvider:Ko,Resolver:Ha,UrlJsonRpcProvider:Jr,FallbackProvider:rs,AlchemyProvider:Ja,AlchemyWebSocketProvider:Ml,CloudflareProvider:Nl,EtherscanProvider:Yo,InfuraProvider:Xa,InfuraWebSocketProvider:Ul,JsonRpcProvider:Sr,JsonRpcBatchProvider:Ab,NodesmithProvider:Dl,PocketProvider:Gl,StaticJsonRpcProvider:Tl,Web3Provider:is,WebSocketProvider:Jo,IpcProvider:Ll,JsonRpcSigner:Hi,getDefaultProvider:e0,getNetwork:Da,isCommunityResource:za,isCommunityResourcable:bl,showThrottleMessage:Vo,Formatter:ae});const Mb="solidity/5.5.0",Pb=new RegExp("^bytes([0-9]+)$"),Nb=new RegExp("^(u?int)([0-9]*)$"),Ib=new RegExp("^(.*)\\[([0-9]*)\\]$"),Bb="0000000000000000000000000000000000000000000000000000000000000000",ei=new O(Mb);function Vl(r,e,t){switch(r){case"address":return t?mi(e,32):Z(e);case"string":return ft(e);case"bytes":return Z(e);case"bool":return e=e?"0x01":"0x00",t?mi(e,32):Z(e)}let n=r.match(Nb);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!=0||i===0||i>256)&&ei.throwArgumentError("invalid number type","type",r),t&&(i=256),e=Y.from(e).toTwos(i),mi(e,i/8)}if(n=r.match(Pb),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&ei.throwArgumentError("invalid bytes type","type",r),Z(e).byteLength!==i&&ei.throwArgumentError(`invalid value for ${r}`,"value",e),t?Z((e+Bb).substring(0,66)):e}if(n=r.match(Ib),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&ei.throwArgumentError(`invalid array length for ${r}`,"value",e);const s=[];return e.forEach(function(a){s.push(Vl(i,a,!0))}),Ce(s)}return ei.throwArgumentError("invalid type","type",r)}function t0(r,e){r.length!=e.length&&ei.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,i){t.push(Vl(n,e[i]))}),ee(Ce(t))}function Rb(r,e){return Pe(t0(r,e))}function Cb(r,e){return _r(t0(r,e))}const Ob="units/5.5.0",Kl=new O(Ob),Wl=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Fb(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&Kl.throwArgumentError("invalid value","value",r);let t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const o=[];for(;t.length;)if(t.length<=3){o.unshift(t);break}else{const s=t.length-3;o.unshift(t.substring(s)),t=t.substring(0,s)}return n+o.join(",")+i}function Jl(r,e){if(typeof e=="string"){const t=Wl.indexOf(e);t!==-1&&(e=3*t)}return bo(r,e!=null?e:18)}function Zl(r,e){if(typeof r!="string"&&Kl.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=Wl.indexOf(e);t!==-1&&(e=3*t)}return Yt(r,e!=null?e:18)}function $b(r){return Jl(r,18)}function Lb(r){return Zl(r,18)}var Xl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",AbiCoder:Ao,defaultAbiCoder:zf,Fragment:Qt,ConstructorFragment:jt,ErrorFragment:gr,EventFragment:er,FunctionFragment:Gt,ParamType:ct,FormatTypes:Ee,checkResultErrors:wf,Logger:O,RLP:cd,_fetchData:hl,fetchJson:Gi,poll:An,checkProperties:Xs,deepCopy:wt,defineReadOnly:q,getStatic:lt,resolveProperties:ot,shallowCopy:Qe,arrayify:Z,concat:Ce,stripZeros:Zt,zeroPad:mi,isBytes:Fr,isBytesLike:gi,defaultPath:Kn,HDNode:Mt,SigningKey:yn,Interface:Ni,LogDescription:Qf,TransactionDescription:ec,base58:Li,base64:Hp,hexlify:ee,isHexString:pe,hexConcat:Rt,hexStripZeros:af,hexValue:yi,hexZeroPad:Oe,hexDataLength:$r,hexDataSlice:At,nameprep:ca,_toEscapedUtf8String:Bd,toUtf8Bytes:ft,toUtf8CodePoints:sa,toUtf8String:Ur,Utf8ErrorFuncs:jf,formatBytes32String:Rd,parseBytes32String:Cd,hashMessage:la,namehash:Pi,isValidName:Xd,id:Dr,_TypedDataEncoder:dt,getAddress:ke,getIcapAddress:xd,getContractAddress:_o,getCreate2Address:pd,isAddress:dd,formatEther:$b,parseEther:Lb,formatUnits:Jl,parseUnits:Zl,commify:Fb,computeHmac:Ui,keccak256:Pe,ripemd160:zc,sha256:_r,sha512:dp,randomBytes:Wn,shuffled:Jc,solidityPack:t0,solidityKeccak256:Rb,soliditySha256:Cb,splitSignature:dn,joinSignature:Ws,accessListify:Vr,parseTransaction:Cc,serializeTransaction:Na,get TransactionTypes(){return ka},getJsonWalletAddress:Mp,computeAddress:Hr,recoverAddress:Ci,computePublicKey:Ta,recoverPublicKey:Pc,verifyMessage:jp,verifyTypedData:Gp,getAccountPath:Ep,mnemonicToEntropy:Lo,entropyToMnemonic:Uo,isValidMnemonic:_p,mnemonicToSeed:Wc,get SupportedAlgorithm(){return zn},get UnicodeNormalizationForm(){return rr},get Utf8ErrorReason(){return Tt},Indexed:So});const r0="ethers/5.5.2",Yl=new O(r0);var Ql=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Signer:yr,Wallet:Er,VoidSigner:On,getDefaultProvider:e0,providers:Hl,BaseContract:Ia,Contract:$i,ContractFactory:jc,BigNumber:Y,FixedNumber:at,constants:Lf,get errors(){return bi},logger:Yl,utils:Xl,wordlists:Fo,version:r0,Wordlist:vn});try{const r=window;r._ethers==null&&(r._ethers=Ql)}catch{}var Ub=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ethers:Ql,Signer:yr,Wallet:Er,VoidSigner:On,getDefaultProvider:e0,providers:Hl,BaseContract:Ia,Contract:$i,ContractFactory:jc,BigNumber:Y,FixedNumber:at,constants:Lf,get errors(){return bi},logger:Yl,utils:Xl,wordlists:Fo,version:r0,Wordlist:vn}),Db={},n0={},os=qh(Ub),Xr={};function jb(){this.__data__=[],this.size=0}var Gb=jb;function zb(r,e){return r===e||r!==r&&e!==e}var eu=zb,qb=eu;function Hb(r,e){for(var t=r.length;t--;)if(qb(r[t][0],e))return t;return-1}var ss=Hb,Vb=ss,Kb=Array.prototype,Wb=Kb.splice;function Jb(r){var e=this.__data__,t=Vb(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():Wb.call(e,t,1),--this.size,!0}var Zb=Jb,Xb=ss;function Yb(r){var e=this.__data__,t=Xb(e,r);return t<0?void 0:e[t][1]}var Qb=Yb,eg=ss;function tg(r){return eg(this.__data__,r)>-1}var rg=tg,ng=ss;function ig(r,e){var t=this.__data__,n=ng(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}var og=ig,sg=Gb,ag=Zb,fg=Qb,cg=rg,lg=og;function ti(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}ti.prototype.clear=sg;ti.prototype.delete=ag;ti.prototype.get=fg;ti.prototype.has=cg;ti.prototype.set=lg;var as=ti,ug=as;function hg(){this.__data__=new ug,this.size=0}var dg=hg;function xg(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}var pg=xg;function bg(r){return this.__data__.get(r)}var gg=bg;function mg(r){return this.__data__.has(r)}var yg=mg,vg=typeof rt=="object"&&rt&&rt.Object===Object&&rt,tu=vg,wg=tu,_g=typeof self=="object"&&self&&self.Object===Object&&self,Eg=wg||_g||Function("return this")(),hr=Eg,Ag=hr,Sg=Ag.Symbol,i0=Sg,ru=i0,nu=Object.prototype,Tg=nu.hasOwnProperty,kg=nu.toString,Zi=ru?ru.toStringTag:void 0;function Mg(r){var e=Tg.call(r,Zi),t=r[Zi];try{r[Zi]=void 0;var n=!0}catch{}var i=kg.call(r);return n&&(e?r[Zi]=t:delete r[Zi]),i}var Pg=Mg,Ng=Object.prototype,Ig=Ng.toString;function Bg(r){return Ig.call(r)}var Rg=Bg,iu=i0,Cg=Pg,Og=Rg,Fg="[object Null]",$g="[object Undefined]",ou=iu?iu.toStringTag:void 0;function Lg(r){return r==null?r===void 0?$g:Fg:ou&&ou in Object(r)?Cg(r):Og(r)}var fs=Lg;function Ug(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var Xi=Ug,Dg=fs,jg=Xi,Gg="[object AsyncFunction]",zg="[object Function]",qg="[object GeneratorFunction]",Hg="[object Proxy]";function Vg(r){if(!jg(r))return!1;var e=Dg(r);return e==zg||e==qg||e==Gg||e==Hg}var su=Vg,Kg=hr,Wg=Kg["__core-js_shared__"],Jg=Wg,o0=Jg,au=function(){var r=/[^.]+$/.exec(o0&&o0.keys&&o0.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function Zg(r){return!!au&&au in r}var Xg=Zg,Yg=Function.prototype,Qg=Yg.toString;function em(r){if(r!=null){try{return Qg.call(r)}catch{}try{return r+""}catch{}}return""}var fu=em,tm=su,rm=Xg,nm=Xi,im=fu,om=/[\\^$.*+?()[\]{}|]/g,sm=/^\[object .+?Constructor\]$/,am=Function.prototype,fm=Object.prototype,cm=am.toString,lm=fm.hasOwnProperty,um=RegExp("^"+cm.call(lm).replace(om,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hm(r){if(!nm(r)||rm(r))return!1;var e=tm(r)?um:sm;return e.test(im(r))}var dm=hm;function xm(r,e){return r==null?void 0:r[e]}var pm=xm,bm=dm,gm=pm;function mm(r,e){var t=gm(r,e);return bm(t)?t:void 0}var Tn=mm,ym=Tn,vm=hr,wm=ym(vm,"Map"),s0=wm,_m=Tn,Em=_m(Object,"create"),cs=Em,cu=cs;function Am(){this.__data__=cu?cu(null):{},this.size=0}var Sm=Am;function Tm(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var km=Tm,Mm=cs,Pm="__lodash_hash_undefined__",Nm=Object.prototype,Im=Nm.hasOwnProperty;function Bm(r){var e=this.__data__;if(Mm){var t=e[r];return t===Pm?void 0:t}return Im.call(e,r)?e[r]:void 0}var Rm=Bm,Cm=cs,Om=Object.prototype,Fm=Om.hasOwnProperty;function $m(r){var e=this.__data__;return Cm?e[r]!==void 0:Fm.call(e,r)}var Lm=$m,Um=cs,Dm="__lodash_hash_undefined__";function jm(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Um&&e===void 0?Dm:e,this}var Gm=jm,zm=Sm,qm=km,Hm=Rm,Vm=Lm,Km=Gm;function ri(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}ri.prototype.clear=zm;ri.prototype.delete=qm;ri.prototype.get=Hm;ri.prototype.has=Vm;ri.prototype.set=Km;var Wm=ri,lu=Wm,Jm=as,Zm=s0;function Xm(){this.size=0,this.__data__={hash:new lu,map:new(Zm||Jm),string:new lu}}var Ym=Xm;function Qm(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}var e2=Qm,t2=e2;function r2(r,e){var t=r.__data__;return t2(e)?t[typeof e=="string"?"string":"hash"]:t.map}var ls=r2,n2=ls;function i2(r){var e=n2(this,r).delete(r);return this.size-=e?1:0,e}var o2=i2,s2=ls;function a2(r){return s2(this,r).get(r)}var f2=a2,c2=ls;function l2(r){return c2(this,r).has(r)}var u2=l2,h2=ls;function d2(r,e){var t=h2(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}var x2=d2,p2=Ym,b2=o2,g2=f2,m2=u2,y2=x2;function ni(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}ni.prototype.clear=p2;ni.prototype.delete=b2;ni.prototype.get=g2;ni.prototype.has=m2;ni.prototype.set=y2;var v2=ni,w2=as,_2=s0,E2=v2,A2=200;function S2(r,e){var t=this.__data__;if(t instanceof w2){var n=t.__data__;if(!_2||n.length<A2-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new E2(n)}return t.set(r,e),this.size=t.size,this}var T2=S2,k2=as,M2=dg,P2=pg,N2=gg,I2=yg,B2=T2;function ii(r){var e=this.__data__=new k2(r);this.size=e.size}ii.prototype.clear=M2;ii.prototype.delete=P2;ii.prototype.get=N2;ii.prototype.has=I2;ii.prototype.set=B2;var R2=ii;function C2(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r}var O2=C2,F2=Tn,$2=function(){try{var r=F2(Object,"defineProperty");return r({},"",{}),r}catch{}}(),L2=$2,uu=L2;function U2(r,e,t){e=="__proto__"&&uu?uu(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}var hu=U2,D2=hu,j2=eu,G2=Object.prototype,z2=G2.hasOwnProperty;function q2(r,e,t){var n=r[e];(!(z2.call(r,e)&&j2(n,t))||t===void 0&&!(e in r))&&D2(r,e,t)}var du=q2,H2=du,V2=hu;function K2(r,e,t,n){var i=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=n?n(t[a],r[a],a,t,r):void 0;c===void 0&&(c=r[a]),i?V2(t,a,c):H2(t,a,c)}return t}var us=K2;function W2(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}var J2=W2;function Z2(r){return r!=null&&typeof r=="object"}var Yi=Z2,X2=fs,Y2=Yi,Q2="[object Arguments]";function ey(r){return Y2(r)&&X2(r)==Q2}var ty=ey,xu=ty,ry=Yi,pu=Object.prototype,ny=pu.hasOwnProperty,iy=pu.propertyIsEnumerable,oy=xu(function(){return arguments}())?xu:function(r){return ry(r)&&ny.call(r,"callee")&&!iy.call(r,"callee")},sy=oy,ay=Array.isArray,a0=ay,hs={exports:{}};function fy(){return!1}var cy=fy;(function(r,e){var t=hr,n=cy,i=e&&!e.nodeType&&e,o=i&&!0&&r&&!r.nodeType&&r,s=o&&o.exports===i,a=s?t.Buffer:void 0,c=a?a.isBuffer:void 0,f=c||n;r.exports=f})(hs,hs.exports);var ly=9007199254740991,uy=/^(?:0|[1-9]\d*)$/;function hy(r,e){var t=typeof r;return e=e==null?ly:e,!!e&&(t=="number"||t!="symbol"&&uy.test(r))&&r>-1&&r%1==0&&r<e}var dy=hy,xy=9007199254740991;function py(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=xy}var bu=py,by=fs,gy=bu,my=Yi,yy="[object Arguments]",vy="[object Array]",wy="[object Boolean]",_y="[object Date]",Ey="[object Error]",Ay="[object Function]",Sy="[object Map]",Ty="[object Number]",ky="[object Object]",My="[object RegExp]",Py="[object Set]",Ny="[object String]",Iy="[object WeakMap]",By="[object ArrayBuffer]",Ry="[object DataView]",Cy="[object Float32Array]",Oy="[object Float64Array]",Fy="[object Int8Array]",$y="[object Int16Array]",Ly="[object Int32Array]",Uy="[object Uint8Array]",Dy="[object Uint8ClampedArray]",jy="[object Uint16Array]",Gy="[object Uint32Array]",et={};et[Cy]=et[Oy]=et[Fy]=et[$y]=et[Ly]=et[Uy]=et[Dy]=et[jy]=et[Gy]=!0;et[yy]=et[vy]=et[By]=et[wy]=et[Ry]=et[_y]=et[Ey]=et[Ay]=et[Sy]=et[Ty]=et[ky]=et[My]=et[Py]=et[Ny]=et[Iy]=!1;function zy(r){return my(r)&&gy(r.length)&&!!et[by(r)]}var qy=zy;function Hy(r){return function(e){return r(e)}}var f0=Hy,Qi={exports:{}};(function(r,e){var t=tu,n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,o=i&&i.exports===n,s=o&&t.process,a=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();r.exports=a})(Qi,Qi.exports);var Vy=qy,Ky=f0,gu=Qi.exports,mu=gu&&gu.isTypedArray,Wy=mu?Ky(mu):Vy,Jy=Wy,Zy=J2,Xy=sy,Yy=a0,Qy=hs.exports,e3=dy,t3=Jy,r3=Object.prototype,n3=r3.hasOwnProperty;function i3(r,e){var t=Yy(r),n=!t&&Xy(r),i=!t&&!n&&Qy(r),o=!t&&!n&&!i&&t3(r),s=t||n||i||o,a=s?Zy(r.length,String):[],c=a.length;for(var f in r)(e||n3.call(r,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||e3(f,c)))&&a.push(f);return a}var yu=i3,o3=Object.prototype;function s3(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||o3;return r===t}var c0=s3;function a3(r,e){return function(t){return r(e(t))}}var vu=a3,f3=vu,c3=f3(Object.keys,Object),l3=c3,u3=c0,h3=l3,d3=Object.prototype,x3=d3.hasOwnProperty;function p3(r){if(!u3(r))return h3(r);var e=[];for(var t in Object(r))x3.call(r,t)&&t!="constructor"&&e.push(t);return e}var b3=p3,g3=su,m3=bu;function y3(r){return r!=null&&m3(r.length)&&!g3(r)}var wu=y3,v3=yu,w3=b3,_3=wu;function E3(r){return _3(r)?v3(r):w3(r)}var l0=E3,A3=us,S3=l0;function T3(r,e){return r&&A3(e,S3(e),r)}var k3=T3;function M3(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}var P3=M3,N3=Xi,I3=c0,B3=P3,R3=Object.prototype,C3=R3.hasOwnProperty;function O3(r){if(!N3(r))return B3(r);var e=I3(r),t=[];for(var n in r)n=="constructor"&&(e||!C3.call(r,n))||t.push(n);return t}var F3=O3,$3=yu,L3=F3,U3=wu;function D3(r){return U3(r)?$3(r,!0):L3(r)}var u0=D3,j3=us,G3=u0;function z3(r,e){return r&&j3(e,G3(e),r)}var q3=z3,h0={exports:{}};(function(r,e){var t=hr,n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,o=i&&i.exports===n,s=o?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(f,l){if(l)return f.slice();var b=f.length,y=a?a(b):new f.constructor(b);return f.copy(y),y}r.exports=c})(h0,h0.exports);function H3(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e}var V3=H3;function K3(r,e){for(var t=-1,n=r==null?0:r.length,i=0,o=[];++t<n;){var s=r[t];e(s,t,r)&&(o[i++]=s)}return o}var W3=K3;function J3(){return[]}var _u=J3,Z3=W3,X3=_u,Y3=Object.prototype,Q3=Y3.propertyIsEnumerable,Eu=Object.getOwnPropertySymbols,e6=Eu?function(r){return r==null?[]:(r=Object(r),Z3(Eu(r),function(e){return Q3.call(r,e)}))}:X3,d0=e6,t6=us,r6=d0;function n6(r,e){return t6(r,r6(r),e)}var i6=n6;function o6(r,e){for(var t=-1,n=e.length,i=r.length;++t<n;)r[i+t]=e[t];return r}var Au=o6,s6=vu,a6=s6(Object.getPrototypeOf,Object),Su=a6,f6=Au,c6=Su,l6=d0,u6=_u,h6=Object.getOwnPropertySymbols,d6=h6?function(r){for(var e=[];r;)f6(e,l6(r)),r=c6(r);return e}:u6,Tu=d6,x6=us,p6=Tu;function b6(r,e){return x6(r,p6(r),e)}var g6=b6,m6=Au,y6=a0;function v6(r,e,t){var n=e(r);return y6(r)?n:m6(n,t(r))}var ku=v6,w6=ku,_6=d0,E6=l0;function A6(r){return w6(r,E6,_6)}var S6=A6,T6=ku,k6=Tu,M6=u0;function P6(r){return T6(r,M6,k6)}var N6=P6,I6=Tn,B6=hr,R6=I6(B6,"DataView"),C6=R6,O6=Tn,F6=hr,$6=O6(F6,"Promise"),L6=$6,U6=Tn,D6=hr,j6=U6(D6,"Set"),G6=j6,z6=Tn,q6=hr,H6=z6(q6,"WeakMap"),V6=H6,x0=C6,p0=s0,b0=L6,g0=G6,m0=V6,Mu=fs,oi=fu,Pu="[object Map]",K6="[object Object]",Nu="[object Promise]",Iu="[object Set]",Bu="[object WeakMap]",Ru="[object DataView]",W6=oi(x0),J6=oi(p0),Z6=oi(b0),X6=oi(g0),Y6=oi(m0),kn=Mu;(x0&&kn(new x0(new ArrayBuffer(1)))!=Ru||p0&&kn(new p0)!=Pu||b0&&kn(b0.resolve())!=Nu||g0&&kn(new g0)!=Iu||m0&&kn(new m0)!=Bu)&&(kn=function(r){var e=Mu(r),t=e==K6?r.constructor:void 0,n=t?oi(t):"";if(n)switch(n){case W6:return Ru;case J6:return Pu;case Z6:return Nu;case X6:return Iu;case Y6:return Bu}return e});var y0=kn,Q6=Object.prototype,ev=Q6.hasOwnProperty;function tv(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&ev.call(r,"index")&&(t.index=r.index,t.input=r.input),t}var rv=tv,nv=hr,iv=nv.Uint8Array,ov=iv,Cu=ov;function sv(r){var e=new r.constructor(r.byteLength);return new Cu(e).set(new Cu(r)),e}var v0=sv,av=v0;function fv(r,e){var t=e?av(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}var cv=fv,lv=/\w*$/;function uv(r){var e=new r.constructor(r.source,lv.exec(r));return e.lastIndex=r.lastIndex,e}var hv=uv,Ou=i0,Fu=Ou?Ou.prototype:void 0,$u=Fu?Fu.valueOf:void 0;function dv(r){return $u?Object($u.call(r)):{}}var xv=dv,pv=v0;function bv(r,e){var t=e?pv(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}var gv=bv,mv=v0,yv=cv,vv=hv,wv=xv,_v=gv,Ev="[object Boolean]",Av="[object Date]",Sv="[object Map]",Tv="[object Number]",kv="[object RegExp]",Mv="[object Set]",Pv="[object String]",Nv="[object Symbol]",Iv="[object ArrayBuffer]",Bv="[object DataView]",Rv="[object Float32Array]",Cv="[object Float64Array]",Ov="[object Int8Array]",Fv="[object Int16Array]",$v="[object Int32Array]",Lv="[object Uint8Array]",Uv="[object Uint8ClampedArray]",Dv="[object Uint16Array]",jv="[object Uint32Array]";function Gv(r,e,t){var n=r.constructor;switch(e){case Iv:return mv(r);case Ev:case Av:return new n(+r);case Bv:return yv(r,t);case Rv:case Cv:case Ov:case Fv:case $v:case Lv:case Uv:case Dv:case jv:return _v(r,t);case Sv:return new n;case Tv:case Pv:return new n(r);case kv:return vv(r);case Mv:return new n;case Nv:return wv(r)}}var zv=Gv,qv=Xi,Lu=Object.create,Hv=function(){function r(){}return function(e){if(!qv(e))return{};if(Lu)return Lu(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),Vv=Hv,Kv=Vv,Wv=Su,Jv=c0;function Zv(r){return typeof r.constructor=="function"&&!Jv(r)?Kv(Wv(r)):{}}var Xv=Zv,Yv=y0,Qv=Yi,e4="[object Map]";function t4(r){return Qv(r)&&Yv(r)==e4}var r4=t4,n4=r4,i4=f0,Uu=Qi.exports,Du=Uu&&Uu.isMap,o4=Du?i4(Du):n4,s4=o4,a4=y0,f4=Yi,c4="[object Set]";function l4(r){return f4(r)&&a4(r)==c4}var u4=l4,h4=u4,d4=f0,ju=Qi.exports,Gu=ju&&ju.isSet,x4=Gu?d4(Gu):h4,p4=x4,b4=R2,g4=O2,m4=du,y4=k3,v4=q3,w4=h0.exports,_4=V3,E4=i6,A4=g6,S4=S6,T4=N6,k4=y0,M4=rv,P4=zv,N4=Xv,I4=a0,B4=hs.exports,R4=s4,C4=Xi,O4=p4,F4=l0,$4=u0,L4=1,U4=2,D4=4,zu="[object Arguments]",j4="[object Array]",G4="[object Boolean]",z4="[object Date]",q4="[object Error]",qu="[object Function]",H4="[object GeneratorFunction]",V4="[object Map]",K4="[object Number]",Hu="[object Object]",W4="[object RegExp]",J4="[object Set]",Z4="[object String]",X4="[object Symbol]",Y4="[object WeakMap]",Q4="[object ArrayBuffer]",e8="[object DataView]",t8="[object Float32Array]",r8="[object Float64Array]",n8="[object Int8Array]",i8="[object Int16Array]",o8="[object Int32Array]",s8="[object Uint8Array]",a8="[object Uint8ClampedArray]",f8="[object Uint16Array]",c8="[object Uint32Array]",Fe={};Fe[zu]=Fe[j4]=Fe[Q4]=Fe[e8]=Fe[G4]=Fe[z4]=Fe[t8]=Fe[r8]=Fe[n8]=Fe[i8]=Fe[o8]=Fe[V4]=Fe[K4]=Fe[Hu]=Fe[W4]=Fe[J4]=Fe[Z4]=Fe[X4]=Fe[s8]=Fe[a8]=Fe[f8]=Fe[c8]=!0;Fe[q4]=Fe[qu]=Fe[Y4]=!1;function ds(r,e,t,n,i,o){var s,a=e&L4,c=e&U4,f=e&D4;if(t&&(s=i?t(r,n,i,o):t(r)),s!==void 0)return s;if(!C4(r))return r;var l=I4(r);if(l){if(s=M4(r),!a)return _4(r,s)}else{var b=k4(r),y=b==qu||b==H4;if(B4(r))return w4(r,a);if(b==Hu||b==zu||y&&!i){if(s=c||y?{}:N4(r),!a)return c?A4(r,v4(s,r)):E4(r,y4(s,r))}else{if(!Fe[b])return i?r:{};s=P4(r,b,a)}}o||(o=new b4);var v=o.get(r);if(v)return v;o.set(r,s),O4(r)?r.forEach(function(w){s.add(ds(w,e,t,w,r,o))}):R4(r)&&r.forEach(function(w,I){s.set(I,ds(w,e,t,I,r,o))});var _=f?c?T4:S4:c?$4:F4,S=l?void 0:_(r);return g4(S||r,function(w,I){S&&(I=w,w=r[I]),m4(s,I,ds(w,e,t,I,r,o))}),s}var l8=ds,u8=l8,h8=1,d8=4;function x8(r){return u8(r,h8|d8)}var p8=x8,b8=rt&&rt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.formatNVMReceipt=Xr.formatNVMTx=Xr.setTxOptionsForL2=void 0;const g8=b8(p8),m8=r=>{const e=(0,g8.default)(r),t=e.formatter.block.bind(e.formatter);e.formatter.block=s=>{const a=t(s);return a.stateRoot=s.stateRoot,a};const n=e.formatter.blockWithTransactions.bind(e.formatter);e.formatter.blockWithTransactions=s=>{const a=n(s);a.stateRoot=s.stateRoot;for(let c=0;c<a.transactions.length;c++)a.transactions[c].l1BlockNumber=s.transactions[c].l1BlockNumber,a.transactions[c].l1BlockNumber!=null&&(a.transactions[c].l1BlockNumber=parseInt(a.transactions[c].l1BlockNumber,16)),a.transactions[c].l1Timestamp=s.transactions[c].l1Timestamp,a.transactions[c].l1Timestamp!=null&&(a.transactions[c].l1Timestamp=parseInt(a.transactions[c].l1Timestamp,16)),a.transactions[c].l1TxOrigin=s.transactions[c].l1TxOrigin,a.transactions[c].queueOrigin=s.transactions[c].queueOrigin,a.transactions[c].rawTransaction=s.transactions[c].rawTransaction;return a};const i=e.formatter.transactionResponse.bind(e.formatter);e.formatter.transactionResponse=s=>{const a=i(s);return a.txType=s.txType,a.queueOrigin=s.queueOrigin,a.rawTransaction=s.rawTransaction,a.l1BlockNumber=s.l1BlockNumber,a.l1Timestamp=s.l1Timestamp,a.l1BlockNumber!=null&&(a.l1BlockNumber=parseInt(a.l1BlockNumber,16)),a.l1Timestamp!=null&&(a.l1Timestamp=parseInt(a.l1Timestamp,16)),a.l1TxOrigin=s.l1TxOrigin,a};const o=e.formatter.receipt.bind(e.formatter);return e.formatter.receipt=s=>{const a=o(s);return a.nvmTransactionHash=s.nvmTransactionHash,a.operatorSignature=s.operatorSignature,a},e};Xr.setTxOptionsForL2=m8;const y8=r=>({timestamp:r.l1Timestamp,blockNumber:r.l1BlockNumber,l1QueueOrigin:r.queueOrigin==="sequencer"?0:1,l1TxOrigin:r.l1TxOrigin||"0x0000000000000000000000000000000000000000",entrypoint:"0x4200000000000000000000000000000000000005",gasLimit:"11000000",data:r.rawTransaction});Xr.formatNVMTx=y8;const v8=r=>({index:r.blockNumber,stateRoot:r.root,nvmTransactionHash:r.nvmTransactionHash,operatorSignature:r.operatorSignature||"0x"+"0".repeat(64)});Xr.formatNVMReceipt=v8;var Vu={},w0={},_0={},xs={};xs.byteLength=E8;xs.toByteArray=S8;xs.fromByteArray=M8;var dr=[],Lt=[],w8=typeof Uint8Array!="undefined"?Uint8Array:Array,E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var si=0,_8=E0.length;si<_8;++si)dr[si]=E0[si],Lt[E0.charCodeAt(si)]=si;Lt["-".charCodeAt(0)]=62;Lt["_".charCodeAt(0)]=63;function Ku(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function E8(r){var e=Ku(r),t=e[0],n=e[1];return(t+n)*3/4-n}function A8(r,e,t){return(e+t)*3/4-t}function S8(r){var e,t=Ku(r),n=t[0],i=t[1],o=new w8(A8(r,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=Lt[r.charCodeAt(c)]<<18|Lt[r.charCodeAt(c+1)]<<12|Lt[r.charCodeAt(c+2)]<<6|Lt[r.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Lt[r.charCodeAt(c)]<<2|Lt[r.charCodeAt(c+1)]>>4,o[s++]=e&255),i===1&&(e=Lt[r.charCodeAt(c)]<<10|Lt[r.charCodeAt(c+1)]<<4|Lt[r.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function T8(r){return dr[r>>18&63]+dr[r>>12&63]+dr[r>>6&63]+dr[r&63]}function k8(r,e,t){for(var n,i=[],o=e;o<t;o+=3)n=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),i.push(T8(n));return i.join("")}function M8(r){for(var e,t=r.length,n=t%3,i=[],o=16383,s=0,a=t-n;s<a;s+=o)i.push(k8(r,s,s+o>a?a:s+o));return n===1?(e=r[t-1],i.push(dr[e>>2]+dr[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(dr[e>>10]+dr[e>>4&63]+dr[e<<2&63]+"=")),i.join("")}var A0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */A0.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,f=c>>1,l=-7,b=t?i-1:0,y=t?-1:1,v=r[e+b];for(b+=y,o=v&(1<<-l)-1,v>>=-l,l+=a;l>0;o=o*256+r[e+b],b+=y,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+r[e+b],b+=y,l-=8);if(o===0)o=1-f;else{if(o===c)return s?NaN:(v?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-f}return(v?-1:1)*s*Math.pow(2,o-n)};A0.write=function(r,e,t,n,i,o){var s,a,c,f=o*8-i-1,l=(1<<f)-1,b=l>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,_=n?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+b>=1?e+=y/c:e+=y*Math.pow(2,1-b),e*c>=2&&(s++,c/=2),s+b>=l?(a=0,s=l):s+b>=1?(a=(e*c-1)*Math.pow(2,i),s=s+b):(a=e*Math.pow(2,b-1)*Math.pow(2,i),s=0));i>=8;r[t+v]=a&255,v+=_,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;r[t+v]=s&255,v+=_,s/=256,f-=8);r[t+v-_]|=S*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=xs,t=A0,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=U,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const E=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(E,h),E.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function s(E){if(E>i)throw new RangeError('The value "'+E+'" is invalid for option "size"');const h=new Uint8Array(E);return Object.setPrototypeOf(h,a.prototype),h}function a(E,h,x){if(typeof E=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(E)}return c(E,h,x)}a.poolSize=8192;function c(E,h,x){if(typeof E=="string")return y(E,h);if(ArrayBuffer.isView(E))return _(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(ge(E,ArrayBuffer)||E&&ge(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ge(E,SharedArrayBuffer)||E&&ge(E.buffer,SharedArrayBuffer)))return S(E,h,x);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=E.valueOf&&E.valueOf();if(M!=null&&M!==E)return a.from(M,h,x);const C=w(E);if(C)return C;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return a.from(E[Symbol.toPrimitive]("string"),h,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}a.from=function(E,h,x){return c(E,h,x)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function l(E,h,x){return f(E),E<=0?s(E):h!==void 0?typeof x=="string"?s(E).fill(h,x):s(E).fill(h):s(E)}a.alloc=function(E,h,x){return l(E,h,x)};function b(E){return f(E),s(E<0?0:I(E)|0)}a.allocUnsafe=function(E){return b(E)},a.allocUnsafeSlow=function(E){return b(E)};function y(E,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const x=H(E,h)|0;let M=s(x);const C=M.write(E,h);return C!==x&&(M=M.slice(0,C)),M}function v(E){const h=E.length<0?0:I(E.length)|0,x=s(h);for(let M=0;M<h;M+=1)x[M]=E[M]&255;return x}function _(E){if(ge(E,Uint8Array)){const h=new Uint8Array(E);return S(h.buffer,h.byteOffset,h.byteLength)}return v(E)}function S(E,h,x){if(h<0||E.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<h+(x||0))throw new RangeError('"length" is outside of buffer bounds');let M;return h===void 0&&x===void 0?M=new Uint8Array(E):x===void 0?M=new Uint8Array(E,h):M=new Uint8Array(E,h,x),Object.setPrototypeOf(M,a.prototype),M}function w(E){if(a.isBuffer(E)){const h=I(E.length)|0,x=s(h);return x.length===0||E.copy(x,0,0,h),x}if(E.length!==void 0)return typeof E.length!="number"||Dt(E.length)?s(0):v(E);if(E.type==="Buffer"&&Array.isArray(E.data))return v(E.data)}function I(E){if(E>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return E|0}function U(E){return+E!=E&&(E=0),a.alloc(+E)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,x){if(ge(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),ge(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(h)||!a.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===x)return 0;let M=h.length,C=x.length;for(let D=0,z=Math.min(M,C);D<z;++D)if(h[D]!==x[D]){M=h[D],C=x[D];break}return M<C?-1:C<M?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,x){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);let M;if(x===void 0)for(x=0,M=0;M<h.length;++M)x+=h[M].length;const C=a.allocUnsafe(x);let D=0;for(M=0;M<h.length;++M){let z=h[M];if(ge(z,Uint8Array))D+z.length>C.length?(a.isBuffer(z)||(z=a.from(z)),z.copy(C,D)):Uint8Array.prototype.set.call(C,z,D);else if(a.isBuffer(z))z.copy(C,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=z.length}return C};function H(E,h){if(a.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||ge(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const x=E.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&x===0)return 0;let C=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return Ut(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return Wt(E).length;default:if(C)return M?-1:Ut(E).length;h=(""+h).toLowerCase(),C=!0}}a.byteLength=H;function J(E,h,x){let M=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,h>>>=0,x<=h))return"";for(E||(E="utf8");;)switch(E){case"hex":return P(this,h,x);case"utf8":case"utf-8":return A(this,h,x);case"ascii":return B(this,h,x);case"latin1":case"binary":return $(this,h,x);case"base64":return g(this,h,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,h,x);default:if(M)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),M=!0}}a.prototype._isBuffer=!0;function V(E,h,x){const M=E[h];E[h]=E[x],E[x]=M}a.prototype.swap16=function(){const h=this.length;if(h%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<h;x+=2)V(this,x,x+1);return this},a.prototype.swap32=function(){const h=this.length;if(h%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<h;x+=4)V(this,x,x+3),V(this,x+1,x+2);return this},a.prototype.swap64=function(){const h=this.length;if(h%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<h;x+=8)V(this,x,x+7),V(this,x+1,x+6),V(this,x+2,x+5),V(this,x+3,x+4);return this},a.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?A(this,0,h):J.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){let h="";const x=r.INSPECT_MAX_BYTES;return h=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(h+=" ... "),"<Buffer "+h+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(h,x,M,C,D){if(ge(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(x===void 0&&(x=0),M===void 0&&(M=h?h.length:0),C===void 0&&(C=0),D===void 0&&(D=this.length),x<0||M>h.length||C<0||D>this.length)throw new RangeError("out of range index");if(C>=D&&x>=M)return 0;if(C>=D)return-1;if(x>=M)return 1;if(x>>>=0,M>>>=0,C>>>=0,D>>>=0,this===h)return 0;let z=D-C,se=M-x;const Se=Math.min(z,se),le=this.slice(C,D),he=h.slice(x,M);for(let ve=0;ve<Se;++ve)if(le[ve]!==he[ve]){z=le[ve],se=he[ve];break}return z<se?-1:se<z?1:0};function Q(E,h,x,M,C){if(E.length===0)return-1;if(typeof x=="string"?(M=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,Dt(x)&&(x=C?0:E.length-1),x<0&&(x=E.length+x),x>=E.length){if(C)return-1;x=E.length-1}else if(x<0)if(C)x=0;else return-1;if(typeof h=="string"&&(h=a.from(h,M)),a.isBuffer(h))return h.length===0?-1:te(E,h,x,M,C);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(E,h,x):Uint8Array.prototype.lastIndexOf.call(E,h,x):te(E,[h],x,M,C);throw new TypeError("val must be string, number or Buffer")}function te(E,h,x,M,C){let D=1,z=E.length,se=h.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(E.length<2||h.length<2)return-1;D=2,z/=2,se/=2,x/=2}function Se(he,ve){return D===1?he[ve]:he.readUInt16BE(ve*D)}let le;if(C){let he=-1;for(le=x;le<z;le++)if(Se(E,le)===Se(h,he===-1?0:le-he)){if(he===-1&&(he=le),le-he+1===se)return he*D}else he!==-1&&(le-=le-he),he=-1}else for(x+se>z&&(x=z-se),le=x;le>=0;le--){let he=!0;for(let ve=0;ve<se;ve++)if(Se(E,le+ve)!==Se(h,ve)){he=!1;break}if(he)return le}return-1}a.prototype.includes=function(h,x,M){return this.indexOf(h,x,M)!==-1},a.prototype.indexOf=function(h,x,M){return Q(this,h,x,M,!0)},a.prototype.lastIndexOf=function(h,x,M){return Q(this,h,x,M,!1)};function re(E,h,x,M){x=Number(x)||0;const C=E.length-x;M?(M=Number(M),M>C&&(M=C)):M=C;const D=h.length;M>D/2&&(M=D/2);let z;for(z=0;z<M;++z){const se=parseInt(h.substr(z*2,2),16);if(Dt(se))return z;E[x+z]=se}return z}function ne(E,h,x,M){return Ae(Ut(h,E.length-x),E,x,M)}function fe(E,h,x,M){return Ae(Ie(h),E,x,M)}function N(E,h,x,M){return Ae(Wt(h),E,x,M)}function u(E,h,x,M){return Ae(Be(h,E.length-x),E,x,M)}a.prototype.write=function(h,x,M,C){if(x===void 0)C="utf8",M=this.length,x=0;else if(M===void 0&&typeof x=="string")C=x,M=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(M)?(M=M>>>0,C===void 0&&(C="utf8")):(C=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-x;if((M===void 0||M>D)&&(M=D),h.length>0&&(M<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let z=!1;for(;;)switch(C){case"hex":return re(this,h,x,M);case"utf8":case"utf-8":return ne(this,h,x,M);case"ascii":case"latin1":case"binary":return fe(this,h,x,M);case"base64":return N(this,h,x,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,h,x,M);default:if(z)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(E,h,x){return h===0&&x===E.length?e.fromByteArray(E):e.fromByteArray(E.slice(h,x))}function A(E,h,x){x=Math.min(E.length,x);const M=[];let C=h;for(;C<x;){const D=E[C];let z=null,se=D>239?4:D>223?3:D>191?2:1;if(C+se<=x){let Se,le,he,ve;switch(se){case 1:D<128&&(z=D);break;case 2:Se=E[C+1],(Se&192)==128&&(ve=(D&31)<<6|Se&63,ve>127&&(z=ve));break;case 3:Se=E[C+1],le=E[C+2],(Se&192)==128&&(le&192)==128&&(ve=(D&15)<<12|(Se&63)<<6|le&63,ve>2047&&(ve<55296||ve>57343)&&(z=ve));break;case 4:Se=E[C+1],le=E[C+2],he=E[C+3],(Se&192)==128&&(le&192)==128&&(he&192)==128&&(ve=(D&15)<<18|(Se&63)<<12|(le&63)<<6|he&63,ve>65535&&ve<1114112&&(z=ve))}}z===null?(z=65533,se=1):z>65535&&(z-=65536,M.push(z>>>10&1023|55296),z=56320|z&1023),M.push(z),C+=se}return k(M)}const T=4096;function k(E){const h=E.length;if(h<=T)return String.fromCharCode.apply(String,E);let x="",M=0;for(;M<h;)x+=String.fromCharCode.apply(String,E.slice(M,M+=T));return x}function B(E,h,x){let M="";x=Math.min(E.length,x);for(let C=h;C<x;++C)M+=String.fromCharCode(E[C]&127);return M}function $(E,h,x){let M="";x=Math.min(E.length,x);for(let C=h;C<x;++C)M+=String.fromCharCode(E[C]);return M}function P(E,h,x){const M=E.length;(!h||h<0)&&(h=0),(!x||x<0||x>M)&&(x=M);let C="";for(let D=h;D<x;++D)C+=Re[E[D]];return C}function d(E,h,x){const M=E.slice(h,x);let C="";for(let D=0;D<M.length-1;D+=2)C+=String.fromCharCode(M[D]+M[D+1]*256);return C}a.prototype.slice=function(h,x){const M=this.length;h=~~h,x=x===void 0?M:~~x,h<0?(h+=M,h<0&&(h=0)):h>M&&(h=M),x<0?(x+=M,x<0&&(x=0)):x>M&&(x=M),x<h&&(x=h);const C=this.subarray(h,x);return Object.setPrototypeOf(C,a.prototype),C};function m(E,h,x){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+h>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,x,M){h=h>>>0,x=x>>>0,M||m(h,x,this.length);let C=this[h],D=1,z=0;for(;++z<x&&(D*=256);)C+=this[h+z]*D;return C},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,x,M){h=h>>>0,x=x>>>0,M||m(h,x,this.length);let C=this[h+--x],D=1;for(;x>0&&(D*=256);)C+=this[h+--x]*D;return C},a.prototype.readUint8=a.prototype.readUInt8=function(h,x){return h=h>>>0,x||m(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,x){return h=h>>>0,x||m(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,x){return h=h>>>0,x||m(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,x){return h=h>>>0,x||m(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,x){return h=h>>>0,x||m(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readBigUInt64LE=_e(function(h){h=h>>>0,ue(h,"offset");const x=this[h],M=this[h+7];(x===void 0||M===void 0)&&ce(h,this.length-8);const C=x+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,D=this[++h]+this[++h]*2**8+this[++h]*2**16+M*2**24;return BigInt(C)+(BigInt(D)<<BigInt(32))}),a.prototype.readBigUInt64BE=_e(function(h){h=h>>>0,ue(h,"offset");const x=this[h],M=this[h+7];(x===void 0||M===void 0)&&ce(h,this.length-8);const C=x*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],D=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+M;return(BigInt(C)<<BigInt(32))+BigInt(D)}),a.prototype.readIntLE=function(h,x,M){h=h>>>0,x=x>>>0,M||m(h,x,this.length);let C=this[h],D=1,z=0;for(;++z<x&&(D*=256);)C+=this[h+z]*D;return D*=128,C>=D&&(C-=Math.pow(2,8*x)),C},a.prototype.readIntBE=function(h,x,M){h=h>>>0,x=x>>>0,M||m(h,x,this.length);let C=x,D=1,z=this[h+--C];for(;C>0&&(D*=256);)z+=this[h+--C]*D;return D*=128,z>=D&&(z-=Math.pow(2,8*x)),z},a.prototype.readInt8=function(h,x){return h=h>>>0,x||m(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,x){h=h>>>0,x||m(h,2,this.length);const M=this[h]|this[h+1]<<8;return M&32768?M|4294901760:M},a.prototype.readInt16BE=function(h,x){h=h>>>0,x||m(h,2,this.length);const M=this[h+1]|this[h]<<8;return M&32768?M|4294901760:M},a.prototype.readInt32LE=function(h,x){return h=h>>>0,x||m(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,x){return h=h>>>0,x||m(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readBigInt64LE=_e(function(h){h=h>>>0,ue(h,"offset");const x=this[h],M=this[h+7];(x===void 0||M===void 0)&&ce(h,this.length-8);const C=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(M<<24);return(BigInt(C)<<BigInt(32))+BigInt(x+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),a.prototype.readBigInt64BE=_e(function(h){h=h>>>0,ue(h,"offset");const x=this[h],M=this[h+7];(x===void 0||M===void 0)&&ce(h,this.length-8);const C=(x<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(C)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+M)}),a.prototype.readFloatLE=function(h,x){return h=h>>>0,x||m(h,4,this.length),t.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,x){return h=h>>>0,x||m(h,4,this.length),t.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,x){return h=h>>>0,x||m(h,8,this.length),t.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,x){return h=h>>>0,x||m(h,8,this.length),t.read(this,h,!1,52,8)};function R(E,h,x,M,C,D){if(!a.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>C||h<D)throw new RangeError('"value" argument is out of bounds');if(x+M>E.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,x,M,C){if(h=+h,x=x>>>0,M=M>>>0,!C){const se=Math.pow(2,8*M)-1;R(this,h,x,M,se,0)}let D=1,z=0;for(this[x]=h&255;++z<M&&(D*=256);)this[x+z]=h/D&255;return x+M},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,x,M,C){if(h=+h,x=x>>>0,M=M>>>0,!C){const se=Math.pow(2,8*M)-1;R(this,h,x,M,se,0)}let D=M-1,z=1;for(this[x+D]=h&255;--D>=0&&(z*=256);)this[x+D]=h/z&255;return x+M},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,1,255,0),this[x]=h&255,x+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,2,65535,0),this[x]=h&255,this[x+1]=h>>>8,x+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,2,65535,0),this[x]=h>>>8,this[x+1]=h&255,x+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,4,4294967295,0),this[x+3]=h>>>24,this[x+2]=h>>>16,this[x+1]=h>>>8,this[x]=h&255,x+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,4,4294967295,0),this[x]=h>>>24,this[x+1]=h>>>16,this[x+2]=h>>>8,this[x+3]=h&255,x+4};function j(E,h,x,M,C){ie(h,M,C,E,x,7);let D=Number(h&BigInt(4294967295));E[x++]=D,D=D>>8,E[x++]=D,D=D>>8,E[x++]=D,D=D>>8,E[x++]=D;let z=Number(h>>BigInt(32)&BigInt(4294967295));return E[x++]=z,z=z>>8,E[x++]=z,z=z>>8,E[x++]=z,z=z>>8,E[x++]=z,x}function F(E,h,x,M,C){ie(h,M,C,E,x,7);let D=Number(h&BigInt(4294967295));E[x+7]=D,D=D>>8,E[x+6]=D,D=D>>8,E[x+5]=D,D=D>>8,E[x+4]=D;let z=Number(h>>BigInt(32)&BigInt(4294967295));return E[x+3]=z,z=z>>8,E[x+2]=z,z=z>>8,E[x+1]=z,z=z>>8,E[x]=z,x+8}a.prototype.writeBigUInt64LE=_e(function(h,x=0){return j(this,h,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=_e(function(h,x=0){return F(this,h,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(h,x,M,C){if(h=+h,x=x>>>0,!C){const Se=Math.pow(2,8*M-1);R(this,h,x,M,Se-1,-Se)}let D=0,z=1,se=0;for(this[x]=h&255;++D<M&&(z*=256);)h<0&&se===0&&this[x+D-1]!==0&&(se=1),this[x+D]=(h/z>>0)-se&255;return x+M},a.prototype.writeIntBE=function(h,x,M,C){if(h=+h,x=x>>>0,!C){const Se=Math.pow(2,8*M-1);R(this,h,x,M,Se-1,-Se)}let D=M-1,z=1,se=0;for(this[x+D]=h&255;--D>=0&&(z*=256);)h<0&&se===0&&this[x+D+1]!==0&&(se=1),this[x+D]=(h/z>>0)-se&255;return x+M},a.prototype.writeInt8=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,1,127,-128),h<0&&(h=255+h+1),this[x]=h&255,x+1},a.prototype.writeInt16LE=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,2,32767,-32768),this[x]=h&255,this[x+1]=h>>>8,x+2},a.prototype.writeInt16BE=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,2,32767,-32768),this[x]=h>>>8,this[x+1]=h&255,x+2},a.prototype.writeInt32LE=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,4,2147483647,-2147483648),this[x]=h&255,this[x+1]=h>>>8,this[x+2]=h>>>16,this[x+3]=h>>>24,x+4},a.prototype.writeInt32BE=function(h,x,M){return h=+h,x=x>>>0,M||R(this,h,x,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[x]=h>>>24,this[x+1]=h>>>16,this[x+2]=h>>>8,this[x+3]=h&255,x+4},a.prototype.writeBigInt64LE=_e(function(h,x=0){return j(this,h,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=_e(function(h,x=0){return F(this,h,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function p(E,h,x,M,C,D){if(x+M>E.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function L(E,h,x,M,C){return h=+h,x=x>>>0,C||p(E,h,x,4),t.write(E,h,x,M,23,4),x+4}a.prototype.writeFloatLE=function(h,x,M){return L(this,h,x,!0,M)},a.prototype.writeFloatBE=function(h,x,M){return L(this,h,x,!1,M)};function G(E,h,x,M,C){return h=+h,x=x>>>0,C||p(E,h,x,8),t.write(E,h,x,M,52,8),x+8}a.prototype.writeDoubleLE=function(h,x,M){return G(this,h,x,!0,M)},a.prototype.writeDoubleBE=function(h,x,M){return G(this,h,x,!1,M)},a.prototype.copy=function(h,x,M,C){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(M||(M=0),!C&&C!==0&&(C=this.length),x>=h.length&&(x=h.length),x||(x=0),C>0&&C<M&&(C=M),C===M||h.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),h.length-x<C-M&&(C=h.length-x+M);const D=C-M;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,M,C):Uint8Array.prototype.set.call(h,this.subarray(M,C),x),D},a.prototype.fill=function(h,x,M,C){if(typeof h=="string"){if(typeof x=="string"?(C=x,x=0,M=this.length):typeof M=="string"&&(C=M,M=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(h.length===1){const z=h.charCodeAt(0);(C==="utf8"&&z<128||C==="latin1")&&(h=z)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(x<0||this.length<x||this.length<M)throw new RangeError("Out of range index");if(M<=x)return this;x=x>>>0,M=M===void 0?this.length:M>>>0,h||(h=0);let D;if(typeof h=="number")for(D=x;D<M;++D)this[D]=h;else{const z=a.isBuffer(h)?h:a.from(h,C),se=z.length;if(se===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(D=0;D<M-x;++D)this[D+x]=z[D%se]}return this};const K={};function W(E,h,x){K[E]=class extends x{constructor(){super();Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(E,h){return`The "${E}" argument must be of type number. Received type ${typeof h}`},TypeError),W("ERR_OUT_OF_RANGE",function(E,h,x){let M=`The value of "${E}" is out of range.`,C=x;return Number.isInteger(x)&&Math.abs(x)>2**32?C=X(String(x)):typeof x=="bigint"&&(C=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(C=X(C)),C+="n"),M+=` It must be ${h}. Received ${C}`,M},RangeError);function X(E){let h="",x=E.length;const M=E[0]==="-"?1:0;for(;x>=M+4;x-=3)h=`_${E.slice(x-3,x)}${h}`;return`${E.slice(0,x)}${h}`}function oe(E,h,x){ue(h,"offset"),(E[h]===void 0||E[h+x]===void 0)&&ce(h,E.length-(x+1))}function ie(E,h,x,M,C,D){if(E>x||E<h){const z=typeof h=="bigint"?"n":"";let se;throw D>3?h===0||h===BigInt(0)?se=`>= 0${z} and < 2${z} ** ${(D+1)*8}${z}`:se=`>= -(2${z} ** ${(D+1)*8-1}${z}) and < 2 ** ${(D+1)*8-1}${z}`:se=`>= ${h}${z} and <= ${x}${z}`,new K.ERR_OUT_OF_RANGE("value",se,E)}oe(M,C,D)}function ue(E,h){if(typeof E!="number")throw new K.ERR_INVALID_ARG_TYPE(h,"number",E)}function ce(E,h,x){throw Math.floor(E)!==E?(ue(E,x),new K.ERR_OUT_OF_RANGE(x||"offset","an integer",E)):h<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE(x||"offset",`>= ${x?1:0} and <= ${h}`,E)}const de=/[^+/0-9A-Za-z-_]/g;function Ne(E){if(E=E.split("=")[0],E=E.trim().replace(de,""),E.length<2)return"";for(;E.length%4!=0;)E=E+"=";return E}function Ut(E,h){h=h||1/0;let x;const M=E.length;let C=null;const D=[];for(let z=0;z<M;++z){if(x=E.charCodeAt(z),x>55295&&x<57344){if(!C){if(x>56319){(h-=3)>-1&&D.push(239,191,189);continue}else if(z+1===M){(h-=3)>-1&&D.push(239,191,189);continue}C=x;continue}if(x<56320){(h-=3)>-1&&D.push(239,191,189),C=x;continue}x=(C-55296<<10|x-56320)+65536}else C&&(h-=3)>-1&&D.push(239,191,189);if(C=null,x<128){if((h-=1)<0)break;D.push(x)}else if(x<2048){if((h-=2)<0)break;D.push(x>>6|192,x&63|128)}else if(x<65536){if((h-=3)<0)break;D.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((h-=4)<0)break;D.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return D}function Ie(E){const h=[];for(let x=0;x<E.length;++x)h.push(E.charCodeAt(x)&255);return h}function Be(E,h){let x,M,C;const D=[];for(let z=0;z<E.length&&!((h-=2)<0);++z)x=E.charCodeAt(z),M=x>>8,C=x%256,D.push(C),D.push(M);return D}function Wt(E){return e.toByteArray(Ne(E))}function Ae(E,h,x,M){let C;for(C=0;C<M&&!(C+x>=h.length||C>=E.length);++C)h[C+x]=E[C];return C}function ge(E,h){return E instanceof h||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===h.name}function Dt(E){return E!==E}const Re=function(){const E="0123456789abcdef",h=new Array(256);for(let x=0;x<16;++x){const M=x*16;for(let C=0;C<16;++C)h[M+C]=E[x]+E[C]}return h}();function _e(E){return typeof BigInt=="undefined"?xr:E}function xr(){throw new Error("BigInt not supported")}})(_0);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeHex=r.padHexString=r.toRpcHexString=r.toHexString=r.fromHexString=r.add0x=r.remove0x=void 0;const e=_0,t=os,n=l=>l===void 0?l:l.startsWith("0x")?l.slice(2):l;r.remove0x=n;const i=l=>l===void 0||l.startsWith("0x")?l:"0x"+l;r.add0x=i;const o=l=>typeof l=="string"&&l.startsWith("0x")?e.Buffer.from(l.slice(2),"hex"):e.Buffer.from(l);r.fromHexString=o;const s=l=>typeof l=="number"?t.BigNumber.from(l).toHexString():"0x"+(0,r.fromHexString)(l).toString("hex");r.toHexString=s;const a=l=>{let b;return typeof l=="number"?b="0x"+l.toString(16):b=l.toHexString(),b==="0x0"?b:b.replace(/^0x0/,"0x")};r.toRpcHexString=a;const c=(l,b)=>l.length===2+b*2?l:"0x"+l.slice(2).padStart(b*2,"0");r.padHexString=c;const f=(l,b)=>(0,r.remove0x)(t.BigNumber.from(l).toHexString()).padStart(b,"0");r.encodeHex=f})(w0);var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.predeploys=void 0;ai.predeploys={NVM_L2ToL1MessagePasser:"0x4200000000000000000000000000000000000000",NVM_L1MessageSender:"0x4200000000000000000000000000000000000001",NVM_DeployerWhitelist:"0x4200000000000000000000000000000000000002",NVM_ECDSAContractAccount:"0x4200000000000000000000000000000000000003",NVM_SequencerEntrypoint:"0x4200000000000000000000000000000000000005",NVM_ETH:"0x4200000000000000000000000000000000000006",NVM_L2CrossDomainMessenger:"0x4200000000000000000000000000000000000007",Lib_AddressManager:"0x4200000000000000000000000000000000000008",NVM_ProxyEOA:"0x4200000000000000000000000000000000000009",NVM_ExecutionManagerWrapper:"0x420000000000000000000000000000000000000B",NVM_GasPriceOracle:"0x420000000000000000000000000000000000000F",NVM_SequencerFeeVault:"0x4200000000000000000000000000000000000011",NVM_L2StandardBridge:"0x4200000000000000000000000000000000000010",ERC1820Registry:"0x1820a4B7618BdE71Dce8cdc73aAB6C95905faD24"};var S0={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getLength=r.decode=r.encodeLength=r.safeParseInt=r.encode=void 0;const e=_0,t=_=>{if(Array.isArray(_)){const S=[];for(const I of _)S.push((0,r.encode)(I));const w=e.Buffer.concat(S);return e.Buffer.concat([(0,r.encodeLength)(w.length,192),w])}else{const S=v(_);return S.length===1&&S[0]<128?S:e.Buffer.concat([(0,r.encodeLength)(S.length,128),S])}};r.encode=t;const n=(_,S)=>{if(_[0]==="0"&&_[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(_,S)};r.safeParseInt=n;const i=(_,S)=>{if(_<56)return e.Buffer.from([_+S]);{const w=l(_),I=w.length/2,U=l(S+55+I);return e.Buffer.from(U+w,"hex")}};r.encodeLength=i;const o=_=>{if(!_||_.length===0)return e.Buffer.from([]);const S=v(_),w=a(S);if(w.remainder.length!==0)throw new Error("invalid remainder");return w.data};r.decode=o;const s=_=>{if(!_||_.length===0)return e.Buffer.from([]);const S=v(_),w=S[0];if(w<=127)return S.length;if(w<=183)return w-127;if(w<=191)return w-182;if(w<=247)return w-191;{const I=w-246,U=(0,r.safeParseInt)(S.slice(1,I).toString("hex"),16);return I+U}};r.getLength=s;const a=_=>{let S,w,I,U,H;const J=[],V=_[0];if(V<=127)return{data:_.slice(0,1),remainder:_.slice(1)};if(V<=183){if(S=V-127,V===128?I=e.Buffer.from([]):I=_.slice(1,S),S===2&&I[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:I,remainder:_.slice(S)}}else if(V<=191){if(w=V-182,_.length-1<w)throw new Error("invalid RLP: not enough bytes for string length");if(S=(0,r.safeParseInt)(_.slice(1,w).toString("hex"),16),S<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(I=_.slice(w,S+w),I.length<S)throw new Error("invalid RLP: not enough bytes for string");return{data:I,remainder:_.slice(S+w)}}else if(V<=247){for(S=V-191,U=_.slice(1,S);U.length;)H=a(U),J.push(H.data),U=H.remainder;return{data:J,remainder:_.slice(S)}}else{w=V-246,S=(0,r.safeParseInt)(_.slice(1,w).toString("hex"),16);const Q=w+S;if(Q>_.length)throw new Error("invalid rlp: total length is larger than the data");if(U=_.slice(w,Q),U.length===0)throw new Error("invalid rlp, List has a invalid length");for(;U.length;)H=a(U),J.push(H.data),U=H.remainder;return{data:J,remainder:_.slice(Q)}}},c=_=>_.slice(0,2)==="0x",f=_=>c(_)?_.slice(2):_,l=_=>{if(_<0)throw new Error("Invalid integer as argument, must be unsigned!");const S=_.toString(16);return S.length%2?`0${S}`:S},b=_=>_.length%2?`0${_}`:_,y=_=>{const S=l(_);return e.Buffer.from(S,"hex")},v=_=>{if(!e.Buffer.isBuffer(_)){if(typeof _=="string")return c(_)?e.Buffer.from(b(f(_)),"hex"):e.Buffer.from(_);if(typeof _=="number"||typeof _=="bigint")return _?y(_):e.Buffer.from([]);if(_==null)return e.Buffer.from([]);if(_ instanceof Uint8Array)return e.Buffer.from(_);throw new Error("invalid type")}return _}})(S0);(function(r){var e=rt&&rt.__createBinding||(Object.create?function(l,b,y,v){v===void 0&&(v=y),Object.defineProperty(l,v,{enumerable:!0,get:function(){return b[y]}})}:function(l,b,y,v){v===void 0&&(v=y),l[v]=b[y]}),t=rt&&rt.__setModuleDefault||(Object.create?function(l,b){Object.defineProperty(l,"default",{enumerable:!0,value:b})}:function(l,b){l.default=b}),n=rt&&rt.__importStar||function(l){if(l&&l.__esModule)return l;var b={};if(l!=null)for(var y in l)y!=="default"&&Object.prototype.hasOwnProperty.call(l,y)&&e(b,l,y);return t(b,l),b};Object.defineProperty(r,"__esModule",{value:!0}),r.GetTransactionProof=r.getStateTrieProof=void 0;const i=os,o=w0,s=ai,a=n(S0),c=async(l,b,y,v)=>{const _=await l.send("eth_getProof",[y,[v],(0,o.toRpcHexString)(b)]);return{accountProof:(0,o.toHexString)(a.encode(_.accountProof)),storageProof:(0,o.toHexString)(a.encode(_.storageProof[0].proof))}};r.getStateTrieProof=c;const f=async(l,b,y,v)=>{const _=i.ethers.utils.keccak256(i.ethers.utils.keccak256(l+(0,o.remove0x)(y))+"00".repeat(32)),S=await(0,r.getStateTrieProof)(v,b.blockNumber,s.predeploys.NVM_L2ToL1MessagePasser,_);return{stateRoot:b.root,stateTrieWitness:S.accountProof,storageTrieWitness:S.storageProof}};r.GetTransactionProof=f})(Vu);const P8="hh-sol-artifact-1",N8="iNVM_L1CrossDomainMessenger",I8="contracts/nahmii/iNVM/bridge/messaging/iNVM_L1CrossDomainMessenger.sol",B8=[{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"FailedRelayedMessage",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"RelayedMessage",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"message",type:"bytes"}],name:"SentMessage",type:"event"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes",name:"_message",type:"bytes"},{internalType:"uint256",name:"_messageNonce",type:"uint256"},{components:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"enum Lib_NVMCodec.QueueOrigin",name:"l1QueueOrigin",type:"uint8"},{internalType:"address",name:"l1TxOrigin",type:"address"},{internalType:"address",name:"entrypoint",type:"address"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Lib_NVMCodec.Transaction",name:"_ovmTransaction",type:"tuple"},{components:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"bytes32",name:"stateRoot",type:"bytes32"},{internalType:"bytes32",name:"nvmTransactionHash",type:"bytes32"},{internalType:"bytes",name:"operatorSignature",type:"bytes"}],internalType:"struct Lib_NVMCodec.Receipt",name:"_receipt",type:"tuple"},{components:[{internalType:"bytes32",name:"stateRoot",type:"bytes32"},{internalType:"bytes",name:"stateTrieWitness",type:"bytes"},{internalType:"bytes",name:"storageTrieWitness",type:"bytes"}],internalType:"struct iNVM_L1CrossDomainMessenger.L2MessageInclusionProof",name:"_proof",type:"tuple"}],name:"relayMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes",name:"_message",type:"bytes"},{internalType:"uint256",name:"_queueIndex",type:"uint256"},{internalType:"uint32",name:"_gasLimit",type:"uint32"}],name:"replayMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"bytes",name:"_message",type:"bytes"},{internalType:"uint32",name:"_gasLimit",type:"uint32"}],name:"sendMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"xDomainMessageSender",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],R8="0x",C8="0x",O8={},F8={};var $8={_format:P8,contractName:N8,sourceName:I8,abi:B8,bytecode:R8,deployedBytecode:C8,linkReferences:O8,deployedLinkReferences:F8};const L8="hh-sol-artifact-1",U8="NVM_L2CrossDomainMessenger",D8="contracts/nahmii/NVM/bridge/messaging/NVM_L2CrossDomainMessenger.sol",j8=[{inputs:[{internalType:"address",name:"_libAddressManager",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"FailedRelayedMessage",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"RelayedMessage",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"message",type:"bytes"}],name:"SentMessage",type:"event"},{inputs:[],name:"libAddressManager",outputs:[{internalType:"contract Lib_AddressManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"messageNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes",name:"_message",type:"bytes"},{internalType:"uint256",name:"_messageNonce",type:"uint256"}],name:"relayMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"relayedMessages",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"}],name:"resolve",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"bytes",name:"_message",type:"bytes"},{internalType:"uint32",name:"_gasLimit",type:"uint32"}],name:"sendMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"sentMessages",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"successfulMessages",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"xDomainMessageSender",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],G8="0x",z8="0x",q8={},H8={};var V8={_format:L8,contractName:U8,sourceName:D8,abi:j8,bytecode:G8,deployedBytecode:z8,linkReferences:q8,deployedLinkReferences:H8};(function(r){var e=rt&&rt.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.relayL2ToL1Messages=r.sleep=r.getMessagesAndProofsForL2Transaction=r.getL2ToL1MessagesByBlock=r.getL2ToL1MessagesByTransactionHash=r.relayResults=void 0;const t=os,n=Xr,i=Vu,o=ai,s=e($8),a=e(V8);var c;(function(S){S[S.success=0]="success",S[S.alreadyRelayed=1]="alreadyRelayed",S[S.failed=2]="failed",S[S.notSent=3]="notSent"})(c=r.relayResults||(r.relayResults={}));const f=async(S,w,I)=>{const U=await S.getTransaction(I);if((U==null?void 0:U.blockNumber)==null)throw new Error(`unable to find tx with hash: ${I}`);return(0,r.getL2ToL1MessagesByBlock)(S,w,U.blockNumber)};r.getL2ToL1MessagesByTransactionHash=f;const l=async(S,w,I)=>{const U=new t.ethers.utils.Interface(a.default.abi),H=new t.ethers.Contract(w,U,S),J=typeof I=="number"?[I,I]:[I];return(await H.queryFilter(H.filters.SentMessage(),...J)).filter(te=>{var re;return((re=te==null?void 0:te.args)===null||re===void 0?void 0:re.message)!==void 0}).map(te=>{var re;const ne=(re=te==null?void 0:te.args)===null||re===void 0?void 0:re.message,fe=H.interface.decodeFunctionData("relayMessage",ne);return{target:fe._target,sender:fe._sender,message:fe._message,messageNonce:fe._messageNonce.toNumber()}})};r.getL2ToL1MessagesByBlock=l;const b=async(S,w,I)=>{typeof S=="string"&&(S=new t.ethers.providers.JsonRpcProvider(S));const U=await(0,n.setTxOptionsForL2)(S).getTransactionReceipt(I);if(U==null)throw new Error(`unable to find receipt with hash: ${I}`);const H=await(0,r.getL2ToL1MessagesByTransactionHash)(S,w,I),J=[];for(const V of H){const Q=await(0,i.GetTransactionProof)(y(V),U,w,S);J.push({message:V,proof:Q})}return J};r.getMessagesAndProofsForL2Transaction=b;const y=S=>new t.ethers.utils.Interface(a.default.abi).encodeFunctionData("relayMessage",[S.target,S.sender,S.message,S.messageNonce]),v=async S=>new Promise((w,I)=>{setTimeout(()=>{w()},S)});r.sleep=v;const _=async(S,w,I,U,H,J=5,V=1,Q)=>{const te=(0,n.setTxOptionsForL2)(U),re=await te.getTransaction(S),ne=await te.getTransactionReceipt(S),fe=(0,n.formatNVMTx)(re),N=(0,n.formatNVMReceipt)(ne),u=new t.ethers.utils.Interface(s.default.abi),g=new t.ethers.Contract(w,u,I),A=await(0,r.getMessagesAndProofsForL2Transaction)(te,o.predeploys.NVM_L2CrossDomainMessenger,S),T=A.map(k=>({success:c.notSent,message:k.message,messageProof:k.proof}));for(const[k,{message:B,proof:$}]of A.entries()){let P=0;const d=[];for(T[k].exceptions=d;;)try{const m=await g.connect(H).relayMessage(B.target,B.sender,B.message,B.messageNonce,fe,N,$);Q&&Q(m);const R=await m.wait(V);T[k]=Object.assign(Object.assign({},T[k]),{success:c.success,transactionReceipt:R});break}catch(m){if(m instanceof Error){if(m.message.includes("message has already been received")){T[k].success=c.alreadyRelayed;break}if((m.message.includes("execution failed due to an exception")||m.message.includes("Nonce too low"))&&P<J){P++,await(0,r.sleep)(1e3);continue}d.push(m)}return T[k].success=c.failed,T}}return T};r.relayL2ToL1Messages=_})(n0);var Wu={};const K8="hh-sol-artifact-1",W8="NVM_L2StandardBridge",J8="contracts/nahmii/NVM/bridge/tokens/NVM_L2StandardBridge.sol",Z8=[{inputs:[{internalType:"address",name:"_l2CrossDomainMessenger",type:"address"},{internalType:"address",name:"_l1TokenBridge",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_l1Token",type:"address"},{indexed:!0,internalType:"address",name:"_l2Token",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!1,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_data",type:"bytes"}],name:"DepositFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_l1Token",type:"address"},{indexed:!0,internalType:"address",name:"_l2Token",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!1,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_data",type:"bytes"}],name:"DepositFinalized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_l1Token",type:"address"},{indexed:!0,internalType:"address",name:"_l2Token",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!1,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_data",type:"bytes"}],name:"WithdrawalInitiated",type:"event"},{inputs:[{internalType:"address",name:"_l1Token",type:"address"},{internalType:"address",name:"_l2Token",type:"address"},{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"finalizeDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"l1TokenBridge",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"messenger",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_l2Token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint32",name:"_l1Gas",type:"uint32"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_l2Token",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint32",name:"_l1Gas",type:"uint32"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],X8="0x",Y8="0x",Q8={},e5={};var t5={_format:K8,contractName:W8,sourceName:J8,abi:Z8,bytecode:X8,deployedBytecode:Y8,linkReferences:Q8,deployedLinkReferences:e5};(function(r){var e=rt&&rt.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(r,"__esModule",{value:!0}),r.finalizeWithdrawal=r.initiateWithdrawal=r.relayL2ToL1Messages=void 0;const t=os,n=ai,i=e(t5),o=n0;Object.defineProperty(r,"relayL2ToL1Messages",{enumerable:!0,get:function(){return o.relayL2ToL1Messages}});const s=async(a,c,f,l)=>{const b=new t.ethers.utils.Interface(i.default.abi);return await new t.ethers.Contract(n.predeploys.NVM_L2StandardBridge,b,f).connect(l).withdraw(a,c,0,"0x")};r.initiateWithdrawal=s,r.finalizeWithdrawal=o.relayL2ToL1Messages})(Wu);(function(r){var e=rt&&rt.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),t=rt&&rt.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(r,"__esModule",{value:!0}),t(n0,r),t(S0,r),t(w0,r),t(Wu,r)})(Db);var r5="";function Ju(r,e){return(e==null?void 0:e.noPrefix)===!0?r:""+r5+r}function A5(r,e,t){var n=Ju(r,t);try{localStorage.setItem(n,JSON.stringify({data:e}))}catch{console&&console.warn(`Lockr didn't successfully save the '{"`+r+'": "'+e+`"}' pair, because the localStorage is full.`)}}function S5(r,e,t){var n=Ju(r,t),i,o=localStorage.getItem(n);try{o!==null&&(i=JSON.parse(o))}catch{localStorage[n]?i={data:localStorage.getItem(n)}:i=null}if(i){if(typeof i=="object"&&typeof i.data!="undefined")return i.data}else return e}var Zu={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(r){(function(e,t){r.exports?r.exports=t():e.numeral=t()})(rt,function(){var e,t,n="2.0.6",i={},o={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function c(f,l){this._input=f,this._value=l}return e=function(f){var l,b,y,v;if(e.isNumeral(f))l=f.value();else if(f===0||typeof f=="undefined")l=0;else if(f===null||t.isNaN(f))l=null;else if(typeof f=="string")if(a.zeroFormat&&f===a.zeroFormat)l=0;else if(a.nullFormat&&f===a.nullFormat||!f.replace(/[^0-9]+/g,"").length)l=null;else{for(b in i)if(v=typeof i[b].regexps.unformat=="function"?i[b].regexps.unformat():i[b].regexps.unformat,v&&f.match(v)){y=i[b].unformat;break}y=y||e._.stringToNumber,l=y(f)}else l=Number(f)||null;return new c(f,l)},e.version=n,e.isNumeral=function(f){return f instanceof c},e._=t={numberToFormat:function(f,l,b){var y=o[e.options.currentLocale],v=!1,_=!1,S=0,w="",I=1e12,U=1e9,H=1e6,J=1e3,V="",Q=!1,te,re,ne,fe,N,u,g;if(f=f||0,re=Math.abs(f),e._.includes(l,"(")?(v=!0,l=l.replace(/[\(|\)]/g,"")):(e._.includes(l,"+")||e._.includes(l,"-"))&&(N=e._.includes(l,"+")?l.indexOf("+"):f<0?l.indexOf("-"):-1,l=l.replace(/[\+|\-]/g,"")),e._.includes(l,"a")&&(te=l.match(/a(k|m|b|t)?/),te=te?te[1]:!1,e._.includes(l," a")&&(w=" "),l=l.replace(new RegExp(w+"a[kmbt]?"),""),re>=I&&!te||te==="t"?(w+=y.abbreviations.trillion,f=f/I):re<I&&re>=U&&!te||te==="b"?(w+=y.abbreviations.billion,f=f/U):re<U&&re>=H&&!te||te==="m"?(w+=y.abbreviations.million,f=f/H):(re<H&&re>=J&&!te||te==="k")&&(w+=y.abbreviations.thousand,f=f/J)),e._.includes(l,"[.]")&&(_=!0,l=l.replace("[.]",".")),ne=f.toString().split(".")[0],fe=l.split(".")[1],u=l.indexOf(","),S=(l.split(".")[0].split(",")[0].match(/0/g)||[]).length,fe?(e._.includes(fe,"[")?(fe=fe.replace("]",""),fe=fe.split("["),V=e._.toFixed(f,fe[0].length+fe[1].length,b,fe[1].length)):V=e._.toFixed(f,fe.length,b),ne=V.split(".")[0],e._.includes(V,".")?V=y.delimiters.decimal+V.split(".")[1]:V="",_&&Number(V.slice(1))===0&&(V="")):ne=e._.toFixed(f,0,b),w&&!te&&Number(ne)>=1e3&&w!==y.abbreviations.trillion)switch(ne=String(Number(ne)/1e3),w){case y.abbreviations.thousand:w=y.abbreviations.million;break;case y.abbreviations.million:w=y.abbreviations.billion;break;case y.abbreviations.billion:w=y.abbreviations.trillion;break}if(e._.includes(ne,"-")&&(ne=ne.slice(1),Q=!0),ne.length<S)for(var A=S-ne.length;A>0;A--)ne="0"+ne;return u>-1&&(ne=ne.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+y.delimiters.thousands)),l.indexOf(".")===0&&(ne=""),g=ne+V+(w||""),v?g=(v&&Q?"(":"")+g+(v&&Q?")":""):N>=0?g=N===0?(Q?"-":"+")+g:g+(Q?"-":"+"):Q&&(g="-"+g),g},stringToNumber:function(f){var l=o[a.currentLocale],b=f,y={thousand:3,million:6,billion:9,trillion:12},v,_,S;if(a.zeroFormat&&f===a.zeroFormat)_=0;else if(a.nullFormat&&f===a.nullFormat||!f.replace(/[^0-9]+/g,"").length)_=null;else{_=1,l.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(l.delimiters.decimal,"."));for(v in y)if(S=new RegExp("[^a-zA-Z]"+l.abbreviations[v]+"(?:\\)|(\\"+l.currency.symbol+")?(?:\\))?)?$"),b.match(S)){_*=Math.pow(10,y[v]);break}_*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),_*=Number(f)}return _},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,l){return f.indexOf(l)!==-1},insert:function(f,l,b){return f.slice(0,b)+l+f.slice(b)},reduce:function(f,l){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof l!="function")throw new TypeError(l+" is not a function");var b=Object(f),y=b.length>>>0,v=0,_;if(arguments.length===3)_=arguments[2];else{for(;v<y&&!(v in b);)v++;if(v>=y)throw new TypeError("Reduce of empty array with no initial value");_=b[v++]}for(;v<y;v++)v in b&&(_=l(_,b[v],v,b));return _},multiplier:function(f){var l=f.toString().split(".");return l.length<2?1:Math.pow(10,l[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(l,b){var y=t.multiplier(b);return l>y?l:y},1)},toFixed:function(f,l,b,y){var v=f.toString().split("."),_=l-(y||0),S,w,I,U;return v.length===2?S=Math.min(Math.max(v[1].length,_),l):S=_,I=Math.pow(10,S),U=(b(f+"e+"+S)/I).toFixed(S),y>l-S&&(w=new RegExp("\\.?0{1,"+(y-(l-S))+"}$"),U=U.replace(w,"")),U}},e.options=a,e.formats=i,e.locales=o,e.locale=function(f){return f&&(a.currentLocale=f.toLowerCase()),a.currentLocale},e.localeData=function(f){if(!f)return o[a.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in s)a[f]=s[f]},e.zeroFormat=function(f){a.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){a.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){a.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,l,b){if(l=l.toLowerCase(),this[f+"s"][l])throw new TypeError(l+" "+f+" already registered.");return this[f+"s"][l]=b,b},e.validate=function(f,l){var b,y,v,_,S,w,I,U;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{I=e.localeData(l)}catch{I=e.localeData(e.locale())}return v=I.currency.symbol,S=I.abbreviations,b=I.delimiters.decimal,I.delimiters.thousands==="."?y="\\.":y=I.delimiters.thousands,U=f.match(/^[^\d]+/),U!==null&&(f=f.substr(1),U[0]!==v)||(U=f.match(/[^\d]+$/),U!==null&&(f=f.slice(0,-1),U[0]!==S.thousand&&U[0]!==S.million&&U[0]!==S.billion&&U[0]!==S.trillion))?!1:(w=new RegExp(y+"{2}"),f.match(/[^\d.,]/g)?!1:(_=f.split(b),_.length>2?!1:_.length<2?!!_[0].match(/^\d+.*\d$/)&&!_[0].match(w):_[0].length===1?!!_[0].match(/^\d+$/)&&!_[0].match(w)&&!!_[1].match(/^\d+$/):!!_[0].match(/^\d+.*\d$/)&&!_[0].match(w)&&!!_[1].match(/^\d+$/)))},e.fn=c.prototype={clone:function(){return e(this)},format:function(f,l){var b=this._value,y=f||a.defaultFormat,v,_,S;if(l=l||Math.round,b===0&&a.zeroFormat!==null)_=a.zeroFormat;else if(b===null&&a.nullFormat!==null)_=a.nullFormat;else{for(v in i)if(y.match(i[v].regexps.format)){S=i[v].format;break}S=S||e._.numberToFormat,_=S(b,y,l)}return _},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var l=t.correctionFactor.call(null,this._value,f);function b(y,v,_,S){return y+Math.round(l*v)}return this._value=t.reduce([this._value,f],b,0)/l,this},subtract:function(f){var l=t.correctionFactor.call(null,this._value,f);function b(y,v,_,S){return y-Math.round(l*v)}return this._value=t.reduce([f],b,Math.round(this._value*l))/l,this},multiply:function(f){function l(b,y,v,_){var S=t.correctionFactor(b,y);return Math.round(b*S)*Math.round(y*S)/Math.round(S*S)}return this._value=t.reduce([this._value,f],l,1),this},divide:function(f){function l(b,y,v,_){var S=t.correctionFactor(b,y);return Math.round(b*S)/Math.round(y*S)}return this._value=t.reduce([this._value,f],l),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var l=f%10;return~~(f%100/10)==1?"th":l===1?"st":l===2?"nd":l===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,l,b){var y=e._.includes(l," BPS")?" ":"",v;return f=f*1e4,l=l.replace(/\s?BPS/,""),v=e._.numberToFormat(f,l,b),e._.includes(v,")")?(v=v.split(""),v.splice(-1,0,y+"BPS"),v=v.join("")):v=v+y+"BPS",v},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},l={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},b=f.suffixes.concat(l.suffixes.filter(function(v){return f.suffixes.indexOf(v)<0})),y=b.join("|");y="("+y.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(y)},format:function(v,_,S){var w,I=e._.includes(_,"ib")?l:f,U=e._.includes(_," b")||e._.includes(_," ib")?" ":"",H,J,V;for(_=_.replace(/\s?i?b/,""),H=0;H<=I.suffixes.length;H++)if(J=Math.pow(I.base,H),V=Math.pow(I.base,H+1),v===null||v===0||v>=J&&v<V){U+=I.suffixes[H],J>0&&(v=v/J);break}return w=e._.numberToFormat(v,_,S),w+U},unformat:function(v){var _=e._.stringToNumber(v),S,w;if(_){for(S=f.suffixes.length-1;S>=0;S--){if(e._.includes(v,f.suffixes[S])){w=Math.pow(f.base,S);break}if(e._.includes(v,l.suffixes[S])){w=Math.pow(l.base,S);break}}_*=w||1}return _}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,l,b){var y=e.locales[e.options.currentLocale],v={before:l.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:l.match(/([\+|\-|\)|\s|\$]*)$/)[0]},_,S,w;for(l=l.replace(/\s?\$\s?/,""),_=e._.numberToFormat(f,l,b),f>=0?(v.before=v.before.replace(/[\-\(]/,""),v.after=v.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(v.before,"-")&&!e._.includes(v.before,"(")&&(v.before="-"+v.before),w=0;w<v.before.length;w++)switch(S=v.before[w],S){case"$":_=e._.insert(_,y.currency.symbol,w);break;case" ":_=e._.insert(_," ",w+y.currency.symbol.length-1);break}for(w=v.after.length-1;w>=0;w--)switch(S=v.after[w],S){case"$":_=w===v.after.length-1?_+y.currency.symbol:e._.insert(_,y.currency.symbol,-(v.after.length-(1+w)));break;case" ":_=w===v.after.length-1?_+" ":e._.insert(_," ",-(v.after.length-(1+w)+y.currency.symbol.length-1));break}return _}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,l,b){var y,v=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",_=v.split("e");return l=l.replace(/e[\+|\-]{1}0/,""),y=e._.numberToFormat(Number(_[0]),l,b),y+"e"+_[1]},unformat:function(f){var l=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),b=Number(l[0]),y=Number(l[1]);y=e._.includes(f,"e-")?y*=-1:y;function v(_,S,w,I){var U=e._.correctionFactor(_,S),H=_*U*(S*U)/(U*U);return H}return e._.reduce([b,Math.pow(10,y)],v,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,l,b){var y=e.locales[e.options.currentLocale],v,_=e._.includes(l," o")?" ":"";return l=l.replace(/\s?o/,""),_+=y.ordinal(f),v=e._.numberToFormat(f,l,b),v+_}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,l,b){var y=e._.includes(l," %")?" ":"",v;return e.options.scalePercentBy100&&(f=f*100),l=l.replace(/\s?\%/,""),v=e._.numberToFormat(f,l,b),e._.includes(v,")")?(v=v.split(""),v.splice(-1,0,y+"%"),v=v.join("")):v=v+y+"%",v},unformat:function(f){var l=e._.stringToNumber(f);return e.options.scalePercentBy100?l*.01:l}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,l,b){var y=Math.floor(f/60/60),v=Math.floor((f-y*60*60)/60),_=Math.round(f-y*60*60-v*60);return y+":"+(v<10?"0"+v:v)+":"+(_<10?"0"+_:_)},unformat:function(f){var l=f.split(":"),b=0;return l.length===3?(b=b+Number(l[0])*60*60,b=b+Number(l[1])*60,b=b+Number(l[2])):l.length===2&&(b=b+Number(l[0])*60,b=b+Number(l[1])),Number(b)}})}(),e})})(Zu);var T5=Zu.exports;export{A5 as $,x5 as A,to as B,V0 as C,i5 as D,an as E,Ns as F,ht as G,N0 as H,b5 as I,m5 as J,yh as K,o5 as L,_5 as M,a5 as N,f5 as O,s5 as P,ln as Q,v5 as R,H0 as S,Ih as T,l5 as U,fi as V,is as W,Sr as X,Db as Y,zs as Z,S5 as _,cn as a,c5 as a0,Cr as a1,T5 as a2,d5 as a3,h5 as a4,$i as a5,Zl as a6,j0 as a7,w5 as a8,y5 as a9,$b as aa,Jl as ab,Y as ac,br as b,Pn as c,bt as d,pr as e,fn as f,$0 as g,u5 as h,q0 as i,Gs as j,Ps as k,oo as l,z0 as m,Is as n,ho as o,Mh as p,Ph as q,Us as r,ks as s,io as t,hn as u,xo as v,Ds as w,Or as x,g5 as y,p5 as z};
